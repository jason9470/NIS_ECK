@using NIS.Models;
@using NIS.Controllers;
@{
    Layout = "~/Views/Layout/FormLayout.cshtml";
    NIS.Data.PatientInfo pf = (NIS.Data.PatientInfo)Session["PatInfo"];
    NIS.Data.Complement_List complement_List = (NIS.Data.Complement_List)Session["Complement_List"];
    DateTime mindate = DateTime.Now;

    DateTime start = ViewBag.start;
    string end = ViewBag.end;
    string discharge_time = ViewBag.discharge_time;
    int end_date = ViewBag.discharge_day;
    if (discharge_time != "" && Convert.ToDateTime(discharge_time) < Convert.ToDateTime(end))
    {
        end = Convert.ToDateTime(discharge_time).ToString("yyyy/MM/dd");
    }
    else
    {
        end_date = 0;
    }
    if (discharge_time != "" && Convert.ToDateTime(discharge_time) < start)
    {
        start = Convert.ToDateTime(discharge_time);
    }

    if (complement_List.Status)
    { mindate = pf.InDate; }
    else
    {
        if (DateTime.Now.Hour < 10)
        { mindate = Convert.ToDateTime(DateTime.Now.AddDays(-1).ToString("yyyy/MM/dd 00:00")); }
        else
        { mindate = Convert.ToDateTime(DateTime.Now.ToString("yyyy/MM/dd 00:00")); }
        if (pf.InDate > mindate)
        { mindate = pf.InDate; }
    }

    ParamsData pd = (ParamsData)ViewData["dropdownitem"];
    VitalSignDataList vsdl = (VitalSignDataList)ViewData["vs_data"];
    Dictionary<string, string> falseReason = pd.getGroupData("falseReason");
    string funct_list_setting = (string)ViewData["func_list_setting"];
    string[] func_list = (string[])ViewData["func_list"];
    VitalSignData tmpData = null;

    int age = ViewBag.age;
    //比照controller 寫法 --> string type = get_check_type(ptinfo);
    string type = "a";
    if (age < 19)
    {
        type = "y";
    }

    if (age < 12)
    {
        type = "c";
    }

    if (age < 5)
    {
        type = "t";
        DateTime Birthday = pf.Birthday;
        int totalMonth = DateTime.Now.Year * 12 + DateTime.Now.Month - Birthday.Year * 12 - Birthday.Month;
        if (totalMonth < 18)
        {

            type = "b";
        }
        if (totalMonth < 1)
        {
            type = "n";
        }

    }




 <!-- #region 痰液用 從資料庫撈值 判斷 -->

    tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_s");
    string[] si_s_record = new string[] { "", "", "" };
    if (tmpData == null)
    {
        tmpData = new VitalSignData();
    }
    else if (tmpData.vs_record != "")
    {
        if (tmpData.vs_record.IndexOf("|") > -1)
        {
            si_s_record = tmpData.vs_record.Split('|');
        }
        else
        {
            si_s_record[0] = tmpData.vs_record;
            si_s_record[1] = tmpData.vs_record;
            si_s_record[2] = tmpData.vs_record;
        }
    }
    <!-- #endregion -->


     <!-- #region 臍帶用 從資料庫撈值 判斷 -->

    tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_c");
    string[] gi_c_record = new string[] { "", "" };
    if (tmpData == null)
    {
        tmpData = new VitalSignData();
    }
    else if (tmpData.vs_record != "")
    {
        if (tmpData.vs_record.IndexOf("|") > -1)
        {
            gi_c_record = tmpData.vs_record.Split('|');
        }
        else
        {
            gi_c_record[0] = tmpData.vs_record;
            gi_c_record[1] = tmpData.vs_record;

        }
    }

     <!-- #region 總膽紅素用 從資料庫撈值 判斷 -->
    tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_j");
    string[] gi_j_part = new string[] { "", "" };
    if (tmpData == null)
    {
        tmpData = new VitalSignData();
    }
    else if (tmpData.vs_record != "")
    {
        if (tmpData.vs_record.IndexOf("|") > -1)
        {
            gi_j_part = tmpData.vs_part.Split('|');
        }
        else
        {
            gi_j_part[0] = tmpData.vs_part;
        }
    }

         <!-- #region 身高 從資料庫撈值 判斷 -->
    tmpData = VitalSignData.getVSItem(vsdl.DataList, "bw");
    string[] bw_record = new string[] { "", "" };
    if (tmpData == null)
    {
        tmpData = new VitalSignData();
        bw_record[1] = "請選擇"; 
    }
    else
    {
        if (tmpData.vs_record != "")
        {
            if (tmpData.vs_record.Split('|').Length > 1)
            { bw_record = tmpData.vs_record.Split('|'); }
            else
            {
                bw_record[0] = tmpData.vs_record;
                bw_record[1] = "請選擇";
            }
        }
        else
        { bw_record[1] = "請選擇"; }
    }


    <!-- #region 排便無資料即不顯示欄位 -->
    VitalSignData tmpData_st = VitalSignData.getVSItem(vsdl.DataList, "st");
}
<link rel="stylesheet" type="text/css" href="~/Content/StyleSheet/VitalSignStyle.css" />
<style>
    #win_content {
        margin: 0px auto;
        *margin: 0px auto; /* ie7 */
        _margin: 0px auto; /* ie6 */
    }

    #win_footer {
        height: 22px;
        position: relative;
        text-align: right;
        padding: 10px 10px 10px 0px;
    }
</style>
<script type="text/javascript" src="~/Scripts/VitalSign/VitalSignSingle.js?@(DateTime.Now.ToString("yyyyMMddHHmmssfff"))"></script>
<script type="text/javascript">
    $(document).ready(function () {
        if (!$("#bpm_v").val()) {
            com_SDM_bph();
        }
        com_SDM_abp();
        com_SDM_pa();
        setdefault();

        //過濾欄位設定
        //check_vs_items("", "");

        @*alert(@(ViewData["func_list_setting"]));*@

        //評估時機切換
        $('select[name=ps_occasion]').unbind().bind("change", function () {
            if ($(this).val() != "請選擇" && $('input[name=ps_assess]:checked').val() == undefined) {
                $("input[name=ps_assess][value= 數字量表]").trigger("click");
            }
            update_ps_data_field();
        });

        //讓所有項目顯示 20171106
        $(".dataArea tbody").show().attr('hide', 'N');
        var check_st = '@(tmpData_st)';
        if (check_st == '') {
            $("#st").hide().attr('hide', 'Y');
        }
        setTimeout(build_def_val_attr, 500);

        //PICCO血流動力
        var picco_group = ['picco_co', 'picco_ci', 'picco_sv', 'picco_svi', 'picco_svr', 'picco_svri', 'picco_svv', 'picco_scvo2']; //血流動力
        var picco_len = picco_group.length;
        for (var i = 0; i <= picco_len - 1; i++) {
            var tmp = picco_group[i];
            check_if_input(tmp);
        }
    });

    //只要填值,護理記錄就打勾
    function check_if_input(item) {
        $("#" + item + "_text").change(function () {
            $("#VS_plan_" + item).attr("checked", true);
        });
    }

    function gasPart(obj) {
        var other = $("#gas_position").val();
        var part = $('input[name="gas_posture"]:checked').val();
        switch (obj) {
            case "other":
                $('#gas_posture_part_other').show().find('input[type=text]').val();
                $('#gas_posture_part_other input[type=text][name=gas_posture_record]').prop('disabled', false);
                $("#gas_part").val(part + "|" + other);
                $('#gas_position').val('');
                break;
            default:
                $('#gas_posture_part_other').hide();
                $('#gas_position').val('');
                $("#gas_part").val(part + "|" + part);
                break;

        }
    }


    //更新ps_data_field
    function update_ps_data_field() {
        $("#ps input[data-relate_field]").each(function (index, element) {
            var rel_list = $(this).attr("data-relate_field").split('|');
            var c_value = new Array();
            for (var i = 0; i <= rel_list.length - 1; i++) {
                var dom_type = $("[name='" + rel_list[i] + "']").getType();
                switch (dom_type) {
                    case 'select':
                        c_value[i] = $("select[name='" + rel_list[i] + "']").val();
                        break;
                    default:
                        c_value[i] = $("input[name='" + rel_list[i] + "']:checked").val();
                        break;
                }
            }
            $(this).val(c_value.join('|'));
        });
    }

    //新增預設值屬性
    function build_def_val_attr() {
        $("form[name=vs_upd_form]").find("tr input, tr textarea, tr select").each(function () {
            switch ($(this).getType()) {
                case 'textarea':
                case 'text':
                case "select":
                    $(this).attr('default', $(this).val());
                    break;
                case 'radio':
                case 'checkbox':
                    if ($(this).is(':checked') == true) {
                        $(this).attr('default', true);
                    } else {
                        $(this).attr('default', false);
                    }
                    break;
            }
        });
    }

    function com_SDM_bph() {

        if ($("#bph_text").val() != '' && $("#bpl_text").val != '') {
            var result = ($("#bph_text").val() / 3 + ($("#bpl_text").val() / 3 * 2));
            resultFixed = result.toFixed(2)
            document.getElementById('bpm').innerText = "(" + resultFixed + ") mmHg";
        }
    }

    function com_SDM_abp() {
        if ($("#abph_text").val() != '' && $("#abpl_text").val != '') {
            var result = ($("#abph_text").val() / 3 + ($("#abpl_text").val() / 3 * 2));
            resultFixed = result.toFixed(2)
            document.getElementById('abpm').innerText = "(" + resultFixed + ") mmHg";
        }
    }

    function com_SDM_pa() {
        if ($("#pah_text").val() != '' && $("#pal_text").val != '') {
            var result = ($("#pah_text").val() / 3 + ($("#pal_text").val() / 3 * 2));
            resultFixed = result.toFixed(2)
            document.getElementById('pam').innerText = "(" + resultFixed + ") mmHg";
        }
    }

    function setPee() {
        if ($('input[name=gi_u_record]:checked').val() === '無解尿' && $('#gi_u_value').val() != '0') {

            alert('選擇無解尿時，只能輸入0次')
            $('#gi_u_value').val('');

        }
        if ($('input[name=gi_u_record]:checked').val() === '結晶尿') {
            if ($('#gi_u_value').val() === '0') {
                alert('請輸入0以外的正確的次數')
                $('#gi_u_value').val('')
            }
        }
        if ($('input[name=gi_u_record]:checked').val() === '黃') {
            if ($('#gi_u_value').val() == '0') {
                alert('請輸入0以外的正確的次數')
                $('#gi_u_value').val('')
            }
        }
    }
    function checkPee() {
        if ($('#gi_u_value').val() == '') {
            alert('不得在"無解尿"以外輸入0次')
            $('#gi_u_value').val('')
        }
        if ($('#gi_u_value').val() == '0' && $('input[name=gi_u_record]:checked').val() != '無解尿') {
            alert('不得在"無解尿"以外輸入0次')
            $('#gi_u_value').val('')
        }

    }

    //痰液 dropDownList 欄位驗證
    function startClose(value) {

        var result = $(value).val()

        if (result == '無') {
            $(value).next().prop("disabled", true);
            $(value).next().next().prop("disabled", true);

        } else if (result == "") {
            $(value).next().prop("disabled", true);
            $(value).next().next().prop("disabled", true);
        }
        else {
            $(value).next().prop("disabled", false);
            $(value).next().next().prop("disabled", false);
        }
    }

    //帶出痰液原本的值
    function setdefault() {
        @*$('#sis option[value=' + "@si_s_record[0]" + ']').attr('selected', true);
        $('#sir option[value=' + "@si_s_record[1]" + ']').attr('selected', true);
        $('#sid option[value=' + "@si_s_record[2]" + ']').attr('selected', true);*@
        $("#sis").val("@si_s_record[0]");
        $("#sir").val("@si_s_record[1]");
        $("#sid").val("@si_s_record[2]");
        //痰液 預設一載入時若沒有選欄位則其他欄位disabled
        if ($('#sis').val() == "" || $('#sis').val() == "無") {
            $('#sir').prop("disabled", true);
            $('#sid').prop("disabled", true);
        } else {
            $('#sir').prop("disabled", false);
            $('#sid').prop("disabled", false);
        }

        $('#sis').change(function () {
            if ($('#sis').val() == "" || $('#sis').val() == "無") {
                $('#sir').prop("disabled", true);
                $('#sid').prop("disabled", true);
                //$('#sir option[value=' + "" + ']').attr('selected', true);
                //$('#sid option[value=' + "" + ']').attr('selected', true);
                $("#sir").val("");
                $("#sid").val("");

            }
            $('#sir option').attr('selected', false);
            $('#sid option').attr('selected', false);
        })

        //排便 dropDownList 驗證事件 若選擇請選擇則其他欄位跳回空值
        $('#stoolType').change(function () {
            if ($('#stoolType').val() == "請選擇") {
                $('#stoolColor').prop("disabled", true);
                $('#stoolColor option').attr('selected', false);
                $('#stoolColor option[value=' + "請選擇" + ']').attr('selected', true);
                $('#st_other input[name=' + 'st_record' + ']').prop("disabled", true);
                $('#st_other').hide().find('input[type=text]').val();
            } else if ($('#stoolType').val() != "請選擇"){
                $('#stoolColor').prop("disabled", false);
            }
        })


        //排便 如果性狀為其他則新增補述欄位 20180115 add by Bill

        $('#stoolType').change(function () {
            if ($('#stoolType').val() == "其他") {
                $('#st_other2').show().find('input[type=text]').val('');
            } else {
                $('#st_other2').hide().find('input[type=text]').val('');
            }
        })

        //排便 如果顏色為其他則新增補述欄位 20171024 add by AlanHuang
        $('#stoolColor').change(function () {
            if ($('#stoolColor').val() == "其他") {
                $('#st_other').show().find('input[type=text]').val('');
            } else {
                $('#st_other').hide().find('input[type=text]').val('');
            }
        })

        //排便 如果次數為0或空值則防呆 20180115
        $('#st_value').blur(function () {
            if ($('#st_value').val() == '0' || $('#st_value').val() == '') {
                $('#stoolType').prop('disabled', true);
                $('#stoolColor').prop('disabled', true);
                $('#stoolType option').attr('selected', false);
                $('#stoolType option[value=' + "請選擇" + ']').attr('selected', true);
                $('#stoolColor option').attr('selected', false);

                $('#st_other').hide().find('input[type=text]').val();
                $('#st_other input[name=' + 'st_record' + ']').prop("disabled", true);
                $('#st_other2').hide().find('input[type=text]').val();
                $('#st_other2 input[name=' + 'st_record' + ']').prop("disabled", true);
            } else {
                $('#stoolType').prop('disabled', false);
                $('#st_other input[name=' + 'st_record' + ']').prop("disabled", false);
                $('#st_other2 input[name=' + 'st_record' + ']').prop("disabled", false);
            };

        })
        //體重單位判斷選像
        @*$('#bw_record option[value=' + "@bw_record[1]" + ']').attr('selected', true);*@
        $('#bw_record').val("@bw_record[1]");

        //臍帶脫落判斷
        @*$('#gi_c_type option[value=' + "@gi_c_record[1]" + ']').attr('selected', true);*@
        $('#gi_c_type').val("@gi_c_record[1]");
        if ("@gi_c_record[0]" == "無脫落") {
            $('#gi_c_type').prop('disabled', false);
        }
        if ("@gi_c_record[0]" == "有脫落") {
            $('#gi_c_type').prop('disabled', true);
        }

        //總膽紅素判斷
        if ("@gi_j_part[0]" == "檢驗科") {
            $('#gi_j #gisearch').show();
        }
        if ("@gi_j_part[0]" == "儀器設備") {
            $('#gi_j #gisearch').hide();
        }

        //無解尿
        $('#gi_u input[type=radio][name=gi_u_record]').attr('onclick', 'noPee(this)');
    }


    function SetReason(obj) {
        var type = $(obj).closest('tr').find('input[name=vs_item]').val();
        if ($(obj).prop('checked')) {
            $('input[type=text][name=' + type + '_record]').val('').hide();
            $('#VS_plan_' + type).attr("checked", true);
        }
        else
            $('input[type=text][name=' + type + '_record]').show();
    }

    //尿液性質顯示問題
    function noPee(obj) {
        if (obj.value == "無解尿") {
            $('#gi_u_value').val('0');
            @*  無解尿不顯示0次
                $('#gi_u_value').prop("disabled", true);
                 } else {
            $('#gi_u_value').prop("disabled", false);
            *@
        }
    }

    //臍帶脫落顯示
    function Umbilical(obj) {
        switch (obj) {
            case "Y":
                $('#gi_c_type').prop('disabled', true);
                $('#gi_c_type option[value=' + '' + ']').attr('selected', true);
                break;
            case "N":
                $('#gi_c_type').prop('disabled', false);
                $('#gi_c_type option').attr('selected', false);
                break;
            default:
        }
    }

    //呼吸性質防呆
    function Breathe(obj) {
        switch (obj) {
            case "self":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            case "CPAP":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            case "Hood":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            case "spray":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            case "H":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            case "Respirator":
                $('textarea[name=si_b_record]').hide();
                $('textarea[name=si_b_record]').prop('disabled', true);
                break;
            default:
                $('textarea[name=si_b_record]').show().find('input[type=text]').val();
                $('textarea[name=si_b_record]').prop('disabled', false);
        }
    }

    //總膽紅素防呆
    function TBiltype(obj) {
        switch (obj) {
            case "check":
                $('#gi_j #giMemo').val('');
                $('#gi_j #gisearch').show();
                $('#gi_j #gisearch_m').hide();
                break;
            case "machine":
                $('#gi_j #giMemo').val('');
                $('#gi_j #gisearch').hide();
                $('#gi_j #gisearch_m').show();
                break;
            default:
                $('#gi_j #giMemo').val('');
                $('#gi_j #gisearch').hide();
                $('#gi_j #gisearch_m').show();
        }
    }

    //總膽紅素、大便潛血查詢按鍵功能
    function WS_Search(source, obj) {
        if (source == 'date_search') {
            source = $('#source').val();
        }
        if (source == 'TBil') {
            var url = "VitalSign_TBil";
        } else if (source == 'OccBlood') {
            var url = "VitalSign_OccBlood";
        }
        var range = obj;
        var feeno = $(".func_box #feeno").val();
        var start_date = $("#win_content #start_date").val();
        var end_date = $("#win_content #end_date").val();
        if (source == 'Gas') {
            var url = "VitalSign_Gas";
            start_date = $("#win_content #start_date_gas").val();
            end_date = $("#win_content #end_date_gas").val();
            $('#gasGrid').trigger('reloadGrid');
            showmodalGas(source);
        }
        $.ajax({
            url: url,
            type: 'POST',
            async: false,
            data: {
                range: range,
                feeno: feeno,
                start_date: start_date,
                end_date: end_date
            },
            success: function (data) {
                if (data.returnStr != "" && data.list != "") {
                    if (source == 'TBil') {
                        $('#giMemo').val(data.returnStr);
                    } else if (source == 'OccBlood') {
                        $('#gi_st_value').val(data.returnStr);
                    }
                    return false;
                }
                if (data.returnStr == "" && data.list == "" && data.search_type == "second") {
                    alert(data.msg);
                    $("#Dt tbody").html('')//清空
                    showmodal(source);
                    return false;
                }
                if (data.returnStr == "" && data.list == "" && data.search_type == "date_range") {
                    alert(data.msg);
                    $("#Dt tbody").html('')//清空
                    return false;
                }
                if (data.returnStr == "" && data.list != "") {
                    $("#Dt tbody").html('')//清空
                    var tr_str = "";
                    var item_tmp_html = $("#item_tmp");//取得樣板
                    $.each(data.list, function (i, obj) {
                        if (source == 'TBil') {
                            item_tmp_html.find('td[name=Date]').html(obj.UseDate);
                            item_tmp_html.find('td[name=Num_Value]').html(obj.T_Bilirubin);
                        } else if (source == 'OccBlood') {
                            item_tmp_html.find('td[name=Date]').html(obj.INSPTDT);
                            item_tmp_html.find('td[name=Num_Value]').html(obj.LabValue);
                        }
                        tr_str += item_tmp_html.html();
                    });
                    $('#Dt tbody').html(tr_str);
                    return false;
                }
            },
            error: function (jqXHR) {
                log(jqXHR);
                msg = '程式發生錯誤!';
            },
        });
    }
    //日期範圍選取後代入數值
    function WS_insert(type) {
        var check_type = false; //檢查是否執行帶入動作狀態
        if (type == 'date_search') {
            var source = $('#source').val();
        }
        if (source == 'TBil') {
            var target = 'giMemo';
            var alert_msg = '請選擇總膽紅素數值！';
        } else if (source == 'OccBlood') {
            var target = 'gi_st_value';
            var alert_msg = '請選擇大便潛血數值！';
        }

        $('#Dt tbody tr').each(function () {
            if ($(this).find("input[name='vs_id'] ").prop('checked')) {
                var NumValue = $(this).find("td[name='Num_Value'] ").text();
                $('#' + target).val(NumValue);
                check_type = true;
            }
        })
        if (check_type) {
            $.unblockUI();
        } else {
            alert(alert_msg);
        }
    }

    function showmodal(source) {
        if (source == 'Gas') {
            var div_view = $('#gas_modal');
        }
        else {
            var div_view = $('#drainage_modal');
        }
        if (source == 'TBil') {
            $('#win_header').html('總膽紅素查詢');
            $('#source').val('TBil');
        } else if (source == 'OccBlood') {
            $('#win_header').html('大便潛血查詢');
            $('#source').val('OccBlood');
        }
        else if (source == 'Gas') {
            $('#win_gas_header').html('血液氣體查詢');
            $('#source').val('Gas');

        }

        $.blockUI({
            message: div_view,
            onOverlayClick: $.unblockUI(),
            overlayCSS: {
                border: 'none',
                cursor: 'default'
            },
            css: {
                top: ($(window).height() - div_view.height()) / 2 + 'px',
                left: ($(window).width() - div_view.width()) / 2 + 'px',
                width: 'min-content',
                border: 'none',
                cursor: 'default'
            },
            onBlock: function () {
            }
        });
    }


    //VS欄位設定
    function check_vs_items(vs_item, func_list) {
        var $items = $("input[name=vs_item]");
        var funct_list_setting = $("#vs_item_func").attr("value").split('|');

        var myArray = ['bt', 'mp', 'bf', 'bp', 'sp', 'st', 'eat', 'ps', 'ra']; //基本欄位
        //   體溫,心跳 ,呼吸 ,血壓 ,血氧 ,排便,飲食,疼痛,RASS鎮靜程度評估  //基本欄位

        //圍長:body_Perimeter   , 血流動力:picco
        var body_Perimeter = ['gtwl', 'gthr', 'gtbu', 'gtbl', 'gthl', 'gtf', 'gtlf', 'gtrf', 'gtua', 'gtlua', 'gtrua', 'gtt', 'gtlt', 'gtrt', 'gtl', 'gtll', 'gtrl', 'gta', 'gtla', 'gtra'];
        var picco_group = ['picco', 'picco_co', 'picco_ci', 'picco_sv', 'picco_svi', 'picco_svr', 'picco_svri', 'picco_svv', 'picco_scvo2']; //血流動力
        var infant_sigroup = ['si', 'si_n','si_b','si_r','si_s','si_o']; //重症嬰兒
        var infant_gigroup = ['gi','gi_j','gi_c','gi_u']; //一般嬰兒

        var pcwp_group =['cm','abp','pcwp','pa'] //心血管監測

        for (var f in funct_list_setting) {
            myArray.push(funct_list_setting[f]);
        }

        //圍長
        var Perimeter_result = 0;
        Perimeter_result = return_groupResult(body_Perimeter, myArray);

        //picco
        var picco_result = 0;
        picco_result = return_groupResult(picco_group, myArray);

        //SI 重症嬰兒
        var len_sigroup = infant_sigroup.length;
        var infant_siresult = 0;
        infant_siresult = return_groupResult(infant_sigroup, myArray);

        //GI 一般嬰兒
        var len_gigroup = infant_gigroup.length;
        var infant_giresult = 0;
        infant_giresult = return_groupResult(infant_gigroup, myArray);

        //PCWP
        var pcwp_result = 0;
        pcwp_result = return_groupResult(pcwp_group, myArray);


        var item_list = "";
        $items.each(function (idx, elem) {
            value = $(this).attr('value');
            item_list += value +",";
        });

        var all_items = item_list.split(',');
        for (var j = 0; j < all_items.length-1; j++) {
                if (myArray.indexOf(all_items[j]) != -1) {
                    $("#" + all_items[j]).removeAttr("hide");
                    $("#" + all_items[j]).removeAttr("style");
                }
                else
                {
                    $("#" + all_items[j]).removeAttr("hide");
                    $("#" + all_items[j]).css('display', 'none');
                }
            }

        //只要有填圍長
        //show_items(Perimeter_result, "b_Perimeter");
        //if (Perimeter_result <= 0){
        //    $(".b_Perimeter").css('display', 'none');
        //    $(".b_Perimeter").removeAttr('hide');
        //    } else
        //{
        //    $(".b_Perimeter").removeAttr("style");
        //    $(".b_Perimeter").removeAttr('hide');
        //}

        //alert(myArray);
        //只要有血流動力
        show_items(picco_result, "picco");
        //if (picco_result<=0){
        //    $(".picco").css('display', 'none');
        //    $(".picco").removeAttr('hide');
        //}else
        //{
        //    $(".picco").removeAttr("style");
        //    $(".picco").removeAttr('hide');
        //}

        //PCWP
        show_items(pcwp_result, "cm");
        //if (pcwp_result <= 0) {
        //    $(".cm").css('display', 'none');
        //    $(".cm").removeAttr('hide');
        //} else {
        //    $(".cm").removeAttr("style");
        //    $(".cm").removeAttr('hide');
        //}

        //GI 一般嬰兒
        show_items(infant_giresult, "gi");
        //if (infant_giresult <= 0) {
        //    $(".gi").css('display', 'none');
        //    $(".gi").removeAttr('hide');
        //} else {
        //    $(".gi").removeAttr("style");
        //    $(".gi").removeAttr('hide');
        //}


        //SI 重症嬰兒
        show_items(infant_siresult, "si");
        //if (infant_siresult <= 0) {
        //    $(".si").css('display', 'none');
        //    $(".si").removeAttr('hide');
        //} else {
        //    $(".si").removeAttr("style");
        //    $(".si").removeAttr('hide');
        //}

        function return_groupResult(group_name, myArray)
        {
            var len_group = group_name.length;
            var group_result = 0;
            for (var i = 0; i <= len_group; i++) {
                var tmp = group_name[i];
                if (myArray.indexOf(tmp) != -1)
                    group_result += 1;
                else
                    group_result += 0;
            }

            return group_result;
        }

        function show_items(result, clss_name) {
            if (result <= 0) {
                $("." + clss_name).css('display', 'none');
                $("." + clss_name).removeAttr('hide');
            } else {
                $("." + clss_name).removeAttr("style");
                $("." + clss_name).removeAttr('hide');
            }
        }

    }
    function set_for_rb(id, default_val) {
        var rb = document.getElementsByName(id);
        for (var i = 0; i < rb.length; i++) {
            if (rb[i].value == default_val) {
                $(rb[i]).click();
            }
        }
    }
</script>

<!-- 功能列表 -->
<div class="func_box">
    <input type="hidden" id="feeno" value="@(pf.FeeNo)" />

    <button>更新</button>
    <button>返回</button>
    @*<button>設定</button>*@
    <button>往上<br />移動</button>
    <button>往下<br />移動</button>
    <span>輸入時間：<br />
        <input type="text" id="new_day" value="@Convert.ToDateTime(vsdl.DataList[0].create_date).ToString("yyyy/MM/dd")" />
        <input type="text" id="new_time" value="@Convert.ToDateTime(vsdl.DataList[0].create_date).ToString("HH:mm")" />
    </span>
    @*@WebTool.setDateTime("new_day", "new_time", "", "0", "", mindate.ToString("MM/dd/yyyy HH:mm:ss"))*@
    @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "new_day", "new_time", true)
</div>

<!-- 首欄固定 -->
<div class="dataHeader">
    <table border="0" cellpadding="4" cellspacing="1" width="100%">
        <tr>
            <td width="100">項目</td>
            <td width="200">部位</td>
            <td>紀錄值</td>
            <td width="160">處置</td>
            <td width="110">帶護理紀錄</td>
            @*//欄位設定控制*@
            @*將func_list_setting 存在欄位*@
            @*<td style="width: 40px; height: 40px;display: none" id="vs_item_func">@ViewData["func_list"]</td>*@
            <td style="width: 40px; height: 40px;display: none" id="vs_item_func" value="@ViewData["func_list_setting"]">@ViewData["func_list_setting"]</td>
        </tr>
    </table>
</div>
<div id="tmp"></div>
<!-- 資料編輯區 -->
<div class="dataArea">
    <form name="vs_upd_form" method="post" action="VitalSignUpdate">
        <input type="hidden" name="vs_id" value="@(vsdl.vsid)" />
        <input type="hidden" name="vs_date" value="@(ViewBag.date)" />
        <input type="hidden" id="new_date" name="new_date" value="" />
        <table border="0" cellpadding="4" cellspacing="1" width="100%" id="vs_table">
            <tbody id="bt" hide="@VitalSign_Helper.vs_tbody_ishide("bt", func_list)">
                <tr>
                    @{
                        @:<script type="text/javascript">
                              @:$(function () {
                            string[] other_memo = new string[4];
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "bt");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            other_memo = tmpData.vs_other_memo.Split('|');
                            if (tmpData.vs_other_memo != "" && other_memo.Length > 0)
                            {
                                if (other_memo[0] != "")
                                {
                                @:$('#bt_drug').val('@other_memo[0]');
                                    }
                                if (other_memo[1] != "")
                                {
                                @:$('#bt_drug_other').val('@other_memo[1]');
                                    }
                                if (other_memo[2] != "")
                                {
                                @:$('#bt_drug_amount').val('@other_memo[2]');
                                    }
                                if (other_memo[3] != "")
                                {
                                @:$('#bt_drug_unit').val('@other_memo[3]');
                                    }
                            }
                        }
                        @:var rb_list = document.getElementsByName('bt_part');
                            @:for(var i = 0; i < rb_list.length; i ++){
                                @:  if (rb_list[i].value == '@tmpData.vs_part')
                                        @:      $(rb_list[i]).click();
                                @:}
                            if (tmpData.vs_type != "" && tmpData.vs_type != "M")
                        {
                            @:$('#bt_hi_record').click();
                            }
                            @:$("input[type=checkbox][name=bt_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                @:SetReason($("input[type=checkbox][name=bt_reason]"));
                        @:});
                        @:</script>
                    }
                    <td width="100">
                        <label>體溫</label>
                        <input type="hidden" name="vs_item" value="bt" />
                        <label><input type="checkbox" name="bt_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                    </td>
                    <td width="200">
                        <label>
                            <input type="radio" name="bt_part" value="額溫" onclick="set_bt_f();" />額溫
                        </label>
                        <label>
                            <input type="radio" name="bt_part" value="耳溫" checked="checked" onclick="set_bt_e();" />耳溫
                        </label>
                        @*<label>
                            <input type="radio" name="bt_part" value="口溫" onclick="set_bt_m();" />口溫
                        </label>*@
                        <label>
                            <input type="radio" name="bt_part" value="腋溫" onclick="set_bt_a();" />腋溫
                        </label>
                        <label>
                            <input type="radio" name="bt_part" value="肛溫" onclick="set_bt_r();" />肛溫
                        </label>
                    </td>
                    <td>
                        測量值:
                        <input id="bt_text" type="text" name="bt_record" value="@(tmpData.vs_record)" setindex="Y" va_check="true" lo_check="btl_e" hi_check="bth_e" cr_model="bt" class="check" max_num="" min_num="" />
                        ℃
                    <br /><br />
                    <input type="checkbox" value="Y" id="bt_hi_record" name="bt_hi_record" /><label for="bt_hi_record">因前次體溫異常處置後的紀錄</label>
                    </td>
                    <td width="160">
                        @*<input type="text" name="bt_memo" class="tooltip" title="@(tmpData.vs_memo)" value="處置"/>
                        <input type="text" name="bt_other_memo" class="tooltip" title="@(tmpData.vs_other_memo)" value="藥品"/>*@
                        <select id="bt_drug" style="display:none" onchange="if($(this).val() == '99'){ $('#bt_drug_other_span').fadeIn(0); }else{ $('#bt_drug_other_span').fadeOut(0); $('#bt_drug_other').val(''); }">
                            <option value="-1">藥物/途徑</option>
                            <option value="Tinten po">Tinten po</option>
                            <option value="Cataflam po">Cataflam po</option>
                            <option value="Anti-phen po">Anti-phen po</option>
                            <option value="Idefen po">Idefen po</option>
                            <option value="keto IM">keto IM</option>
                            <option value="keto IV">keto IV</option>
                            <option value="99">其他</option>
                        </select> 
                        <span id="bt_drug_other_span" style="display:none;">
                            <br />藥名:@Html.TextBox("bt_drug_other", "", new { style = "width:100px;display:none", @class = "word" })<br />
                            數量
                        </span>
                        @Html.TextBox("bt_drug_amount", "", new { style = "width:50px;display:none" })
                        <select id="bt_drug_unit" style="display:none">
                            <option value="-1">單位</option>
                            <option value="mL">mL</option>
                            <option value="g">g</option>
                            <option value="mg">mg</option>
                        </select>
                        <input type="button" value="給藥" onclick="@Java_funcion.pup_window("../CommonMedication/Medication_NurseExecute", 900, 600, "0")">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=bt_memo&pType=bt", 500, 600, "0")">
                        <br />
                        @Html.TextArea("bt_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="bt_other_memo" name="bt_other_memo" value="" />
                        <input type="hidden" id="bt_need_memo" name="bt_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_bt" type="checkbox" name="VS_plan" value="bt"  @(tmpData.plan)  />
                        @*@Html.DropDownList("bt_reason", new SelectList(pd.getGroupData("falseReason"), "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <tbody id="mp" hide="@VitalSign_Helper.vs_tbody_ishide("mp", func_list)">
                <tr>
                  
                    @{
                        string[] mp_part = new string[] { "", "" };
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "mp");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            string[] tmp_part = tmpData.vs_part.Split('|');
                            for (int i = 0; i <= tmp_part.Length - 1; i++)
                            {
                                mp_part[i] = tmp_part[i];
                            }
                        }
                    }
                    <td width="100">
                        <label>心跳</label>
                        <input type="hidden" name="vs_item" value="mp" />
                        <label><input type="checkbox" name="mp_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                    </td>
                    <td width="200">
                        <script type="text/javascript">
                                    $(document).ready(function () {
                                        set_for_rb('mp_posture', '@mp_part[0]');
                                        $("input[type=checkbox][name=mp_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                        SetReason($("input[type=checkbox][name=mp_reason]"));
                                    });
                        </script>
                        <label><input type="radio" name="mp_posture" value="橈動脈" onclick="$('#div_mp').show();" checked="checked" />橈動脈</label>
                        <label><input type="radio" name="mp_posture" value="心尖脈" onclick="$('#div_mp').hide();" />心尖脈</label>
                        <label><input type="radio" name="mp_posture" value="肱動脈" onclick="$('#div_mp').show();" />肱動脈</label>
                        <label><input type="radio" name="mp_posture" value="足背動脈" onclick="$('#div_mp').show();" />足背動脈</label>
                        <label><input type="radio" name="mp_posture" value="顳動脈" onclick="$('#div_mp').show();" />顳動脈</label>
                        <label><input type="radio" name="mp_posture" value="頸動脈" onclick="$('#div_mp').show();" />頸動脈</label>
                        <label><input type="radio" name="mp_posture" value="股動脈" onclick="$('#div_mp').show();" />股動脈</label>
                        <div id="div_mp">
                            <hr />
                            @VitalSign_Helper.vs_part_radio("mp_position", "左側|右側", mp_part[1])
                        </div>
                        <input type="hidden" name="mp_part" relate_field="mp_posture|mp_position" value="" />
                    </td>
                    <td>
                        心跳速率:
                        <input id="mp_text" type="text" name="mp_record" value="@(tmpData.vs_record)" setindex="Y"
                            va_check="true" lo_check="mpl_@(type)" hi_check="mph_@(type)" cr_model="mp" class="check" max_num="" min_num="" />
                        次/分
                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=mp_memo&pType=mp", 500, 600, "0")">
                        @Html.TextArea("mp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="mp_need_memo" name="mp_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_mp" type="checkbox" name="VS_plan" value="mp"  @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="bf" hide="@VitalSign_Helper.vs_tbody_ishide("bf", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "bf");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            <text>
                        <script type="text/javascript">
                            $(function () {
                                $("input[type=checkbox][name=bf_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                SetReason($("input[type=checkbox][name=bf_reason]"));
                            });
                        </script>
                            </text>
                        }
                    }
                    <td width="100">
                        <label>呼吸</label>
                        <input type="hidden" name="vs_item" value="bf" />
                        <label><input type="checkbox" name="bf_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                    </td>
                    <td width="200">&nbsp;
                    </td>
                    <td>
                        呼吸速率:
                        <input id="bf_text" type="text" name="bf_record" setindex="Y" value="@(tmpData.vs_record)"
                            va_check="true" lo_check="bfl_@(type)" hi_check="bfh_@(type)" cr_model="bf" class="check" max_num="" min_num="" />
                        次/分
                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=bf_memo&pType=bf", 500, 600, "0")">
                        @*<input type="text" name="bf_memo" class="tooltip" title="@(tmpData.vs_memo)" value="處置"/>*@
                        @Html.TextArea("bf_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="bf_need_memo" name="bf_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_bf" type="checkbox" name="VS_plan" value="bf" @(tmpData.plan)/>
                        @*@Html.DropDownList("bf_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason), new { @class = "ck_reason", onchange = "set_ck_reason_memo('mp', this.value);" })*@
                    </td>
                </tr>
            </tbody>
            <tbody id="bp" hide="@VitalSign_Helper.vs_tbody_ishide("bp", func_list)">
                <tr>
                    @{
                        string[] record = new string[] { "", "", "" }, part = new string[] { "躺", "左手" };
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "bp");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            string[] tmp_part = tmpData.vs_part.Split('|');
                            for (int i = 0; i <= tmp_part.Length - 1; i++)
                            {
                                part[i] = tmp_part[i];
                            }
                            if (tmpData.vs_record != "")
                            {
                                record = tmpData.vs_record.Split('|');
                                if (record.Length <= 2)
                                {
                                    System.Array.Resize(ref record, record.Length + 1);
                                    record[record.Length - 1] = "";
                                }
                            }
                            <text>
                        <script type="text/javascript">
                            $(function () {
                                $("input[type=checkbox][name=bp_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                SetReason($("input[type=checkbox][name=bp_reason]"));
                            });
                        </script>
                            </text>
                        }
                    }
                    <td width="100">
                        <label>血壓</label>
                        <input type="hidden" name="vs_item" value="bp" />
                        <label><input type="checkbox" name="bp_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                    </td>
                    <td width="200">
                        <script type="text/javascript">
                                    $(document).ready(function () {
                                        set_for_rb('bp_posture', '@part[0]');
                                    });
                        </script>
                        @*@VitalSign_Helper.vs_part_radio("bp_posture", "躺|坐|站", part[0])*@
                        <label><input type="radio" name="bp_posture" value="躺" />躺</label>
                        <label><input type="radio" name="bp_posture" value="坐"  />坐</label>
                        <label><input type="radio" name="bp_posture" value="站" />站</label>
                        <hr />
                        @VitalSign_Helper.vs_part_radio("bp_position", "左手|右手|左腳|右腳", part[1])
                        <input type="hidden" name="bp_part" relate_field="bp_posture|bp_position" value="@tmpData.vs_part" />
                    </td>
                    <td>
                        <input id="bph_text" type="text" name="bp_record" value="@(record[0])" setindex="Y"
                               va_check="true" lo_check="bpls_@(type)" hi_check="bphs_@(type)" cr_model="bp" class="check" onblur="com_SDM_bph()" max_num="" min_num="" /> /
                        <input id="bpl_text" type="text" name="bp_record" value="@(record[1])" setindex="Y"
                               va_check="true" lo_check="bpld_@(type)" hi_check="bphd_@(type)" cr_model="bp" class="check" onblur="com_SDM_bph()" max_num="" min_num="" /> /

                        <label id="bpm" name="" value="">
                            (@(record[2])) mmHg 
                        </label>
                        <input type="hidden" id="bpm_v" name="" value="@(record[2])" />
                    </td>
                    <td width="160">
                        @*<input type="text" name="bp_memo" class="tooltip" title="" value="處置"/>*@
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=bp_memo&pType=bp", 500, 600, "0")">
                        @Html.TextArea("bp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="bp_need_memo" name="bp_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_bp" type="checkbox" name="VS_plan" value="bp"  @(tmpData.plan) />
                        @*@Html.DropDownList("bp_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <!--血氧-->
          <tbody id="sp" hide="@VitalSign_Helper.vs_tbody_ishide("sp", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "sp");
                        //string[] sp_record = new string[] { "", "" };
                        @*if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                sp_record = tmpData.vs_record.Split('|');
                                <text>
                                    <script type="text/javascript">
                                        $(function () {
                                            $("input[type=checkbox][name=sp_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                            SetReason($("input[type=checkbox][name=sp_reason]"));
                                        });
                                    </script>
                                </text>
                            }
                            else
                            {
                                sp_record[0] = tmpData.vs_record;
                            }
                        }*@
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                            <text>
                        <script type="text/javascript">
                            $(function () {
                                $("input[type=checkbox][name=sp_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                SetReason($("input[type=checkbox][name=sp_reason]"));
                            });
                        </script>
                            </text>
                    }
                    }
                    <td width="100">
                     <label>血氧</label>
                        <input type="hidden" name="vs_item" value="sp" />
                        <label><input type="checkbox" name="sp_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                    </td>
                    <td width="200">
                          @VitalSign_Helper.vs_part_radio("sp_part", "Room air|Nasal Cannula|Simple mask|Aerosol mask|Ventri mask|Non-rebreathing mask|Ventilator|Bipap|氧氣帳(tent)|氧氣帳(hood)", tmpData.vs_part)
                        &nbsp;
                    </td>
                    <td>
                        <input id="sp_text" type="text" name="sp_record" value="@(tmpData.vs_record)" setindex="Y"
                               va_check="true" lo_check="spl" hi_check="sph" cr_model="sp" class="check" max_num="100" min_num="" />
                        %
                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=sp_memo&pType=sp", 500, 600, "0")">
                        @Html.TextArea("sp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="sp_need_memo" name="sp_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_sp" type="checkbox" name="VS_plan" value="sp" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="st" class="st" hide="@VitalSign_Helper.vs_tbody_ishide("st", func_list)">
                <tr class="st">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "st");
                        string[] st_record = new string[] { "", "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();

                        }
                        else
                        {
                            if (tmpData.vs_record != "")
                            {
                                if (tmpData.vs_record.Split('|').Length > 1)
                                { st_record = tmpData.vs_record.Split('|'); }
                                else
                                { st_record[0] = tmpData.vs_record; }
                            }
                        }
                    }
                    <td width="100">
                        <label>排便</label>
                        <input type="hidden" name="vs_item" value="st" />
                    </td>
                    <td width="200">
                        <script type="text/javascript">
                                    $(document).ready(function () {
                                        set_for_rb('st_part', '@tmpData.vs_part');                                       
                                    });                                 
                        </script>
                        @VitalSign_Helper.vs_part_radio("st_part", "自解|灌腸", tmpData.vs_part == "" ? "自解" : tmpData.vs_part)
                        <label><input type="radio" name="st_part" value="Colostomy" onclick="$('#st_value').val('99')" />Colostomy</label>
                        <label><input type="radio" name="st_part" value="Ileostomy" onclick="$('#st_value').val('99')" />Ileostomy</label>
                        @VitalSign_Helper.vs_part_radio("st_part", "指挖|塞劑", tmpData.vs_part)
                    </td>
                    <td>
                        <input type="text" id="st_value" name="st_record" value="@(st_record[0])" setindex="Y" />
                        次
                        @Html.DropDownList("st_record", new SelectList(pd.getGroupData("stoolType"), "Value", "Key", st_record[1]), new { id = "stoolType" })
                        <span id="st_other2" style="display:none;">
                            <input id="st_other2_ipt" type="text" name="st_record" style="width:70px;" />
                        </span>
                        @*20180117 載入時會自動帶入排便狀況 Bill*@
                        @if (st_record[1].Equals("其他")) {
                          @:<script>
                            @:document.getElementById("st_other2").style.display = "inline";
                            @:document.getElementById("st_other2").value = "@(st_record[1])";
                            @:document.getElementById("st_other2_ipt").value=  "@(st_record[2])";
                          @: </script>
                         }
                        @if (!st_record[1].Equals("其他")) {
                          @:<script>                        
                            @:document.getElementById("st_other2").value = "@(st_record[1])";                           
                          @: </script>
                         }

                        @if (st_record.Length > 3)
                        {
                             @Html.DropDownList("st_record", new SelectList(pd.getGroupData("stoolColor"), "Value", "Key", st_record[3]), new { id = "stoolColor" })
                        <span id="st_other" style="display:none;">
                            <input id="st_other_ipt" type="text" name="st_record" style="width:70px;" />
                        </span>
                            if (st_record[3].Equals("其他"))
                            {
                               @:<script>
                                 @:document.getElementById("st_other").style.display = "inline";
                                 @:document.getElementById("st_other").value = "@(st_record[3])";
                                 @:document.getElementById("st_other_ipt").value=  "@(st_record[4])";
                               @: </script>
                             }
                            else
                            {
                               @:<script>                        
                                 @:document.getElementById("st_other").value = "@(st_record[3])";                           
                               @: </script>
                         }
                        }
                        @*20180117 如為空值時不會出現錯誤，st_record[]預設陣列長度為3。 Bill*@
                        else
                        {
                          @Html.DropDownList("st_record", new SelectList(pd.getGroupData("stoolColor"), "Value", "Key", st_record[2]), new { id = "stoolColor" })
                        <span id="st_other" style="display:none;">
                            <input id="st_other_ipt" type="text" name="st_record" style="width:70px;" />
                        </span>

                        }
                    </td>
                    <td width="160">
                        @*<select name="st_other" id="st_other">
                            <option value="-1">請選擇</option>
                            <option value="少量">少量</option>
                            <option value="多次">多次</option>
                            <option value="拒答">拒答</option>
                            <option value="忘記">忘記</option>
                        </select>*@
                        @if (tmpData.vs_record.Split('|').Length < 3)
                        {
                            @:<script type="text/javascript">
                            if (tmpData.vs_record == "0")
                            {
                            @:$('#st_value').val('@tmpData.vs_record');
                            }
                            else
                            {

                            @:$('#st_other2').val('@tmpData.vs_record');
                                    @:$('#st_other').val('@tmpData.vs_record');
                            }
                            @:</script>
}
                    <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=TxtStMemo&pType=stool", 500, 600, "0")">
                    @Html.TextArea("st_memo", tmpData.vs_memo, new { @id = "TxtStMemo", style = "width:150px;height:50px;" })
                    </td>
                    <td width="110">
                        <input type="checkbox" name="VS_plan" value="st" @(tmpData.plan) />
                        @*@Html.DropDownList("st_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <tbody id="eat" hide="@VitalSign_Helper.vs_tbody_ishide("eat", func_list)">
                <tr>                
                    <td width="100">
                        <label>飲食</label>
                      
                        <input type="hidden" name="vs_item" value="eat" />
                    </td>
                    <td width="200">
                      
                    </td>
                    <td>
                        @Html.RadioButton("eat_part", "正常飲食", false, new { id = "eat_part1", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part1", "正常飲食")
                        @Html.RadioButton("eat_part", "軟質飲食", false, new { id = "eat_part2", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part2", "軟質飲食")
                        @Html.RadioButton("eat_part", "流質飲食", false, new { id = "eat_part3", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part3", "流質飲食")
                        @Html.RadioButton("eat_part", "半流質飲食", false, new { id = "eat_part4", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part4", "半流質飲食")
                        @Html.RadioButton("eat_part", "糖尿病飲食", false, new { id = "eat_part5", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part5", "糖尿病飲食")
                        @Html.RadioButton("eat_part", "管灌飲食", false, new { id = "eat_part0", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part0", "管灌飲食")
                        @Html.RadioButton("eat_part", "NPO", false, new { id = "eat_part6", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part6", "NPO")
                        @Html.RadioButton("eat_part", "NPO除藥", false, new { id = "eat_part7", onclick = "$('#eat_text').fadeOut(0); $('.eat_part8').fadeIn(0);$('#eat_text').val('');" })
                        @Html.Label("eat_part7", "NPO除藥")
                        @Html.RadioButton("eat_part", "", true, new { id = "eat_part8", onclick = " $('#eat_text').fadeIn(0);" })
                        @Html.Label("eat_part8", "其他", new { @class = "eat_part8" })                      
                                    
                        @{
                            tmpData = VitalSignData.getVSItem(vsdl.DataList, "eat");
                            string tmpData2 = "";
                            if (tmpData == null)
                            {
                                tmpData = new VitalSignData();
                            }
                            else
                            {
                                if (tmpData.vs_record != null && tmpData.vs_record.ToString() != "" && tmpData.vs_record.IndexOf('|') > -1)
                                {
                                    tmpData2 = tmpData.vs_record.Split('|').GetValue(0).ToString();
                                    <script type="text/javascript">
                                            $(document).ready(function () {
                                             $('#eat_text').val('@(tmpData.vs_record.Split('|').GetValue(1).ToString())');
                                                set_for_rb('eat_part', '@tmpData2');
                                                });
                                    </script>
                                }


                            }
                        }
                       
                        <input type="hidden" name="eat_record" relate_field="eat_part" value="@tmpData.vs_record" />
                        @*<input id="eat_text" type="text" name="eat_record" value="" setindex="N" value="" cr_model="eat" />*@    
                        @Html.TextArea("eat_record", new { id = "eat_text", style = "display:none;width:150px;height:18px;" })     
                    </td>
                    <td width="160">                       
                   
                        <input type="hidden" id="eat_need_memo" name="eat_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_eat" type="checkbox" name="VS_plan" value="eat" @(tmpData.plan) />                        
                    </td>
                </tr>
            </tbody>
            <tbody id="ps" hide="@VitalSign_Helper.vs_tbody_ishide("ps", func_list)">
                <tr>
                    @{
                        string[] ps_record = new string[] { "", "" }, ps_part = new string[] { "請選擇", "數字量表" };
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "ps");
                        if (tmpData == null) {
                            tmpData = new VitalSignData();
                        } else {
                            tmpData.vs_part = tmpData.vs_part.IndexOf("|") == -1 ? "|" + tmpData.vs_part : tmpData.vs_part;
                            ps_part = tmpData.vs_part.Split('|');
                            for (int i = 0; i <= ps_part.Length - 1; i++) {
                                ps_part[i] = ps_part[i];
                            }
                            if (tmpData.vs_record != "") {
                                record = tmpData.vs_record.Split('|');
                            }
                            <text>
                                <script type="text/javascript">
                            $(function () {
                                $("input[type=checkbox][name=ps_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                SetReason($("input[type=checkbox][name=ps_assess]"));
                            });
                                </script>
                            </text>
                        }
                    }

                    @{
                        //tmpData = VitalSignData.getVSItem(vsdl.DataList, "ps");
                        //string[] tmp_part = { };
                        //if (tmpData == null)
                        //{
                        //    tmpData = new VitalSignData();
                        //}else{
                        //    tmpData.vs_part = tmpData.vs_part.IndexOf("|") == -1 ? "|"+tmpData.vs_part : tmpData.vs_part;
                        //    tmp_part = tmpData.vs_part.Split('|');
                        //    if (tmp_part[0] == "") {
                        //        tmp_part[0] = "請選擇";
                        //    }
                        //    if (tmp_part[1] == "") {
                        //        tmp_part[1] = "數字量表";
                        //        tmpData.vs_record = tmpData.vs_record.Replace("#", "");
                        //    }
                        //}
                    }
                    <td width="100">
                        <label>疼痛</label>
                        <input type="hidden" name="vs_item" value="ps" />
                    </td>
                    <td width="200">
                        @*@VitalSign_Helper.vs_part_radio("ps_assess", "數字量表|臉譜量表|困難評估(成人)|困難評估(兒童)|困難評估(新生兒)", ps_part[1])*@
                        <input type="hidden" name="ps_part" data-relate_field="ps_assess" value="@ps_part[1]" />
                        @*評估時機
                        @VitalSign_Helper.vs_dropdown("ps_occasion", "請選擇|新病人|轉入|病情變化|手術後|生產後|疼痛處理30分鐘後|常規評估", ps_part[0])
                        <hr>*@
                        @VitalSign_Helper.vs_part_radio("ps_assess", "數字量表|臉譜量表|困難評估(成人)|困難評估(兒童)|困難評估(新生兒)|CPOT評估(加護單位)", ps_part[1])
                        @*<input type="hidden" name="ps_part" data-relate_field="ps_occasion|ps_assess" value="@ps_part[0]|@ps_part[1]" />*@
                        <input type="hidden" name="ps_default_data" value="@(tmpData.vs_record)" />

                    </td>
                    <td class="psData"></td>
                    <td width="160">
                        <select id="ps_drug" style="display:none" onchange="if($(this).val() == '99'){ $('#ps_drug_other_span').fadeIn(0); }else{ $('#ps_drug_other_span').fadeOut(0); $('#ps_drug_other').val('');}">
                            <option value="-1">藥物/途徑</option>
                            <option value="Tinten po">Tinten po</option>
                            <option value="Cataflam po">Cataflam po</option>
                            <option value="Anti-phen po">Anti-phen po</option>
                            <option value="Idefen po">Idefen po</option>
                            <option value="keto IM">keto IM</option>
                            <option value="keto IV">keto IV</option>
                            <option value="99">其他</option>
                        </select>
                        <span id="ps_drug_other_span" style="display:none;">
                            <br />藥名:@Html.TextBox("ps_drug_other", "", new { style = "width:100px;display:none", @class = "word" })<br />
                            數量
                        </span>
                        @Html.TextBox("ps_drug_amount", "", new { style = "width:50px;display:none" })
                        <select id="ps_drug_unit" style="display:none">
                            <option value="-1">單位</option>
                            <option value="mL">mL</option>
                            <option value="g">g</option>
                            <option value="mg">mg</option>
                        </select>
                        <input type="button" value="給藥" onclick="@Java_funcion.pup_window("../CommonMedication/Medication_NurseExecute", 900, 600, "0")">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=ps_memo&pType=ps", 500, 600, "0")">
                        <br />
                        @Html.TextArea("ps_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="ps_other_memo" name="ps_other_memo" value="" />
                        <input type="hidden" id="ps_need_memo" name="ps_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input type="checkbox" name="VS_plan" id="VS_plan_ps" value="ps"  @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gc" hide="@VitalSign_Helper.vs_tbody_ishide("gc", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gc");
                        string[] gc_record = new string[] { "", "", "", "", "", "", "", "", "", "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            if (tmpData.vs_part == "")
                            { tmpData.vs_part = "成人(5歲以上)"; }
                            tmpData.vs_record = tmpData.vs_record.Replace("#", "");
                            if (tmpData.vs_record != "")
                            {
                                gc_record = tmpData.vs_record.Split('|');
                            }
                        }
                    }
                    <td width="100">
                        <label>昏迷指數</label>
                        <input type="hidden" name="vs_item" value="gc" />
                    </td>
                    <td width="200">
                        @VitalSign_Helper.vs_part_radio("gc_part", "成人(5歲以上)|兒童(2歲-不足5歲)|幼兒(1歲-不足兩歲)|嬰兒(7個月-不足12個月)|嬰兒(出生-不足6個月)", tmpData.vs_part == "" ? "成人(5歲以上)" : tmpData.vs_part)
                        <input type="hidden" name="gc_default_data" value="@(tmpData.vs_record)" />
                    </td>
                    <td>
                        <div class="gcsData"></div>
                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=TxtGcMemo&pType=coma", 500, 600, "0")">
                        @Html.TextArea("gc_memo", tmpData.vs_memo, new { @id = "TxtGcMemo", style = "width:150px;height:50px;" })
                        <input type="hidden" id="gc_need_memo" name="gc_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_gc" type="checkbox" name="VS_plan" value="gc" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="pupils" name="vs_item"  hide="@VitalSign_Helper.vs_tbody_ishide("pupils", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "pupils");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            string[] pupils = tmpData.vs_record.Split('|');
                            if (pupils.Count() <= 4)
                            {
                                Array.Resize(ref pupils, pupils.Length + 2);
                            }
                        <script type="text/javascript">

                            function htmldecode(s) {
                                var div = document.createElement('div');
                                div.innerHTML = s;
                                return div.innerText || div.textContent;
                            }

                            function set_for_htmldecode(rb_name, dvalue) {
                                dvalue = htmldecode(dvalue.replace('&#177;', '±').replace('&#177;', '±'));//過濾特殊字元
                                if (dvalue != '') {
                                    $("input:radio[name=" + rb_name + "]").each(function () {
                                        if ($(this).val() == dvalue) {
                                            $(this).trigger('click');
                                        }
                                    });
                                }
                            }

                            $(document).ready(function () {
                                set_for_htmldecode('pupils_l', '@pupils[0]');
                                set_for_htmldecode('pupils_l_num', '@pupils[1]');
                                set_for_htmldecode('pupils_r', '@pupils[2]');
                                set_for_htmldecode('pupils_r_num', '@pupils[3]');
                                $('#pupils #pupils_l_record').val('@pupils[4]');
                                $('#pupils #pupils_r_record').val('@pupils[5]');
                                var tmp_val = '@pupils[0]|@pupils[1]|@pupils[2]|@pupils[3]';
                                tmp_val = tmp_val.replace('&#177;', '±').replace('&#177;', '±');//過濾特殊字元

                                $('#pupils input[type=hidden][name=pupils_record]').val(tmp_val);


                            });
                        </script>
                        }
                    }
                    <td width="100">
                        <label>瞳孔反應</label>
                        <input type="hidden" name="vs_item" value="pupils" />
                    </td>
                    <td width="200"></td>
                    <td>
                        <input type="hidden" name="pupils_record" relate_field="pupils_l|pupils_l_num|pupils_r|pupils_r_num"  />
                        <div>
                            <label>(L)左眼</label>
                            <label><input type="radio" name="pupils_l" value="+" onclick="pupils('L1')" />+</label>
                            <label><input type="radio" name="pupils_l" value="-" onclick="pupils('L2')" />-</label>
                            <label><input type="radio" name="pupils_l" value="±" onclick="pupils('L3')" />±</label>
                            <label><input type="radio" name="pupils_l" value="(C)無法睜眼" onclick="pupils('L4')" />(C)無法睜眼</label>
                            <label><input type="radio" name="pupils_l" value="無法評估" onclick="pupils('L6')" />無法評估</label>
                            <label><input type="radio" name="pupils_l" value="其他" onclick="pupils('L5')" />其他</label>
                            <label><input type="text" name="pupils_record" maxlength="10" id="pupils_l_record" style="width:150px;display: none;" /></label>
                        </div>
                        <div id="pupils_l_num" style="margin-top:5px;">
                            @foreach (string num in "1|1.5|2|2.5|3|3.5|4|4.5|5|5.5|6|6.5|7|7.5|8|8.5".Split('|'))
                            {
                            <label><input type="radio" name="pupils_l_num" value="@num" />@num</label>
                            }
                        </div>
                        <hr />
                        <div>
                            <label>(R)右眼</label>
                            <label><input type="radio" name="pupils_r" value="+" onclick="pupils('R1')" />+</label>
                            <label><input type="radio" name="pupils_r" value="-" onclick="pupils('R2')" />-</label>
                            <label><input type="radio" name="pupils_r" value="±" onclick="pupils('R3')" />±</label>
                            <label><input type="radio" name="pupils_r" value="(C)無法睜眼" onclick="pupils('R4')" />(C)無法睜眼</label>
                            <label><input type="radio" name="pupils_r" value="無法評估" onclick="pupils('R6')" />無法評估</label>
                            <label><input type="radio" name="pupils_r" value="其他" onclick="pupils('R5')" />其他</label>
                            <label><input type="text" name="pupils_record"  maxlength="10" id="pupils_r_record" style="width:150px;display: none;" /></label>
                        </div>
                        <div id="pupils_r_num" style="margin-top:5px;">
                            @foreach (string num in "1|1.5|2|2.5|3|3.5|4|4.5|5|5.5|6|6.5|7|7.5|8|8.5".Split('|'))
                            {
                            <label><input type="radio" name="pupils_r_num" value="@num" />@num</label>
                            }
                        </div>
                    </td>
                    <td width="50">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=TxtPupilsMemo&pType=coma", 500, 600, "0")">
                        @Html.TextArea("pupils_memo", tmpData.vs_memo, new { @id = "TxtPupilsMemo", style = "width:150px;height:50px;" })
                        <input type="hidden" id="pupils_need_memo" name="pupils_need_memo" value="" />
                    </td>
                    <td width="150">
                        <input type="checkbox" name="VS_plan" id="VS_plan_pupils" value="pupils" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="msPower" hide="@VitalSign_Helper.vs_tbody_ishide("msPower", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "msPower");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            string[] msPower = tmpData.vs_record.Split('|');
                            if (msPower.Count() <= 4)
                            {
                                Array.Resize(ref msPower, msPower.Length + 4);
                            }
                        <script type="text/javascript">
                            $(document).ready(function () {
                                $("input[type=radio][name=msPower_upper_l][value='@msPower[0]']").prop('checked', true).trigger('onclick');
                                $("input[type=radio][name=msPower_upper_r][value='@msPower[1]']").prop('checked', true).trigger('onclick');
                                $("input[type=radio][name=msPower_lower_l][value='@msPower[2]']").prop('checked', true).trigger('onclick');
                                $("input[type=radio][name=msPower_lower_r][value='@msPower[3]']").prop('checked', true).trigger('onclick');
                            });
                        </script>
                        }
                    }
                    <td width="100">
                        <label>肌肉強度</label>
                        <input type="hidden" name="vs_item"  value="msPower" />
                    </td>
                    <td width="200"></td>
                    <input type="hidden" name="msPower_record" relate_field="msPower_upper_l|msPower_upper_r|msPower_lower_l|msPower_lower_r" value="@(tmpData.vs_record)" />
                    <td>
                        <fieldset>
                            <legend>Muscle Power-上肢</legend>
                            <label style="margin-right:5px;">左</label>
                            @foreach (string num in "0|1|2|3|4|5|無法評估".Split('|'))
                            {
                                <label><input type="radio" name="msPower_upper_l" value="@num" />@num</label>
                            }
                            <hr />
                            <label style="margin-right:5px;">右</label>
                            @foreach (string num in "0|1|2|3|4|5|無法評估".Split('|'))
                            {
                                <label><input type="radio" name="msPower_upper_r" value="@num" />@num</label>
                            }
                        </fieldset>
                        <fieldset>
                            <legend>Muscle Power-下肢</legend>
                            <label style="margin-right:5px;">左</label>
                            @foreach (string num in "0|1|2|3|4|5|無法評估".Split('|'))
                            {
                                <label><input type="radio" name="msPower_lower_l" value="@num" />@num</label>
                            }
                            <hr />
                            <label style="margin-right:5px;">右</label>
                            @foreach (string num in "0|1|2|3|4|5|無法評估".Split('|'))
                            {
                                <label><input type="radio" name="msPower_lower_r" value="@num" />@num</label>
                            }
                        </fieldset>
                    </td>
                    <td width="50">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=TxtmsPowerMemo&pType=coma", 500, 600, "0")">
                        @Html.TextArea("msPower_memo", tmpData.vs_memo, new { @id = "TxtmsPowerMemo", style = "width:150px;height:50px;" })
                        <input type="hidden" id="msPower_need_memo" name="msPower_need_memo" value="" />
                    </td>
                    <td width="150">
                        <input type="checkbox" name="VS_plan" id="VS_plan_msPower" value="msPower" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="ra" hide="@VitalSign_Helper.vs_tbody_ishide("ra", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "ra");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>RASS鎮靜程度評估</label>
                        <input type="hidden" name="vs_item" value="ra" />
                    </td>
                    <td width="200">
                        &nbsp;
                    </td>
                    <td>
                        @VitalSign_Helper.vs_part_radio("ra_part", "4分，有攻擊性|3分，非常躁動|2分，躁動焦慮|1分，不安焦慮|0分，清醒平靜|-1分，昏昏欲睡|-2分，輕度鎮靜|-3分，中度鎮靜|-4分，重度鎮靜|-5分，昏迷", tmpData.vs_part)          
                        <input  type="hidden" name="ra_record" relate_field="ra_part" value="@(tmpData.vs_record)" />
                    </td>
                    <td width="160">   
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=TxtRaMemo&pType=rass", 500, 600, "0")">                   
                        @Html.TextArea("ra_memo", tmpData.vs_memo, new { @id = "TxtRaMemo", style = "width:150px;height:50px;" })
                        <input type="hidden" id="ra_need_memo" name="ra_need_memo" value="@tmpData.vs_part" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_ra" type="checkbox" name="VS_plan" value="ra" @(tmpData.plan) />                    
                    </td>
                </tr>
            </tbody>
            <tbody id="bh" hide="@VitalSign_Helper.vs_tbody_ishide("bh", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "bh");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>身高</label>
                        <input type="hidden" name="vs_item" value="bh" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                       <input type="text" name="bh_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="bh_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("bh_reason", new SelectList(falseReason, "Value", "Key"))*@
                        <input id="VS_plan_bh" type="checkbox" name="VS_plan" value="bh" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="bw" hide="@VitalSign_Helper.vs_tbody_ishide("bw", func_list)">
                <tr>                    
                    <td width="100">
                        <label>體重</label>
                        <input type="hidden" name="vs_item" value="bw" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                       <input type="text" id="bw_val" name="bw_record" setindex="Y" value="@(bw_record[0])" />
                        <select name="bw_record" id="bw_record" onchange="" default="Kg">
                            <option value="請選擇">請選擇</option>
                            <option value="Kg">Kg</option>
                            <option value="g">g</option>
                        </select>                        
                    </td>
                    <td width="160">
                        @*<input type="text" name="bw_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("bw_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_bw" type="checkbox" name="VS_plan" value="bw" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtwl" class="b_Perimeter" hide="@VitalSign_Helper.vs_tbody_ishide("gtwl", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtwl");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>腰圍</label>
                        <input type="hidden" name="vs_item" value="gtwl" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtwl_part" value="Waistline" />
                    </td>
                    <td>
                       <input type="text" name="gtwl_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160"></td>
                    <td width="110">
                        <input id="VS_plan_gtwl" type="checkbox" name="VS_plan" value="gtwl" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gthr"  class="b_Perimeter" hide="@VitalSign_Helper.vs_tbody_ishide("gthr", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gthr");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>頭圍</label>
                        <input type="hidden" name="vs_item" value="gthr" />
                    </td>
                    <td width="200"><input type="hidden" name="gthr_part" value="Head round about" /></td>
                    <td>
                       <input type="text" name="gthr_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160"></td>
                    <td width="110">
                        <input id="VS_plan_gthr" type="checkbox" name="VS_plan" value="gthr" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtbu" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtbu", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtbu");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>胸圍</label>
                        <input type="hidden" name="vs_item" value="gtbu" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtbu_part" value="Bust" />
                    </td>
                    <td>
                       <input type="text" name="gtbu_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtbu_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtbu_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtbu" type="checkbox" name="VS_plan" value="gtbu" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtbl" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtbl", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtbl");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>腹圍</label>
                        <input type="hidden" name="vs_item" value="gtbl" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtbl_part" value="Bust" />
                    </td>
                    <td>
                       <input type="text" name="gtbl_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtbl_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtbl" type="checkbox" name="VS_plan" value="gtbl" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gthl" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gthl", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gthl");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>臀圍</label>
                        <input type="hidden" name="vs_item" value="gthl" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gthl_part" value="Bust" />
                    </td>
                    <td>
                       <input type="text" name="gthl_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gthl_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gthl" type="checkbox" name="VS_plan" value="gthl" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtlf" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtlf", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtlf");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>左前臂</label>
                        <input type="hidden" name="vs_item" value="gtlf" />
                    </td>
                    <td width="200"><input type="hidden" name="gtlf_part" value="Left forearm" /></td>
                    <td>
                       <input type="text" name="gtlf_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtlf_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtlf_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtlf" type="checkbox" name="VS_plan" value="gtlf" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtrf" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtrf", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtrf");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>右前臂</label>
                        <input type="hidden" name="vs_item" value="gtrf" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtrf_part" value="Right forearm" />
                    </td>
                    <td>
                       <input type="text" name="gtrf_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtrf_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtrf_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtrf" type="checkbox" name="VS_plan" value="gtrf" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtlua" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtlua", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtlua");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>左上臂</label>
                        <input type="hidden" name="vs_item" value="gtlua" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtlua_part" value="Left upper arm" />
                    </td>
                    <td>
                       <input type="text" name="gtlua_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtlua_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtlua_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtlua" type="checkbox" name="VS_plan" value="gtlua" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtrua" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtrua", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtrua");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>右上臂</label>
                        <input type="hidden" name="vs_item" value="gtrua" />
                    </td>
                    <td width="200"><input type="hidden" name="gtrua_part" value="Right upper arm" /></td>
                    <td>
                       <input type="text" name="gtrua_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtrua_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtrua_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtrua" type="checkbox" name="VS_plan" value="gtrua" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtlt" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtlt", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtlt");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>左大腿</label>
                        <input type="hidden" name="vs_item" value="gtlt" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtlt_part" value="Left thigh" />
                    </td>
                    <td>
                       <input type="text" name="gtlt_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtlt_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtlt_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtlt" type="checkbox" name="VS_plan" value="gtlt" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtrt" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtrt", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtrt");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>右大腿</label>
                        <input type="hidden" name="vs_item" value="gtrt" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtrt_part" value="Right thigh" />
                    </td>
                    <td>
                       <input type="text" name="gtrt_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtrt_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtrt_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtrt" type="checkbox" name="VS_plan" value="gtrt" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtll" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtll", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtll");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>左小腿</label>
                        <input type="hidden" name="vs_item" value="gtll" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtll_part" value="Left leg" />
                    </td>
                    <td>
                       <input type="text" name="gtll_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtll_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtll_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtll" type="checkbox" name="VS_plan" value="gtll" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtrl" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtrl", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtrl");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>右小腿</label>
                        <input type="hidden" name="vs_item" value="gtrl" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtrl_part" value="Left leg" />
                    </td>
                    <td>
                       <input type="text" name="gtrl_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtrl_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtrl_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtrl" type="checkbox" name="VS_plan" value="gtrl" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtla" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtla", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtla");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>左足踝</label>
                        <input type="hidden" name="vs_item" value="gtla" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtla_part" value="Left ankle" />
                    </td>
                    <td>
                       <input type="text" name="gtla_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtla_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtla_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtla" type="checkbox" name="VS_plan" value="gtla" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="gtra" class="b_Perimeter"  hide="@VitalSign_Helper.vs_tbody_ishide("gtra", func_list)">
                <tr class="b_Perimeter">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gtra");
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                    }
                    <td width="100">
                        <label>右足踝</label>
                        <input type="hidden" name="vs_item" value="gtra" />
                    </td>
                    <td width="200">
                        <input type="hidden" name="gtra_part" value="Right ankle" />
                    </td>
                    <td>
                       <input type="text" name="gtra_record" setindex="Y" value="@(tmpData.vs_record)" /> cm 
                    </td>
                    <td width="160">
                        @*<input type="text" name="gtra_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        @*@Html.DropDownList("gtra_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                        <input id="VS_plan_gtra" type="checkbox" name="VS_plan" value="gtra" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <tbody id="cv1" hide="@VitalSign_Helper.vs_tbody_ishide("cv1", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "cv1");
                        string[] cv1_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                cv1_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                cv1_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>中心靜脈壓<br />(mmHg)</label>
                        <input type="hidden" name="vs_item" value="cv1" />
                    </td>
                    <td width="200">&nbsp;
                    </td>
                    <td>
                        <input type="text" name="cv1_record" value="@(cv1_record[0])" setindex="Y" lo_check="cv1_l" hi_check="cv1_h" va_check="true" cr_model="cv1" />
                    @*    @Html.DropDownList("cv1_record", new SelectList(pd.getGroupData("unit"), "Value", "Key", cv1_record[1]))*@
                          mmHg
                    </td>
                    <td width="160">
                        @Html.TextArea("cv1_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="cv1_need_memo" name="cv1_need_memo" value="" />
                        @*<input type="text" name="cv_memo" class="tooltip" title="" value="@(tmpData.vs_memo)" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_cv1"  type="checkbox" name="VS_plan" value="cv1" @(tmpData.plan) />
                        @*@Html.DropDownList("cv1_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <tbody id="cv2" hide="@VitalSign_Helper.vs_tbody_ishide("cv2", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "cv2");
                        string[] cv2_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                cv2_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                cv2_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>中心靜脈壓<br />(cmH2O)</label>
                        <input type="hidden" name="vs_item" value="cv2" />
                    </td>
                    <td width="200">&nbsp;
                    </td>
                    <td>
                        <input type="text" name="cv2_record" value="@(cv2_record[0])" setindex="Y" lo_check="cv2_l" hi_check="cv2_h" va_check="true" cr_model="cv2" />
                     @*   @Html.DropDownList("cv2_record", new SelectList(pd.getGroupData("unit"), "Value", "Key", cv2_record[1]))*@
                          cmH2O
                    </td>
                    <td width="160">
                        @Html.TextArea("cv2_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="cv2_need_memo" name="cv2_need_memo" value="" />
                        @*<input type="text" name="cv_memo" class="tooltip" title="" value="@(tmpData.vs_memo)" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_cv2"  type="checkbox" name="VS_plan" value="cv2" @(tmpData.plan) />
                        @*@Html.DropDownList("cv2_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <tbody id="ic1" hide="@VitalSign_Helper.vs_tbody_ishide("ic1", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "ic1");
                        string[] ic1_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                ic1_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                ic1_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>顱內壓<br />(mmHg)</label>
                        <input type="hidden" name="vs_item" value="ic1" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        <input type="text" name="ic1_record" setindex="Y" value="@(ic1_record[0])" lo_check="ic1_l" hi_check="ic1_h" va_check="true" cr_model="ic1" />
                      @*  @Html.DropDownList("ic1_record", new SelectList(pd.getGroupData("unit"), "Value", "Key", ic1_record[1]))*@
                        mmHg
                    </td>
                    <td width="160">
                        @Html.TextArea("ic1_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="ic1_need_memo" name="ic1_need_memo" value="" />

                        @*<input type="text" name="ic_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_ic1"  type="checkbox" name="VS_plan" value="ic1" @(tmpData.plan) />
                        @*@Html.DropDownList("ic1_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>
            <tbody id="ic2" hide="@VitalSign_Helper.vs_tbody_ishide("ic2", func_list)">@*//在新增頁面有輸入過的才會在Modify頁顯示出來*@
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "ic2");
                        string[] ic2_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                ic2_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                ic2_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>顱內壓<br />(cmH2O)</label>
                        <input type="hidden" name="vs_item" value="ic2" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        <input type="text" name="ic2_record" setindex="Y" value="@(ic2_record[0])" lo_check="ic2_l" hi_check="ic2_h" va_check="true" cr_model="ic2" />
                      @*  @Html.DropDownList("ic2_record", new SelectList(pd.getGroupData("unit"), "Value", "Key", ic2_record[1]))*@
                          cmH2O
                    </td>
                    <td width="160">
                        @Html.TextArea("ic2_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="ic2_need_memo" name="ic2_need_memo" value="" />
                        @*<input type="text" name="ic_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_ic2" type="checkbox" name="VS_plan" value="ic2" @(tmpData.plan) />
                        @*@Html.DropDownList("ic2_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))*@
                    </td>
                </tr>
            </tbody>

            <!--CPP-->
            <tbody id="cpp" hide="@VitalSign_Helper.vs_tbody_ishide("cpp", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "cpp");
                    string[] cpp_record = new string[] { "", "" };
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else if (tmpData.vs_record != "")
                    {
                        if (tmpData.vs_record.IndexOf("|") > -1)
                        {
                            cpp_record = tmpData.vs_record.Split('|');
                        }
                        else
                        {
                            cpp_record[0] = tmpData.vs_record;
                        }
                    }
                }
                <td width="100">
                    <label>CPP<br/>(mmHg)</label>
                    <input type="hidden" name="vs_item" value="cpp" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input id="cpp_text" type="text" name="cpp_record" setindex="Y" value="@(cpp_record[0])"
                           lo_check="cpp" hi_check="cpp" va_check="true" cr_model="cpp" />
                    mmHg
                </td> 
                <td width="160">
                    <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=cpp_memo&pType=cpp", 500, 600, "0")">
                   @Html.TextArea("cpp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="cpp_need_memo"name="cpp_need_memo" value="" />
                </td>                
                <td width="110">
                    <input id="VS_plan_cpp" type="checkbox" name="VS_plan" value="cpp" @(tmpData.plan)/>
                </td>
                
            </tr>
            </tbody>
            <!--ABP-->
            <tbody id="abp" class="cm" hide="@VitalSign_Helper.vs_tbody_ishide("abp", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "abp");
                    string[] abp_record = new string[] { "", "" };
                    string ABPM = "";
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else if (tmpData.vs_record != "")
                    {
                        if (tmpData.vs_record.IndexOf("|") > -1)
                        {
                            abp_record = tmpData.vs_record.Split('|');
                        }
                        else
                        {
                            abp_record[0] = tmpData.vs_record;
                        }
                    }
                }
                <td width="100">
                    <label>ABP</label>
                    <input type="hidden" name="vs_item" value="abp" />
                    <label><input type="checkbox" name="abp_reason" value="測不到" onclick="SetReason(this);" />測不到</label>
                </td>
                <td width="200"></td>
                <td>
                    <input id="abph_text" type="text" name="abp_record" value="@(abp_record[0])" setindex="Y"
                           va_check="true" lo_check="abpls_@(type)" hi_check="abphs_@(type)" cr_model="abp" onblur="com_SDM_abp()" class="check" max_num="" min_num="" /> / @*ABP-S /*@

                    <input id="abpl_text" type="text" name="abp_record" value="@(abp_record[1])" setindex="Y"
                           va_check="true" lo_check="abpld_@(type)" hi_check="abphd_@(type)" cr_model="abp" onblur="com_SDM_abp()" class="check" max_num="" min_num="" /> / @*ABP-D /*@

                    <label id="abpm" name="abp_record" value="@(abp_record)"> @*(ABP-M_)*@ mmHg </label>

                </td>
                <td width="160">
                    <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=abp_memo&pType=abp", 500, 600, "0")">
                    @Html.TextArea("abp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="abp_need_memo" name="abp_need_memo" value="" />
                </td>
                <td width="110">
                    <input id="Vs_plan_abp" type="checkbox" name="VS_plan" value="abp" @(tmpData.plan) />
                </td>
            </tr>
            </tbody>
            <!--PA-->
            <tbody id="pa" class="cm" hide="@VitalSign_Helper.vs_tbody_ishide("pa", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "pa");
                        string[] pa_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                pa_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                pa_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>PA</label>
                        <input type="hidden" name="vs_item" value="pa" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>     
                        <input id="pah_text" type="text" name="pa_record" value="@(pa_record[0])" setindex="Y"
                               va_check="true" lo_check="pal_d" hi_check="pah_d" cr_model="pa" onblur="com_SDM_pa()" class="check" max_num="" min_num="" /> /
                        <input id="pal_text" type="text" name="pa_record" value="@(pa_record[1])" setindex="Y"
                               va_check="true" lo_check="pal_s" hi_check="pah_s" cr_model="pa" onblur="com_SDM_pa()" class="check" max_num="" min_num="" /> /

                   

                        <label id="pam" name="pa_record" value="@(pa_record)"> mmHg </label>


                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=pa_memo&pType=pa", 500, 600, "0")">
                        @Html.TextArea("pa_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="pa_need_memo" name="pa_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="Vs_plan_pa" type="checkbox" name="VS_plan" value="pa" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--PCWP-->
            <tbody id="pcwp" class="cm" hide="@VitalSign_Helper.vs_tbody_ishide("pcwp", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "pcwp");
                        string pcwp_record = string.Empty;
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        //else if (tmpData.vs_record != "")
                        //{
                        //    if (tmpData.vs_record.IndexOf("|") > -1)
                        //    {
                        //        pcwp_record = tmpData.vs_record.Split('|');
                        //    }
                        //    else
                        //    {
                        //        pcwp_record = tmpData.vs_record;
                        //    }
                        //}
                    }
                    <td width="100">
                        <label>PCWP</label>
                        <input type="hidden" name="vs_item" value="pcwp" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        <input id="pcwp_text" type="text" name="pcwp_record" value="@(tmpData.vs_record)" setindex="Y"
                               va_check="true" lo_check="pcwpl" hi_check="pcwph" cr_model="pcwp" class="check" max_num="" min_num="" /> mmHg
                    </td>
                    <td width="160">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=pcwp_memo&pType=pcwp", 500, 600, "0")">
                        @Html.TextArea("pcwp_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="pcwp_need_memo" name="pcwp_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="Vs_plan_pcwp" type="checkbox" name="VS_plan" value="pcwp" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>

            <!--ETCO2-->
            <tbody id="etco" hide="@VitalSign_Helper.vs_tbody_ishide("etco", func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "etco");
                        string[] etco_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                etco_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                etco_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>ETCO2</label>
                        <input type="hidden" name="vs_item" value="etco" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        <input id="etco_text" type="text" name="etco_record" value="@(etco_record[0])" setindex="Y"
                               va_check="true" lo_check="etcol" hi_check="etcoh" cr_model="etco" class="check" max_num="" min_num="" /> mmHg
                    </td>
                    <td width="160">
                        @Html.TextArea("etco_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="etco_need_memo" name="etco_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="Vs_plan_etco" type="checkbox" name="VS_plan" value="etco" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>

            <!-- 血流動力 -->
            <!-- CO -->
            <tbody id="picco_co" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
                <tr class="picco">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_co");
                        string picco_co_record = string.Empty;
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            tmpData.plan = "checked";
                        }
                    }
                    <td width="100">
                        <label>CO</label>
                        <input type="hidden" name="vs_item" value="picco_co" />
                    </td>
                    <td width="200"></td>
                    <td>
                        <input id="picco_co_text" type="text" name="picco_co_record" value="@(tmpData.vs_record)" setindex="Y"
                               va_check="true" lo_check="picco_col" hi_check="picco_coh" cr_model="picco_co" class="check" max_num="" min_num="" />
                        <label id="picco_co_unit">L/min</label>

                    </td>
                    <td width="50">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_co_memo&pType=picco", 500, 600, "0")">
                        @Html.TextArea("picco_co_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })


                        <input type="hidden" id="picco_co_need_memo" name="picco_co_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_picco_co" type="checkbox" name="VS_plan" value="picco_co" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>

            <!-- CI -->
            <tbody id="picco_ci" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
                <tr class="picco">
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_ci");
                        string picco_ci_record = string.Empty;
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else
                        {
                            tmpData.plan = "checked";
                        }
                }
                <td width="100">
                    <label>CI</label>
                    <input type="hidden" name="vs_item" value="picco_ci" />
                </td>
                <td width="200"></td>
                <td>
                    <input id="picco_ci_text" type="text" name="picco_ci_record" value="@(tmpData.vs_record)" setindex="Y"
                           va_check="true" lo_check="picco_cil" hi_check="picco_cih" cr_model="picco_ci" class="check" max_num="" min_num="" />
                    <label id="picco_ci_unit"> L/min.m<sup>2</sup></label>
                </td>
                <td width="50">
                    <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_ci_memo&pType=picco", 500, 600, "0")">
                    @Html.TextArea("picco_ci_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="picco_ci_need_memo" name="picco_ci_need_memo" value="" />
                </td>
                <td width="110">
                    <input id="VS_plan_picco_ci" type="checkbox" name="VS_plan" value="picco_ci" @(tmpData.plan) />
                </td>
            </tr>
        </tbody>

        <!-- SV -->
        <tbody id="picco_sv" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_sv");
                    string picco_sv_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>SV</label>
                <input type="hidden" name="vs_item" value="picco_sv" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_sv_text" type="text" name="picco_sv_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_svl" hi_check="picco_svh" cr_model="picco_sv" class="check" max_num="" min_num="" />
                <label id="picco_sv_unit"> mL/beat</label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_sv_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_sv_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_sv_need_memo" name="picco_sv_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_sv" type="checkbox" name="VS_plan" value="picco_sv" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>

        <!-- SVI -->
        <tbody id="picco_svi" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_svi");
                    string picco_svi_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>SVI</label>
                <input type="hidden" name="vs_item" value="picco_svi" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_svi_text" type="text" name="picco_svi_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_svil" hi_check="picco_svih" cr_model="picco_svi" class="check" max_num="" min_num="" />
                <label id="picco_svi_unit"> mL/beat/m<sup>2</sup></label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_svi_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_svi_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_svi_need_memo" name="picco_svi_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_svi" type="checkbox" name="VS_plan" value="picco_svi" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>

        <!-- SVR -->
        <tbody id="picco_svr" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_svr");
                    string picco_svr_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>SVR</label>
                <input type="hidden" name="vs_item" value="picco_svr" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_svr_text" type="text" name="picco_svr_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_svrl" hi_check="picco_svrh" cr_model="picco_svr" class="check" max_num="" min_num="" />
                <label id="picco_svr_unit"> dynes-sec/cm<sup>-5</sup></label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_svr_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_svr_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_svr_need_memo" name="picco_svr_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_svr" type="checkbox" name="VS_plan" value="picco_svr" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>

        <!-- SVRI -->
        <tbody id="picco_svri" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_svri");
                    string picco_svri_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>SVRI</label>
                <input type="hidden" name="vs_item" value="picco_svri" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_svri_text" type="text" name="picco_svri_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_svril" hi_check="picco_svrih" cr_model="picco_svri" class="check" max_num="" min_num="" />
                <label id="picco_svri_unit">dynes-sec/cm<sup>-5</sup>/m<sup>2</sup></label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_svri_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_svri_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_svri_need_memo" name="picco_svri_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_svri" type="checkbox" name="VS_plan" value="picco_svri" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>

        <!-- SVV -->
        <tbody id="picco_svv" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_svv");
                    string picco_svv_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>SVV</label>
                <input type="hidden" name="vs_item" value="picco_svv" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_svv_text" type="text" name="picco_svv_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_svvl" hi_check="picco_svvh" cr_model="picco_svv" class="check" max_num="" min_num="" />
                <label id="picco_svv_unit">%</label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_svv_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_svv_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_svv_need_memo" name="picco_svv_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_svv" type="checkbox" name="VS_plan" value="picco_svv" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>

        <!-- ScvO2 -->
        <tbody id="picco_scvo2" class="picco" hide="@VitalSign_Helper.vs_tbody_ishide("picco", func_list)">
            <tr class="picco">
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "picco_scvo2");
                    string picco_scvo2_record = string.Empty;
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        tmpData.plan = "checked";
                    }
            }
            <td width="100">
                <label>ScvO2</label>
                <input type="hidden" name="vs_item" value="picco_scvo2" />
            </td>
            <td width="200"></td>
            <td>
                <input id="picco_scvo2_text" type="text" name="picco_scvo2_record" value="@(tmpData.vs_record)" setindex="Y"
                       va_check="true" lo_check="picco_scvo2l" hi_check="picco_scvo2h" cr_model="picco_scvo2" class="check" max_num="" min_num="" />
                <label id="picco_scvo2_unit">%</label>
            </td>
            <td width="50">
                <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=picco_scvo2_memo&pType=picco", 500, 600, "0")">
                @Html.TextArea("picco_scvo2_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                <input type="hidden" id="picco_scvo2_need_memo" name="picco_scvo2_need_memo" value="" />
            </td>
            <td width="110">
                <input id="VS_plan_picco_scvo2" type="checkbox" name="VS_plan" value="picco_scvo2" @(tmpData.plan) />
            </td>
        </tr>
        </tbody>
            <!-- 血液氣體 -->
            <tbody id="gas" hide="@VitalSign_Helper.vs_tbody_ishide("gas", func_list)">
                <tr>
                    <td width="100">
                        <label>血液氣體分析</label>
                        <input type="hidden" name="vs_item" value="gas" />
                    </td>
                    @{
                        var gas_select = "";
                        string[] gas_part = new string[] { "", "" };
                        string[] gas_record = new string[] { "", "" };
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gas");
                        var test = "||||||||||||||||||";
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                            gas_record = test.Split('|');
                        }
                        else
                        {
                            string[] tmp_part = tmpData.vs_part.Split('|');
                            for (int i = 0; i <= tmp_part.Length - 1; i++)
                            {
                                gas_part[i] = tmp_part[i];
                            }
                            gas_record = tmpData.vs_record.Split('|');
                            var group1 = 0;
                            var group2 = 0;
                            var group3 = 0;
                            for (int i = 0; i < gas_record.Count(); i++)
                            {
                                if (i <= 8)
                                {
                                    if (gas_record[i] != "")
                                    {
                                        group1 = 1;
                                    }
                                }
                                else if (i > 8 && i <= 14)
                                {
                                    if (gas_record[i] != "")
                                    {
                                        group2 = 1;
                                    }
                                }
                                else
                                {
                                    if (gas_record[i] != "")
                                    {
                                        group3 = 1;
                                    }
                                }
                            }


                            if (group1 == 1)
                            {
                                gas_select += "group1";
                            }
                            if (group2 == 1)
                            {
                                if (gas_select != "")
                                { gas_select += "|"; }
                                gas_select += "group2";
                            }
                            if (group3 == 1)
                            {
                                if (gas_select != "")
                                { gas_select += "|"; }
                                gas_select += "group3";
                            }
                            if (gas_select == "")
                            {
                                gas_select = "NoData";
                            }
                        }
                    }               
                    <td width="200">
                        <script type="text/javascript">
                            $(document).ready(function () {
                                    set_for_rb('gas_posture', '@gas_part[0]');
                                    $("#gas_position").val('@gas_part[1]');
                                    $("#gas_select").val('@gas_select');
                                
                                @*$("input[type=checkbox][name=gas_reason][value='@tmpData.vs_reason']").prop('checked', true);
                                        SetReason($("input[type=checkbox][name=gas_reason]"));*@
                            });
                        </script>
                        <label><input type="radio" name="gas_posture" value="右手橈動脈" onclick="gasPart('N')" />右手橈動脈</label>
                        <label><input type="radio" name="gas_posture" value="左手橈動脈" onclick="gasPart('N')" />左手橈動脈</label>
                        <label><input type="radio" name="gas_posture" value="右手肱動脈" onclick="gasPart('N')" />右手肱動脈</label>
                        <label><input type="radio" name="gas_posture" value="左手肱動脈" onclick="gasPart('N')" />左手肱動脈</label>
                        <label><input type="radio" name="gas_posture" value="右側股動脈" onclick="gasPart('N')" />右側股動脈</label>
                        <label><input type="radio" name="gas_posture" value="左側股動脈" onclick="gasPart('N')" />左側股動脈</label>
                        <label><input type="radio" name="gas_posture" value="右足背動脈" onclick="gasPart('N')" />右足背動脈</label>
                        <label><input type="radio" name="gas_posture" value="左足背動脈" onclick="gasPart('N')" />左足背動脈</label>
                        <br>
                        <label><input type="radio" name="gas_posture" value="其他" onclick="gasPart('other')" />其他</label>
                        <span id="gas_posture_part_other" style="display:none;">
                            <input type="text" id="gas_position" name="gas_position" style="width:150px;" />
                        </span>
                        @*<div id="div_mp">
                            <hr />
                            @VitalSign_Helper.vs_part_radio("gas_position", "左側|右側", gas_part[1])
                        </div>*@
                        <input type="hidden" id="gas_part" name="gas_part" value="" />
                    </td>

                    <td>
                        <input id="gassearch" type="button" value="查詢數據"  style="color:white;background-color:red" onclick="WS_Search('Gas','second')">
                        <div style="display:flex; flex-wrap:wrap">
                            <div style="display:inline-table;width:32%; min-width:130px">
                                <table   id="acid" style="border: 5px solid #FF00FF !important; width:100%">
                                    <tbody>
                                        <tr>
                                            <td colspan="2"><label style="font-size:14px" l><b>ACID/BASE</b></label></td>
                                        </tr>
                                        @*<tr>
                                            <td><label>溫度</label></td>
                                            <td>
                                                <input id="gas_tp" type="text" name="gas_record" value="@gas_record[0]" setindex="Y" style="width:50%"
                                                       va_check="true" lo_check="picco_scvo2l" hi_check="picco_scvo2h" cr_model="picco_scvo2" class="check" max_num="" min_num="" readonly />
                                                °C
                                            </td>
                                        </tr>*@
                                        <tr>
                                            <td><label> pH</label></td>
                                            <td>
                                                <input id="pH" type="text" name="gas_record" value="@gas_record[0]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                &emsp;
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> pCO<sub>2</sub></label></td>
                                            <td>
                                                <input id="pCO2" type="text" name="gas_record" value="@gas_record[1]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmHg</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> pO<sub>2</sub></label></td>
                                            <td>
                                                <input id="pO2" type="text" name="gas_record" value="@gas_record[2]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmHg</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> HCO<sub>3</sub><sup>-</sup>act</label></td>
                                            <td>
                                                <input id="HCO3_act" type="text" name="gas_record" value="@gas_record[3]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px">HCO<sub>3</sub><sup>-</sup>std</label></td>
                                            <td>
                                                <input id="HCO3_std" type="text" name="gas_record" value="@gas_record[4]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px">BE(B)</label></td>
                                            <td>
                                                <input id="BE_B" type="text" name="gas_record" value="@gas_record[5]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> BE(ecf)</label></td>
                                            <td>
                                                <input id="BE_ecf" type="text" name="gas_record" value="@gas_record[6]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px">ctO<sub>2</sub></label></td>
                                            <td>
                                                <input id="ctO2" type="text" name="gas_record" value="@gas_record[7]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="display:inline-table; margin-left: 0.3rem;width:32%; min-width:130px">
                                <table style="border: 5px solid #FFFF37!important;  width:100%">
                                    <tbody>
                                        <tr>
                                            <td colspan="2"><label style="font-size:14px"><b>CO-OXIMETRY</b></label></td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px">tHb</label></td>
                                            <td>
                                                <input id="tHb" type="text" name="gas_record" value="@gas_record[8]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">g/dL</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> sO<sub>2</sub></label></td>
                                            <td>
                                                <input id="SO2" type="text" name="gas_record" value="@gas_record[9]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">%</label>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> <I>F</I>O<sub>2</sub>Hb</label></td>
                                            <td>
                                                <input id="FO2Hb" type="text" name="gas_record" value="@gas_record[10]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">%</label>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> <I>F</I>COHb</label></td>
                                            <td>
                                                <input id="FCOHb" type="text" name="gas_record" value="@gas_record[11]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">%</label>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> <I>F</I>MetHb</label></td>
                                            <td>
                                                <input id="FMetHb" type="text" name="gas_record" value="@gas_record[12]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">%</label>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"><I>F</I>HHb</label></td>
                                            <td>
                                                <input id="FHHB" type="text" name="gas_record" value="@gas_record[13]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">%</label>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="display:inline-table; margin-left: 0.3rem ;width:32%; min-width:130px">
                                <table style="border: 5px solid #9AFF02 !important;  width:100%">
                                    <tbody>
                                        <tr>
                                            <td colspan="2"><label style="font-size:14px"><b>ELECTROLYTES</b></label></td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px">Na<sup>+</sup></label></td>
                                            <td>
                                                <input id="Na" type="text" name="gas_record" value="@gas_record[14]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> K<sup>+</sup></label></td>
                                            <td>
                                                <input id="K" type="text" name="gas_record" value="@gas_record[15]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> Ca<sup>++</sup></label></td>
                                            <td>
                                                <input id="Ca" type="text" name="gas_record" value="@gas_record[16]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> Ca<sup>++</sup>(7.4)</label></td>
                                            <td>
                                                <input id="Ca_7" type="text" name="gas_record" value="@gas_record[17]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label style="font-size:14px"> Cl<sup>-</sup></label></td>
                                            <td>
                                                <input id="CI" type="text" name="gas_record" value="@gas_record[18]"  style="width:50%" oninput="this.value=this.value.replace(/\D*(\d*)(\.?)(\d{0,3})\d*/,'$1$2$3')"/>
                                                <label style="font-size:12px">mmol/L</label>
                                                <input type="hidden" id="gas_select" name="gas_select" value="" />
                                                <input type="hidden" id="CREATE_DATE" name="gas_time" value="" />
                                                <input type="hidden" id="source" name="gas_source" value="" />
                                            </td>
                                        </tr> 
                                        <tr></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </td>
                    <td width="50">
                        <input type="button" value="給藥" onclick="@Java_funcion.pup_window("../CommonMedication/Medication_NurseExecute", 900, 600, "0")">
                        <input type="button" value="處置" onclick="@Java_funcion.pup_window("../VitalSign/SharedVitalSign?pCtrl=gas_memo&pType=gas", 500, 600, "0")">@Html.TextArea("gas_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                        <input type="hidden" id="gas_need_memo" name="gas_need_memo" value="" />
                    </td>
                    <td width="110">
                        <input id="VS_plan_gas" type="checkbox" name="VS_plan" value="gas" />
                    </td>
                </tr>
            </tbody>

            <!--一般嬰兒-->
            <tbody id="gi" hide="@VitalSign_Helper.vs_tbody_ishide("gi",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi");
                        string[] gi_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                gi_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                gi_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>保溫箱</label>
                        <input type="hidden" name="vs_item" value="gi" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>

                        <input id="gi_text" type="text" name="gi_record" value="@(gi_record[0])" setindex="Y" va_check="true" /> ℃

                    </td>
                    <td width="160">
                        @*@Html.TextArea("gi_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="gi_need_memo" name="gi_need_memo" value="" />*@
                    </td>
                    <td width="110">
                        <input id="Vs_plan_gi" type="checkbox" name="VS_plan" value="gi" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--總膽紅素-->
            <tbody id="gi_j" class="gi" hide="@VitalSign_Helper.vs_tbody_ishide("gi_j",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_j");
                        string[] gi_j_record = new string[] { "", "" };
                        gi_j_part = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                gi_j_record = tmpData.vs_record.Split('|');
                                gi_j_part = tmpData.vs_part.Split('|');
                            }
                            else
                            {
                                gi_j_record[0] = tmpData.vs_record;
                                gi_j_part[0] = tmpData.vs_part;
                            }
                        }
                    }
                    <td width="100">
                        <label>總膽紅素</label>
                        <input type="hidden" name="vs_item" value="gi_j" />
                    </td>
                    <td width="200">
                        @Html.RadioButton("gi_j_part", "檢驗科", gi_j_part[0] == "檢驗科" ? true : false, new { id = "gi_j_text1", onclick = "TBiltype('check')" })
                        @Html.Label("gi_j_text1", "檢驗科")
                        @Html.RadioButton("gi_j_part", "儀器設備", gi_j_part[0] == "儀器設備" ? true : false, new { id = "gi_j_text2", onclick = "TBiltype('machine')" })
                        @Html.Label("gi_j_text2", "儀器設備", new { @class = "gi_j_text2" })
                        
                    </td>
                    <td>
                        @*<input id="gi_j_text" type="radio" name="gi_j_record" value="@(gi_j_record[0])" setindex="Y" va_check="true" /> ℃*@
                        <input id="giMemo" type="text" name="gi_j_record" value="@(gi_j_record[0])"/>mg/dl
                        <input type="hidden" id="gi_j_need_memo" name="gi_j_record" value="" />
                        <input id="gisearch" type="button" value="查詢" onclick="WS_Search('TBil', 'second')">
                        <input id="gisearch_m" type="button" value="查詢" onclick="" style="display:none;">
                    </td>
                    <td width="160">
                        @*@Html.TextArea("gi_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="gi_need_memo" name="gi_need_memo" value="" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_gi_j" type="checkbox" name="VS_plan" value="gi_j" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--臍帶-->
            <tbody id="gi_c" class="gi"  hide="@VitalSign_Helper.vs_tbody_ishide("gi_c",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_c");
                        gi_c_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                gi_c_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                gi_c_record[0] = tmpData.vs_record;
                                gi_c_record[1] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>臍帶脫落</label>
                        <input type="hidden" name="vs_item" value="gi_c" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        @*<input id="gi_j_text" type="radio" name="gi_j_record" value="@(gi_j_record[0])" setindex="Y" va_check="true" /> ℃*@
                        @Html.RadioButton("gi_c_record", "有脫落", gi_c_record[0]== "有脫落" ? true:false, new { id = "gi_c_text1", onclick = "Umbilical('Y')" })
                        @Html.Label("gi_c_text1", "有")
                        @Html.RadioButton("gi_c_record", "無脫落" , gi_c_record[0] == "無脫落" ? true : false, new { id = "gi_c_text2", onclick = "Umbilical('N')" })
                        @Html.Label("gi_c_text2", "無", new { @class = "gi_c_text2" })                       
                         <span id="gi_c_text_here">
                            <select id="gi_c_type" name="gi_c_record" disabled="disabled">
                                <option value="">請選擇</option>
                                <option value="乾">乾</option>
                                <option value="濕">濕</option>
                            </select>
                        </span>

                    </td>
                    <td width="160">
                        @*@Html.TextArea("gi_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="gi_need_memo" name="gi_need_memo" value="" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_gi_c" type="checkbox" name="VS_plan" value="gi_c" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--尿液性質-->
            <tbody id="gi_u" class="gi"  hide="@VitalSign_Helper.vs_tbody_ishide("gi_u",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_u");
                        string[] gi_u_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                gi_u_record = tmpData.vs_record.Split('|');
                        @*<script type="text/javascript">
                        $(document).ready(function () {

                            $("input[type=radio][name=gi_u_record][value='@gi_u_record[1]']").prop('checked', true);

                        });
                    </script>*@
                            }
                            else
                            {
                                gi_u_record[0] = tmpData.vs_record;
                                gi_u_record[1] = tmpData.vs_record;
                            }


                        }
                        @*  無解尿不顯示0次

                            if (tmpData.vs_record == "無解尿")
                            {
                                gi_u_record[1] = gi_u_record[0];
                                gi_u_record[0] = "0";
                                   <script type="text/javascript">
                                                $(document).ready(function () {
                                    $('#gi_u_value').prop("disabled", true);
                                });
                                   </script>
                            }
                        *@
                    }
                    <td width="100">
                        <label> 尿液次數/</br>尿液性質</label>
                        <input type="hidden" name="vs_item" value="gi_u" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>

                        <input type="text" id="gi_u_value" name="gi_u_record" value="@(gi_u_record[0])" setindex="Y"
                               onfocus="ch_all_numcheck();" />
                        次
                        @*<label><input type="radio" name="gi_u_record" value="黃"  /> 黃 </label>

                    <label><input type="radio" name="gi_u_record" value="結晶尿" /> 結晶尿 </label>*@
                        @VitalSign_Helper.vs_part_radio("gi_u_record", "黃|結晶尿|無解尿", gi_u_record[1])

                    </td>
                    <td width="160">
                        @*@Html.TextArea("gi_memo", tmpData.vs_memo, new { style = "width:150px;height:50px;" })
                    <input type="hidden" id="gi_need_memo" name="gi_need_memo" value="" />*@
                    </td>
                    <td width="110">
                        <input id="VS_plan_gi_u" type="checkbox" name="VS_plan" value="gi_u" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--大便潛血:gi_st-->
            <tbody id="gi" hide="@VitalSign_Helper.vs_tbody_ishide("gi",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_st");
                        string[] gi_st_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            gi_st_record = tmpData.vs_record.Split('|');
                        }
                    }
                    <td id="gi_st_td" width="100">
                        <label>大便潛血</label>
                        <input type="hidden" name="vs_item" value="gi_st" />
                    </td>
                    <td width="200"></td>
                    <td width="50">
                        <input type="text" id="gi_st_value" name="gi_st_record" value="@gi_st_record[0]" setindex="Y" />
                        <input id="gi_st_search" type="button" value="查詢" onclick="WS_Search('OccBlood', 'second')">
                    </td>
                    <td width="50"></td>
                    <td width="110">
                        <input id="VS_plan_gi_st" type="checkbox" name="VS_plan" value="gi_st" @(tmpData.plan)/>
                    </td>
                </tr>
            </tbody>
            <!--新生兒週數:gi_new-->
            <tbody id="gi" hide="@VitalSign_Helper.vs_tbody_ishide("gi",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "gi_new");
                        string[] gi_new_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            gi_new_record = tmpData.vs_record.Split('|');
                        }
                    }
                    <td id="gi_new_td" width="100">
                        <label>新生兒週數</label>
                        <input type="hidden" name="vs_item" value="gi_new" />
                    </td>
                    <td width="200"></td>
                    <td width="50">
                        <input type="text" id="gi_new_value" name="gi_new_record" value="@gi_new_record[0]" setindex="Y"
                               max_num="" min_num="" onfocus="ch_all_numcheck();" />
                        <label id="new_weeks">週</label>
                        <input type="text" id="gi_new_value" name="gi_new_record" value="@gi_new_record[1]" setindex="Y"
                               max_num="" min_num="" onfocus="ch_all_numcheck();" />
                        <label id="new_days">天</label>
                    </td>
                    <td width="50"></td>
                    <td width="110">
                        <input id="VS_plan_gi_new" type="checkbox" name="VS_plan" value="gi_new" @(tmpData.plan)/>
                    </td>
                </tr>
            </tbody>

            <!--重症嬰兒-->
            <tbody id="si" class="si" hide="@VitalSign_Helper.vs_tbody_ishide("si",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si");
                        string[] si_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                si_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                si_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>保溫箱溫度</label>
                        <input type="hidden" name="vs_item" value="si" />
                    </td>
                    <td width="200"></td>
                    <td width="50">
                        <input id="si_text" type="text" name="si_record" value="@(si_record[0])" setindex="Y" va_check="true" /> ℃
                    </td>
                    <td width="160"></td>
                    <td width="110">
                        <input id="VS_plan_si" type="checkbox" name="VS_plan" value="si" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--膚色-->
            <tbody id="si_n"  class="si"  hide="@VitalSign_Helper.vs_tbody_ishide("si_n",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_n");
                        string[] si_n_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                si_n_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                si_n_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>膚色</label>
                        <input type="hidden" name="vs_item" value="si_n" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        @VitalSign_Helper.vs_part_radio("si_n_record", "蒼白|棕|紫|黃|斑|粉紅", si_n_record[0])
                        @*<label><input type="radio" name="si_n_record" value="蒼白" onclick="$('si_n_record[0]').show();" setindex="Y" va_check="true" /> 蒼白</label>
                       *@
                    </td>
                    <td width="160"></td>
                    <td width="110">
                        <input id="VS_plan_si_n" type="checkbox" name="VS_plan" value="si_n" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--呼吸型態-->
            <tbody id="si_b" class="si"  hide="@VitalSign_Helper.vs_tbody_ishide("si_b",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_b");
                        string[] si_b_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("/") > -1)
                            {
                                si_b_record = tmpData.vs_record.Split('/');
                            }
                            else
                            {
                                si_b_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>呼吸型態</label>
                        <input type="hidden" name="vs_item" value="si_b" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        @Html.RadioButton("si_b_part", "自呼吸", si_b_record[0] == "自呼吸" ? true : false, new { id = "si_b_part1", onclick = "Breathe('self')" })
                        @Html.Label("si_b_part1", "自呼吸")
                        @Html.RadioButton("si_b_part", "CPAP", si_b_record[0] == "CPAP" ? true : false, new { id = "si_b_part2", onclick = "Breathe('CPAP')" })
                        @Html.Label("si_b_part2", "CPAP")
                        @Html.RadioButton("si_b_part", "Hood", si_b_record[0] == "Hood" ? true : false, new { id = "si_b_part3", onclick = "Breathe('Hood')" })
                        @Html.Label("si_b_part3", "Hood")
                        @Html.RadioButton("si_b_part", "噴霧", si_b_record[0] == "噴霧" ? true : false, new { id = "si_b_part4", onclick = "Breathe('spray')" })
                        @Html.Label("si_b_part4", "噴霧")
                        @Html.RadioButton("si_b_part", "吸氧氣", si_b_record[0] == "吸氧氣" ? true : false, new { id = "si_b_part5", onclick = "Breathe('H')" })
                        @Html.Label("si_b_part5", "吸氧氣")
                        @Html.RadioButton("si_b_part", "呼吸器", si_b_record[0] == "呼吸器" ? true : false, new { id = "si_b_part6", onclick = "Breathe('Respirator')" })
                        @Html.Label("si_b_part6", "呼吸器")  
                        @Html.RadioButton("si_b_part", "", si_b_record[0] == "" ? true : false, new { id = "si_b_part7", onclick = "Breathe('other')" })
                        @Html.Label("si_b_part7", "其他", new { @class = "si_b_part7" })

                        @{
                            tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_b");
                            string si_b_tmpData2 = "";
                            if (tmpData == null)
                            {
                                tmpData = new VitalSignData();
                            }
                            else
                            {
                                if (tmpData.vs_record != null && tmpData.vs_record.ToString() != "" && tmpData.vs_record.IndexOf('|') > -1)
                                {
                                    si_b_tmpData2 = tmpData.vs_record.Split('|').GetValue(0).ToString();
                                    <script type="text/javascript">
                                            $(document).ready(function () {
                                                $('#si_b_text').val('@(tmpData.vs_record.Split('|').GetValue(1).ToString())');
                                                set_for_rb('si_b_part', '@si_b_tmpData2');
                                                });
                                    </script>
                                }


                            }
                        }

                        <input type="hidden" name="si_b_record" relate_field="si_b_part" value="@tmpData.vs_record" />
                        @*<input id="eat_text" type="text" name="eat_record" value="" setindex="N" value="" cr_model="eat" />*@
                        @Html.TextArea("si_b_record", new { id = "si_b_text", style = "display:none;width:150px;height:18px;" })
                        
                        @*@VitalSign_Helper.vs_part_radio("si_b_record", "自呼吸|CPAP|Hood|噴霧|吸氧氣|呼吸器", si_b_record[0])
                        <label>其他:<input type="text" name="si_b_record" value="@si_b_record[0]"  /></label>*@
                        @*<label><input type="radio" name="si_b_record" value="自呼吸" @(si_b_record) setindex="Y" va_check="true" /> 自呼吸</label>*@
                 
                    </td>
                    <td width="160"></td>
                    <td width="110">
                        <input id="VS_plan_si_b" type="checkbox" name="VS_plan" value="si_b" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--呼吸品質-->
            <tbody id="si_r" class="si"  hide="@VitalSign_Helper.vs_tbody_ishide("si_r",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_r");
                        string[] si_r_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                si_r_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                si_r_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>呼吸品質</label>
                        <input type="hidden" name="vs_item" value="si_r" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        @VitalSign_Helper.vs_part_radio("si_r_record", "正常|輔助|呻吟|凹陷", si_r_record[0])
                        @*<label><input type="radio" name="si_r_record" value="正常 @(si_r_record) " setindex="Y" va_check="true" /> 正常 </label>*@                     
                    </td>
                    <td width="160">&nbsp;</td>
                    <td width="110">
                        <input id="VS_plan_si_r" type="checkbox" name="VS_plan" value="si_r" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--痰液-->
            <tbody id="si_s" class="si"  hide="@VitalSign_Helper.vs_tbody_ishide("si_s",func_list)">
                <tr>
                    @{
                        //20/JUL/2017 移至最上方   
                    }
                    <td width="100">
                        <label>痰液</label>
                        <input type="hidden" name="vs_item" value="si_s" />
                    </td>
                    <td width="200">&nbsp;</td>
                   <td>
                    <select id="sis" name="si_s_record" onchange="startClose(this)">
                        <option value="">請選擇量</option>
                        <option value="無">無</option>
                        <option value="少">少</option>
                        <option value="中">中</option>
                        <option value="多">多</option>
                    </select>
                    <select id="sir" name="si_s_record">
                        <option value="">請選擇性質</option>
                        <option value="稠">稠</option>
                        <option value="稀">稀</option>
                        <option value="黏">黏</option>
                    </select>
                    <select id="sid" name="si_s_record">
                        <option value="">請選擇顏色</option>
                        <option value="黃">黃</option>
                        <option value="白">白</option>
                        <option value="粉紅">粉紅</option>
                    </select>


                    </td>
                    <td width="160">&nbsp;</td>
                    <td width="110">
                        <input id="VS_plan_si_s" type="checkbox" name="VS_plan" value="si_s" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--翻身-->
            <tbody id="si_o" class="si"  hide="@VitalSign_Helper.vs_tbody_ishide("si_o",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_o");
                        string[] si_o_record = new string[] { "", "" };
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                si_o_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                si_o_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>翻身</label>
                        <input type="hidden" name="vs_item" value="si_o" />
                    </td>
                    <td width="200">&nbsp;</td>
                    <td>
                        @VitalSign_Helper.vs_part_radio("si_o_record", "左側臥|右側臥|平躺|趴睡", tmpData.vs_record)


                        @*<label><input type="radio" name="si_o_record" value="左側臥 @(si_o_record)" setindex="Y"  va_check="true" /> 左側臥</label>
                    <label><input type="radio" name="si_o_record" value="右側臥 @(si_o_record)" setindex="Y"  va_check="true" /> 右側臥</label>
                    <label><input type="radio" name="si_o_record" value="平躺 @(si_o_record)"   setindex="Y"   va_check="true" /> 平躺  </label>
                    <label><input type="radio" name="si_o_record" value="趴睡 @(si_o_record)"   setindex="Y"   va_check="true" /> 趴睡  </label>*@

                    </td>
                    <td width="160">&nbsp;</td>
                    <td width="110">
                        <input id="VS_plan_si_o" type="checkbox" name="VS_plan" value="si_o" @(tmpData.plan) />
                    </td>
                </tr>
            </tbody>
            <!--尿液檢驗項目:si_inspect-->
            <tbody id="si" hide="@VitalSign_Helper.vs_tbody_ishide("si",func_list)">
                <tr>
                    @{
                        tmpData = VitalSignData.getVSItem(vsdl.DataList, "si_inspect");
                        string[] si_inspect_record = new string[] { "", "" ,""};
                        if (tmpData == null)
                        {
                            tmpData = new VitalSignData();
                        }
                        else if (tmpData.vs_record != "")
                        {
                            if (tmpData.vs_record.IndexOf("|") > -1)
                            {
                                si_inspect_record = tmpData.vs_record.Split('|');
                            }
                            else
                            {
                                si_inspect_record[0] = tmpData.vs_record;
                            }
                        }
                    }
                    <td width="100">
                        <label>尿液檢驗項目</label>
                        <input type="hidden" name="vs_item" value="si_inspect" />
                    </td>
                    <td width="200"></td>
                    <td width="50">
                        <label id="urine_protein">尿蛋白</label>
                        <input type="text" id="si_inspect_value" name="si_inspect_record" value="@si_inspect_record[0]" setindex="Y" />

                        <label id="urine_sugar">尿糖</label>
                        <input type="text" id="si_inspect_value" name="si_inspect_record" value="@si_inspect_record[1]" setindex="Y" />

                        <label id="urine_ph">ph值</label>
                        <input type="text" id="si_inspect_value" name="si_inspect_record" value="@si_inspect_record[2]" setindex="Y" />
                    </td>
                    <td width="50"></td>
                    <td width="110">
                        <input id="VS_plan_si_inspect" type="checkbox" name="VS_plan" value="si_inspect" @(tmpData.plan)/>
                    </td>
                </tr>
            </tbody>
            @*<tbody id="ab" hide="@VitalSign_Helper.vs_tbody_ishide("ab", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "ab");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                @{
                    string[] ab_record = new string[] { "", "" };
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "ab");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        string[] tmp_part = tmpData.vs_part.Split('|');
                        if (tmpData.vs_record != "")
                        { ab_record = tmpData.vs_record.Split('|'); }
                    }
                }
                <td width="100">
                    <label>動脈血壓</label>
                    <input type="hidden" name="vs_item" value="ab" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="ab_record" setindex="Y" value="@(ab_record[0])" /> /
                    <input type="text" name="ab_record" setindex="Y" value="@(ab_record[1])" /> mmHg
                </td>
                <td width="160">
                    @*<input type="text" name="ab_memo" class="tooltip" title="@(tmpData.vs_memo)" value="" />
                </td>
                <td width="110">
                    @Html.DropDownList("ab_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="pa" hide="@VitalSign_Helper.vs_tbody_ishide("pa", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "pa");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                @{
                    string[] pa_record = new string[] { "", "" };
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "pa");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        string[] tmp_part = tmpData.vs_part.Split('|');
                        if (tmpData.vs_record != "")
                        { pa_record = tmpData.vs_record.Split('|'); }
                    }
                }
                <td width="100">
                    <label>肺動脈壓</label>
                    <input type="hidden" name="vs_item" value="pa" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="pa_record" setindex="Y" value="@(pa_record[0])" /> /
                    <input type="text" name="pa_record" setindex="Y" value="@(pa_record[1])" /> mmHg
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("pa_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="cp" hide="@VitalSign_Helper.vs_tbody_ishide("cp", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "cp");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>腦灌流壓</label>
                    <input type="hidden" name="vs_item" value="cp" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="cp_record" setindex="Y" value="@(tmpData.vs_record)" /> mmHg
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("cp_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="fb" hide="@VitalSign_Helper.vs_tbody_ishide("fb", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "fb");
                    string[] fb_record = new string[] { "", "" };
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        if (tmpData.vs_record != "")
                        {
                            fb_record = tmpData.vs_record.Split('|');
                        }
                    }
                }
                <td width="100">
                    <label>足背動脈</label>
                    <input type="hidden" name="vs_item" value="fb" />
                </td>
                <td width="200">左<hr />右</td>
                <td>
                    @VitalSign_Helper.vs_part_radio("fb_rec_l", "-|+|++|+++|++++", fb_record[0])
                    <hr />
                    @VitalSign_Helper.vs_part_radio("fb_rec_r", "-|+|++|+++|++++", fb_record[1])
                    <input type="hidden" name="fb_record" relate_field="fb_rec_l|fb_rec_r" value="@(tmpData.vs_record)"/>
                </td>
                <td width="160">
                    @*<input type="text" name="pa_memo" class="tooltip" title="@(tmpData.vs_memo)" value=""/>
                </td>
                <td width="110">
                    @Html.DropDownList("pa_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="co" hide="@VitalSign_Helper.vs_tbody_ishide("co", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "co");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>心輸出量</label>
                    <input type="hidden" name="vs_item" value="co" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="co_record" setindex="Y" value="@(tmpData.vs_record)" /> L/min
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("co_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="ci" hide="@VitalSign_Helper.vs_tbody_ishide("ci", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "ci");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>心輸出量指數</label>
                    <input type="hidden" name="vs_item" value="ci" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="ci_record" setindex="Y" value="@(tmpData.vs_record)" />  L/min/m2
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("ci_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="sv" hide="@VitalSign_Helper.vs_tbody_ishide("sv", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "sv");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>混合靜脈血氧飽合度</label>
                    <input type="hidden" name="vs_item" value="sv" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    <input type="text" name="sv_record" setindex="Y" value="@(tmpData.vs_record)" />  L/min
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("sv_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="ral" hide="@VitalSign_Helper.vs_tbody_ishide("ral", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "ral");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>橈動脈(左)</label>
                    <input type="hidden" name="vs_item" value="ral" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    @VitalSign_Helper.vs_part_radio("ral_record", "-|+|++|+++|++++", tmpData.vs_record)
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("ral_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="rar" hide="@VitalSign_Helper.vs_tbody_ishide("rar", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "rar");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>橈動脈(右)</label>
                    <input type="hidden" name="vs_item" value="rar" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    @VitalSign_Helper.vs_part_radio("rar_record", "-|+|++|+++|++++", tmpData.vs_record)
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("rar_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="pwo" hide="@VitalSign_Helper.vs_tbody_ishide("pwo", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "pwo");
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                }
                <td width="100">
                    <label>穿刺傷口滲血</label>
                    <input type="hidden" name="vs_item" value="pwo" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    @VitalSign_Helper.vs_part_radio("pwo_record", "無|有", tmpData.vs_record)
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("pwo_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>
        <tbody id="pwh" hide="@VitalSign_Helper.vs_tbody_ishide("pwh", func_list)">
            <tr>
                @{
                    tmpData = VitalSignData.getVSItem(vsdl.DataList, "pwh");
                    string[] pwh_record = new string[] { "", "" };
                    if (tmpData == null)
                    {
                        tmpData = new VitalSignData();
                    }
                    else
                    {
                        if (tmpData.vs_record != "")
                        {
                            pwh_record = tmpData.vs_record.Split('|');
                        }
                    }
                }
                <td width="100">
                    <label>穿刺傷口血腫</label>
                    <input type="hidden" name="vs_item" value="pwh" />
                </td>
                <td width="200">&nbsp;</td>
                <td>
                    @VitalSign_Helper.vs_part_radio("pwh_record", "無|有", pwh_record[0])
                    <input type="text" name="pwh_record" setindex="Y" value="@pwh_record[1]" /> cm
                </td>
                <td width="160">
                </td>
                <td width="110">
                    @Html.DropDownList("pwh_reason", new SelectList(falseReason, "Value", "Key", tmpData.vs_reason))
                </td>
            </tr>
        </tbody>*@
        </table>
    </form>
</div>

<!-- 小鍵盤 -->
<div id="keybord">
    <table cellpadding="0" cellspacing="5">
        <tr>
            <td><button>1</button></td>
            <td><button>2</button></td>
            <td><button>3</button></td>
            <td><button>0</button></td>
            <td>

                <button style="width:60px;">&times;</button>
            </td>
        </tr>
        <tr>
            <td><button>4</button></td>
            <td><button>5</button></td>
            <td><button>6</button></td>
            <td><button>&larr;</button></td>
            <td rowspan="2"><button style="width: 60px; height: 75px">&crarr;</button></td>
        </tr>
        <tr>
            <td><button>7</button></td>
            <td><button>8</button></td>
            <td><button>9</button></td>
            <td><button>.</button></td>
        </tr>
    </table>

</div>

<!-- 遮罩 -->
<div id="mask" class="mask"></div>
<div id="info" class="mask">
    <img src="~/Images/System/saving.gif" alt="儲存中" />
</div>

<!-- 處置選項資料放置處 -->
<div id="vs_prompt" style="overflow-y: scroll;"></div>

<!--總膽紅素、大便潛血隱藏視窗-->
<div id="drainage_modal" style="width:800px;height:500px;display:none;">
    <div style="height:500px;width:100%;">
        <div id="win_header">

        </div>
        <div id="win_content">
            @Html.TextBox("start_date", start.ToString("yyyy/MM/dd"), new { style = "width:80px", @readonly = "readonly" })
            @Html.Label("lab", " ~ ")
            @Html.TextBox("end_date", end, new { style = "width:80px", @readonly = "readonly" })
            @WebTool.setDateTime("start_date", "", "", (end_date).ToString(), (ViewBag.inday).ToString(), "", "", "1020")
            @WebTool.setDateTime("end_date", "", "", (end_date).ToString(), (ViewBag.inday).ToString(), "", "", "1020")
            @*@WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "start_date", "", false, "", "1020")
                @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "end_date", "", false, "", "1020")*@
            <input type="hidden" id="source" value="">
            <input type="button" value="查詢" style="width:60px;" onclick="WS_Search('date_search', 'range');" />
        </div>
        <table id="Dt" style="margin-top:67px;border: 1px solid;width:100%;border-collapse: collapse;">
            <thead>
                <tr class="" style="border: 1px solid;">
                    <th style="border: 1px solid;">帶入</th>
                    <th style="border: 1px solid;">時間</th>
                    <th style="border: 1px solid;">數值</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <table style="display:none;">
            <tbody id="item_tmp">
                <tr style="background-color:honeydew;border: 1px solid;" data-json="">
                    <td style="border: 1px solid;text-align:center;">
                        <input type="radio" name="vs_id" id="" value="" data-feq="" />
                    </td>
                    <td name="Date" style="border: 1px solid;"></td>
                    <td name="Num_Value" style="border: 1px solid;"></td>
                </tr>
            </tbody>
        </table>
        <div id="win_footer">
            <input type="button" value="帶入" onclick="WS_insert('date_search');" />
            <input type="button" value="關閉" onclick="$.unblockUI();" />
        </div>
    </div>
</div>
<script>

    $(document).ready(function () {

        //過濾欄位設定
        check_vs_items("", "");
    })

</script>
<!--血液氣體隱藏視窗-->
<div id="gas_modal" style="width:900px;height:500px;display:none;">
    <div style="height:500px;width:100%;">
        <div id="win_gas_header" style="margin-top:0.3rem">

        </div>
        <div id="win_content">
            <br>
            <label>範圍區間</label>

            @Html.TextBox("start_date_gas", DateTime.Now.ToString("yyyy/MM/dd"), new { style = "width:80px", @readonly = "readonly" })
            @Html.Label("lab", " ~ ")
            @Html.TextBox("end_date_gas", DateTime.Now.ToString("yyyy/MM/dd"), new { style = "width:80px", @readonly = "readonly" })

            @WebTool.setDateTime("start_date_gas", "", "true", (0).ToString(), (ViewBag.inday).ToString(), "", "", "1020")
            @WebTool.setDateTime("end_date_gas", "", "", (0).ToString(), (ViewBag.inday).ToString(), "", "", "1020")

            <input type="hidden" id="source" value="">
            <input type="button" value="查詢" style="width:60px;" onclick="reloadGas();" />
        </div>
        <br>
        <div style="overflow-x:auto">
            <table id="gasGrid"></table>
            <div id="pager"></div>
        </div>
        <div id="win_footer">

            <label>條件篩選</label>
            <input type="checkbox" id="acidbase" name="group" value="group1" checked>
            <label for="acidbase">ACID/BASE</label>
            <input type="checkbox" id="co" name="group" value="group2" checked>
            <label for="co">CO-OXIMETRY</label>
            <input type="checkbox" id="ele" name="group" value="group3" checked>
            <label for="ele">ELECTROLYTES</label>
            <br>
            <input type="button" value="帶入" onclick="getSelecteds();" />
            <input type="button" value="關閉" onclick="$.unblockUI();" />
        </div>
    </div>
</div>



<script type="text/javascript">
    function showmodalGas(source) {

        var div_view = $('#gas_modal');
        $('#win_gas_header').html('血液氣體查詢');
        $('#source').val('Gas');

        $.blockUI({
            message: div_view,
            onOverlayClick: $.unblockUI(),
            focusInput: false,
            overlayCSS: {
                border: 'none',
                cursor: 'default'
            },
            css: {
                top: ($(window).height() - div_view.height()) / 2 + 'px',
                left: ($(window).width() - div_view.width()) / 2 + 'px',
                width: 'min-content',
                border: 'none',
                cursor: 'default'
            },
            onBlock: function () {
            }
        });
    }
    $("#gasGrid").jqGrid({
        url: 'GasQueryRanger',
        datatype: 'json',
        jsonReader: {
            repeatitems: false
        },
        mtype: 'GET',
        colModel: [
                 { name: 'CREATE_DATE', label: '測量時間' },
           { name: 'pH', label: 'pH' },
           { name: 'pCO2', label: 'pCO<sub>2</sub>' },
           { name: 'pO2', label: 'pO<sub>2</sub>' },
           { name: 'HCO3_act', label: 'HCO<sub>3</sub><sup>-</sup>act' },
           { name: 'HCO3_std', label: 'HCO<sub>3</sub><sup>-</sup>std' },
           { name: 'BE_B', label: 'BE(B)' },
           { name: 'BE_ecf', label: 'BE(ecf)' },
           { name: 'ctO2', label: 'ctO<sub>2</sub>' },
           { name: 'tHb', label: 'tHb' },
           { name: 'SO2', label: 'sO<sub>2</sub>' },
           { name: 'FO2Hb', label: '<I>F</I>O2Hb' },
           { name: 'FCOHb', label: '<I>F</I>COHb' },
           { name: 'FMetHb', label: '<I>F</I>MetHb' },
           { name: 'FHHB', label: '<I>F</I>HHb' },
           { name: 'Na', label: 'Na<sup>+</sup>' },
           { name: 'K', label: 'K<sup>+</sup>' },
           { name: 'Ca', label: 'Ca<sup>++</sup>' },
           { name: 'Ca_7', label: 'Ca<sup>++</sup>(7.4)' },
           { name: 'CI', label: 'Cl<sup>-</sup>' },
           { name: 'source', label: 'TYPE' },
        ],
        width: 'auto',
        height: 'auto',
        rowNum: 10,
        rowList: [5, 10, 20, 50],
        rownumbers: true,
        sortname: 'Name',
        sortorder: "asc",
        viewrecords: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ,               //是否要顯示總筆數
        caption: 'Blood Gas',
        loadonce: true,
        multiselect: false,
        autoScroll: false,
        loadComplete: function (data) {
            var allRows = $('#gasGrid').jqGrid('getDataIDs');
            for (var i = 0; i < allRows.length; i++) {
                var rowid = allRows[i];
                if ($('#gasGrid').jqGrid('getCell', rowid, 'pH') < 7.35 || $('#gasGrid').jqGrid('getCell', rowid, 'pH') > 7.45) {
                    $('#gasGrid').jqGrid('setCell', rowid, 'pH', '', { color: 'red' });
                }

                if ($('#gasGrid').jqGrid('getCell', rowid, 'pCO2') < 35 || $('#gasGrid').jqGrid('getCell', rowid, 'pH') > 45) {
                    $('#gasGrid').jqGrid('setCell', rowid, 'pCO2', '', { color: 'red' });
                }

                if ($('#gasGrid').jqGrid('getCell', rowid, 'pO2') <= 75 || $('#gasGrid').jqGrid('getCell', rowid, 'pO2') > 100) {
                    $('#gasGrid').jqGrid('setCell', rowid, 'pO2', '', { color: 'red' });
                }

            }
        }
    });
    $("#gasGrid").jqGrid("setGroupHeaders", {
        useColSpanStyle: true,
        groupHeaders: [
            { startColumnName: "pH", numberOfColumns: 8, titleText: "ACID/BASE", className: "acid" },
            { startColumnName: "tHb", numberOfColumns: 6, titleText: "CO-OXIMETRY", className: "co" },
            { startColumnName: "Na", numberOfColumns: 5, titleText: "ELECTROLYTES", className: "ele" },

        ]
    });

    //BloodGas 帶入 VitalSign編輯畫面
    function getSelecteds() {

        //清空上一次帶入的資料
        $('input[name="gas_record"]').val('')
        //取得資料
        var id = $("#gasGrid").jqGrid("getGridParam", "selrow");
        if (id != null) {
            var row = $("#gasGrid").jqGrid('getRowData', id);
            var time = ['CREATE_DATE'];
            var source = ['source'];
            var group1 = ['pH', 'pCO2', 'pO2', 'HCO3_act', 'HCO3_std', 'BE_B', 'BE_ecf', 'ctO2'];
            var group2 = ['tHb', 'SO2', 'FO2Hb', 'FCOHb', 'FMetHb', 'FHHB'];
            var group3 = ['Na', 'K', 'Ca', 'Ca_7', 'CI'];
            var select = [];
            var temp = [];

            var gpArr = new Array();
            $('input:checkbox:checked[name="group"]').each(function (i) { gpArr[i] = this.value; });

            var select_group = "";
            for (i = 0 ; i < gpArr.length; i++) {
                if (i == gpArr.length-1) {
                    select_group += gpArr[i];
                }
                else
                {
                    select_group += gpArr[i] + "|";
                }
            }

            $("#gas_select").val(select_group);

            for (i = 0 ; i < gpArr.length; i++) {
                var type = gpArr[i];
                switch (type) {
                    case 'group1':
                        select.push(group1);
                        break;
                    case 'group2':
                        select.push(group2);
                        break;
                    case 'group3':
                        select.push(group3);
                        break;
                }
            }
            select.push(time);
            select.push(source);
            var all = temp.concat(time);

            for (var k in row) {
                for (i = 0 ; i < select.length ; i++) {
                    if (select[i].indexOf(k) != -1) {
                        $("#" + k + "").val(row[k]);
                        //$("#" + k + "").prop("readonly", true)
                    }
                }
            }
            alert("帶入成功");
            $("#VS_plan_gas").prop("checked", true)

            $.unblockUI();
        }
        else {
            alert("請先勾選紀錄");
        }

        }

    //重新載入BloodGas 資料
    function reloadGas()
    {
        var start_date = $("#win_content #start_date_gas").val();
        var end_date = $("#win_content #end_date_gas").val();

        $.ajax({
             type:"POST",
             url: 'GasQueryRanger',
             datatype: 'json',
             data: {
                 start: start_date,
                 end: end_date,
             },
             async:false,
             success : function(result) {
                 if (result == "" || result == null) {
                     alert("此區間範圍查無資料")
                 }
                 $('#gasGrid').jqGrid('clearGridData');
                 $("#gasGrid").jqGrid('setGridParam', { data: result }).trigger("reloadGrid");
              }
            });
    }
</script>
<style>
    .ui-jqgrid .ui-jqgrid-bdiv {
        border-top: 1px solid #E1E1E1;
        overflow-x: hidden;
    }

    .ui-widget-header {
        background: #85A5CC;
    }

    .ui-state-highlight {
        background: #f6e6b4 !important;
    }
    sub {
        vertical-align: sub;
        font-size: x-small;
    }
    sup {
        vertical-align: super;
        font-size: x-small;
    }
    .acid{
       border: 3px solid #FF00FF !important;
       font-weight: bolder !important; 
       border-bottom: 0px solid !important;
    }
    .co{
       border: 3px solid #FFFF37!important;
       font-weight: bolder !important;
       border-bottom: 0px solid !important;
    }
    .ele{
       border: 3px solid #9AFF02 !important;
       font-weight: bolder !important;
       border-bottom: 0px solid !important;
    }
    .ui-jqgrid-htable
    {
        height:25px !important
    }
    .ui-th-div
    {
          height:25px !important
    }
        #gasGrid_pH{
       border-left: 3px solid #FF00FF !important;
       border-bottom: 3px solid #FF00FF !important;
    }
     #gasGrid_pCO2 , #gasGrid_pO2, #gasGrid_HCO3_act, #gasGrid_HCO3_std, #gasGrid_BE_B, #gasGrid_BE_ecf
    {
       border-bottom: 3px solid #FF00FF !important;
    }
    #gasGrid_ctO2{
       border-right: 3px solid #FF00FF !important;
       border-bottom: 3px solid #FF00FF !important;
    }

     #gasGrid_tHb{
       border-left: 3px solid #FFFF37 !important;
       border-bottom: 3px solid #FFFF37 !important;
    }
     #gasGrid_SO2 , #gasGrid_FO2Hb, #gasGrid_FCOHb, #gasGrid_FMetHb
    {
       border-bottom: 3px solid #FFFF37 !important;
    }
    #gasGrid_FHHB{
       border-right: 3px solid #FFFF37 !important;
       border-bottom: 3px solid #FFFF37 !important;
    }

    #gasGrid_Na{
       border-left: 3px solid #9AFF02 !important;
       border-bottom: 3px solid #9AFF02 !important;
    }
     #gasGrid_K , #gasGrid_Ca, #gasGrid_Ca_7
    {
       border-bottom: 3px solid #9AFF02 !important;
    }
    #gasGrid_CI{
       border-right: 3px solid #9AFF02 !important;
       border-bottom: 3px solid #9AFF02 !important;
    }
</style>