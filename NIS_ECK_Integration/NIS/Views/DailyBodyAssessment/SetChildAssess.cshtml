@using System.Data;
@{
    NIS.Data.PatientInfo ptinof = (NIS.Data.PatientInfo)ViewData["ptinfo"];
    string DBAMType = ViewBag.DBAMType;
    string SexVal = ViewBag.SexVal;
    //int ptAge = ViewBag.ptAge;
    //int ptMon = ViewBag.ptMon;
    int ptAge = ptinof.Age;
    int ptMon = ptinof.Month;
    //判斷 Coma Scale
    string TitleCont_M = "", TitleCont_E = "", TitleCont_V = "", ComaScaleItem_M = "", ComaScaleItem_E = "", ComaScaleItem_V = "";
    switch (ptAge)
    {//這裡用 \n 才可以換行，直接在 title 裡放入 &#10; 才可以換行
        case 0:
        //if (0 <= ptMon && ptMon < 6)
        //{
        //    TitleCont_E = "0-6月: \n 自行睜眼　4分 \n 聽到聲音　3分 \n 痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
        //    TitleCont_V = "0-6月: \n 發出聲音　3分 \n 會哭　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
        //    TitleCont_M = "0-6月: \n 肢體屈曲　3分 \n 肢體伸張　2分 \n 無反應　　1分";  //M 註解文字
        //    ComaScaleItem_E = "4|3|2|1|C";  //E 項目
        //    ComaScaleItem_V = "3|2|1|T|A|E";  //V 項目
        //    ComaScaleItem_M = "3|2|1";  //M 項目
        //}
        //else
        //{
        //    TitleCont_E = "6-12月: \n 自行睜眼　4分 \n 聽到聲音　3分 \n 痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
        //    TitleCont_V = "6-12月: \n 發出聲音　3分 \n 會哭　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
        //    TitleCont_M = "6-12月: \n 對痛反應良好　　5分 \n 對痛可稍許活動 　4分 \n 對痛呈肢體屈曲　3分 \n 對痛呈肢體伸張　2分 \n 無反應　　1分";  //M 註解文字
        //    ComaScaleItem_E = "4|3|2|1|C";  //E 項目
        //    ComaScaleItem_V = "3|2|1|T|A|E";  //V 項目
        //    ComaScaleItem_M = "5|4|3|2|1";  //M 項目
        //}
        //break;
        case 1:
        //TitleCont_E = "1歲-2歲: \n 自行睜眼　4分 \n 聽到聲音　3分 \n 痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
        //TitleCont_V = "1歲-2歲: \n 可說話　　4分 \n 發出聲音　3分 \n 會哭　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
        //TitleCont_M = "1歲-2歲: \n 對痛反應良好　　5分 \n 對痛可稍許活動　4分 \n 對痛呈肢體屈曲　3分 \n 對痛呈肢體伸張　2分 \n 無反應 　　1分";  //M 註解文字
        //ComaScaleItem_E = "4|3|2|1|C";  //E 項目
        //ComaScaleItem_V = "4|3|2|1|T|A|E";  //V 項目
        //ComaScaleItem_M = "5|4|3|2|1";  //M 項目
        //break;
        case 2:
            TitleCont_E = "2歲以下: \n 自動　4分 \n 語言指揮　3分 \n 對痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
            TitleCont_V = "2歲以下: \n 笑、傾聽　　5分  \n 哭泣但可安撫　　4分 \n 不當且持續性哭泣，偶可安撫　3分 \n 躁動不安，無法安撫　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
            TitleCont_M = "2歲以下: \n 正常自然活動　　6分 \n 對輕觸有收縮反應　　5分 \n 對痛覺有收縮反應　4分 \n 去大腦皮質收縮　3分 \n 去大腦伸張　2分 \n 無反應 　　1分";  //M 註解文字
            ComaScaleItem_E = "4|3|2|1|C";  //E 項目
            ComaScaleItem_V = "5|4|3|2|1|T|A|E";  //V 項目
            ComaScaleItem_M = "6|5|4|3|2|1";  //M 項目
            break;
        case 3:
        case 4:
        //TitleCont_E = "2-5歲: \n 自行睜眼　4分 \n 聽到聲音　3分 \n 痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
        //TitleCont_V = "2-5歲: \n 可說話　　4分 \n 發出聲音　3分 \n 會哭　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
        //TitleCont_M = "2-5歲: \n 活動可依指令而行　6分 \n 對痛反應良好　　　5分 \n 對痛可稍許活動　　4分 \n 對痛呈肢體屈曲　　3分 \n 對痛呈肢體伸張　　2分 \n 無反應　　1分";  //M 註解文字
        //ComaScaleItem_E = "4|3|2|1|C";  //E 項目
        //ComaScaleItem_V = "4|3|2|1|T|A|E";  //V 項目
        //ComaScaleItem_M = "6|5|4|3|2|1";  //M 項目
        //break;
        default:
            if (ptAge >= 18)
            {
                TitleCont_E = "EYES Open \n\n 4分:Spontaneous \n 3分:tospeech \n 2分:topain \n 1分:none \n c:無法睜眼";  //E 註解文字
                TitleCont_V = "Best Verbal Response \n\n 5分:Alert \n 4分:Confused \n 3分:Drowsy \n 2分:Groans \n 1分:None \n T:Trachea \n A:Aphasia \n E:Endo";  //V 註解文字
                TitleCont_M = "Best Motor Response \n\n 6分:Obeys \n 5分:Localized pain \n 4分:Withdrawal \n 3分:Ab, flexion \n 2分:Extension \n 1分:None";  //M 註解文字
                ComaScaleItem_E = "4|3|2|1|C";  //E 項目
                ComaScaleItem_V = "5|4|3|2|1|T|A|E";  //V 項目
                ComaScaleItem_M = "6|5|4|3|2|1";  //M 項目
                break;
            }
            else
            {
                TitleCont_E = "2歲以上: \n 自動　4分 \n 語音指揮　3分 \n 對痛刺激　　2分 \n 無反應　　1分 \n 無法睜眼　　C";  //E 註解文字
                TitleCont_V = "2歲以上: \n 表達適當，具定向感　　5分 \n 混亂，迷糊不清　　4分 \n 表達不適當　3分 \n 說話含糊不清　　　2分 \n 無反應　　1分 \n 氣切管          T \n 失語症          A \n 氣管內管       E";  //V 註解文字
                TitleCont_M = "2歲以上: \n 聽從指揮　6分 \n 痛覺定位　　　5分 \n 收縮反應　　4分 \n 去大腦皮質收縮　　3分 \n 去大腦伸張　　2分 \n 無反應　　1分";  //M 註解文字
                ComaScaleItem_E = "4|3|2|1|C";  //E 項目
                ComaScaleItem_V = "5|4|3|2|1|T|A|E";  //V 項目
                ComaScaleItem_M = "6|5|4|3|2|1";  //M 項目
                break;
            }
    }

    //DataTable DT = ViewBag.DT;

    //string ModeTitle = "新增";
    //if (DT != null && DT.Rows.Count > 0)
    //{
    //    if (DT.Rows[0]["modetype"].ToString() == "edit")
    //    {
    //        ModeTitle = "修改";
    //    }
    //}
    NIS.Data.Complement_List complement_List = (NIS.Data.Complement_List)Session["Complement_List"];
    DateTime mindate = DateTime.Now;
    if (complement_List.Status)
    { mindate = ptinof.InDate; }
    else
    {
        if (DateTime.Now.Hour < 24)//20171030 改規則 AlanHuang
        {
            mindate = Convert.ToDateTime(DateTime.Now.AddDays(-1).ToString("yyyy/MM/dd 00:00"));
        }
        else if (DateTime.Now.Day == 1 && DateTime.Now.Hour < 24)
        {
            if (((DateTime.Now.Year % 4 == 0) && (DateTime.Now.Year % 100 != 0)) || (DateTime.Now.Year % 400 == 0))//判斷閏年
            {
                if (DateTime.Now.Month == 2)
                {
                    mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(28).ToString("yyyy/MM/dd 00:00"));
                }
            }
            if (DateTime.Now.Month == 1 || DateTime.Now.Month == 3 || DateTime.Now.Month == 5 || DateTime.Now.Month == 7 || DateTime.Now.Month == 8 || DateTime.Now.Month == 10 || DateTime.Now.Month == 12)
            {
                mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(30).ToString("yyyy/MM/dd 00:00"));
            }
            else
            {
                if (DateTime.Now.Month == 2) { mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(27).ToString("yyyy/MM/dd 00:00")); }
                else { mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(29).ToString("yyyy/MM/dd 00:00")); }
            }
        }
        else
        { mindate = Convert.ToDateTime(DateTime.Now.ToString("yyyy/MM/dd 00:00")); }
        if (ptinof.InDate > mindate)
        { mindate = ptinof.InDate; }
    }
}

<style type="text/css">
    .dataArea td {
        border-bottom: 1px solid rgba(20%,20%,40%,0.5);
        text-align: left;
        border-right: solid 1px #808080;
    }

    #module_define {
        padding: 5px 0px 3px 0px;
        text-align: center;
        background-color: #9999FF;
        width: 100%;
        border: 1px solid #BBBBBB;
        border-right: 2px solid #999999;
        border-bottom: 2px solid #999999;
    }

    .CLSpanFixedWidth span {
        width: 120px;
        display: inline-block;
    }

    .CLSpanFixedWidth2 span {
        /*width: 90px;*/
        display: inline-block;
    }

    .CLSpanFixedWidth3 span {
        width: 60px;
        display: inline-block;
    }

    .CLSpanFixedWidth4 span {
        width: 150px;
        display: inline-block;
    }

    .head {
        background-color: #85A5CC;
    }

    .dialog {
        display: none;
        position: fixed;
        _position: absolute; /* position fixed for IE6 */
    }

    #cover {
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        background-color: #666;
        opacity: 0.6;
        z-index: 999;
    }

    #inp, #divrecord {
        left: 50%;
        top: 50%;
        margin-left: -450px;
        margin-top: -210px;
        width: 900px;
        height: 400px;
        padding-top: 20px;
        background-color: #FFFFFF;
        border: 1px solid #666;
        z-index: 9999;
        _top: expression(documentElement.scrollTop+(documentElement.clientHeight-this.clientHeight)/2);
        _margin-top: 0;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        setGridColor();
        SetDateTime($('#TxtDBAMDate'), $('#TxtDBAMTime'));
        //重設高度
        $(window).resize(function () {
            var height = $(this).outerHeight();
            if (height <= 300)
                height = 450;
            $(".dataArea").outerHeight(height - 120);
        }).trigger("resize");
        //        set_for_rb("RbnReproductiveSysSex", "@*@(SexVal)*@");  //預設 生殖系統 的性別

 @*       @if (DT != null && DT.Rows.Count > 0)
       {*@
            @*foreach (DataRow r in DT.Rows)
            {
                if (r["DBAD_ITEMTYPE"].ToString() == "radio")
                {
                    @:set_for_rb('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                        }
                else if (r["DBAD_ITEMTYPE"].ToString() == "checkbox")
                {
                @:set_for_ck('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                        }
                else if (r["DBAD_ITEMTYPE"].ToString() == "text" || r["DBAD_ITEMTYPE"].ToString() == "textarea")
                {
                    if (r["DBAD_ITEMID"].ToString() != "HidDBAMID" && r["DBAD_ITEMID"].ToString() != "TxtDBAMDate" && r["DBAD_ITEMID"].ToString() != "TxtDBAMTime")
                    {
                        @:set_for_txt('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                            }
                }
            }*@
            //暫時的解決方法，先跑checkbox，跑完後再重新跑一次radiobutton和textbox，不然順序會跑掉
@*               foreach (DataRow r in DT.Rows)
            {
                if (r["DBAD_ITEMTYPE"].ToString() == "radio")
                {
                    @:set_for_rb('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                                                                }
            }
            foreach (DataRow r in DT.Rows)
            {
                 if (r["DBAD_ITEMTYPE"].ToString() == "checkbox")
                {
                @:set_for_ck('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                                                                }
                else if (r["DBAD_ITEMTYPE"].ToString() == "text" || r["DBAD_ITEMTYPE"].ToString() == "textarea")
                {
                    if (r["DBAD_ITEMID"].ToString() != "HidDBAMID" && r["DBAD_ITEMID"].ToString() != "TxtDBAMDate" && r["DBAD_ITEMID"].ToString() != "TxtDBAMTime")
                    {
                        @:set_for_txt('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                                                                    }
                }
            }
            foreach (DataRow r in DT.Rows)
            {
                //這是用來跑例外 如 checkbox 後還會有 radio ，造成 radio 跑不出來的情況
                if (r["DBAD_ITEMID"].ToString() == "RbnStoolNature")
                {
                            @:set_for_rb('@r["DBAD_ITEMID"]', '@r["DBAD_ITEMVALUE"]');
                                                                }
            }

            if (DT.Rows[0]["modetype"].ToString() == "edit")
            {
            <text>
        $('#HidDBAMID').val('@DT.Rows[0]["DBAM_ID"].ToString()');
        $('#TxtDBAMDate').val('@Convert.ToDateTime(DT.Rows[0]["DBAM_DTM"]).ToString("yyyy/MM/dd")');
        $('#TxtDBAMTime').val('@Convert.ToDateTime(DT.Rows[0]["DBAM_DTM"]).ToString("HH:mm")');
        $("#ChkDBAMCareRecord").attr('disabled', 'disabled');  //修改狀態，不可更改
        </text>
            }
        }*@
    });

    //綁定DateTimePicker
    function SetDateTime(DateObj, TimeObj) {
        DateObj.prop('readonly', true).css({ 'width': '80px', 'font-size': '12px' });
        TimeObj.prop('readonly', true).css({ 'width': '50px', 'font-size': '12px' });
        DateObj.datetimepicker({
            altField: TimeObj,
            beforeShowDay: function (date) {
                switch (date.getDay()) {
                    case 6:
                        return [true, 'satday'];
                        break;
                    case 0:
                        return [true, 'sunday'];
                        break;
                    default:
                        return [true, ''];
                        break;
                }
            },
            inline: true,
            showAnim: "slideDown",
            controlType: myControl,
            maxDateTime: new Date(),
            minDateTime: new Date('@(mindate.ToString("MM/dd/yyyy HH:mm:ss"))')
        });
    }




    function setGridColor() {
        //格行換色
        var tr = $('.dataArea tr');
        var color = '#ABC8E2';
        for (var i = 0; i < tr.length; i++) {
            if ($(tr[i]).css('display') != 'none') {
                $(tr[i]).css('background', color);
                if (color == '#ABC8E2')
                    color = '#E1E6FA';
                else
                    color = '#ABC8E2';
            }
        }
        $('.head').css('background', '#85A5CC');
        $('.due').css('background', '#FF6666');
    }

    //function div_hidden(id_list) {
    //    var list = id_list.split(',');
    //    for (var i = 0 ; i < list.length; i++) {
    //        $('.' + list[i]).hide();
    //        var input_list = $('.' + list[i] + ' input, .' + list[i] + ' textarea');
    //        for (var j = 0 ; j < input_list.length; j++) {
    //            if (input_list[j].type == "textarea" || input_list[j].type == 'text')
    //                $(input_list[j]).val('');
    //            else if (input_list[j].type == 'radio')
    //                input_list[j].checked = false;
    //            else {
    //                if (input_list[j].checked)
    //                    $(input_list[j]).click();
    //            }
    //        }
    //    }
    //}

   @*function set_for_rb(RBName, DValue) {
        if (DValue != '') {
            $('input[name=' + RBName + ']').each(function () {
                if ($(this).val() == DValue) {
                    this.checked = true;
                    $(this).trigger('click');
                }
            });
        }
    }

    function set_for_ck(CKName, VAL) {
        if (VAL != '') {
            var DefaultVal = VAL.split(",");
            var CKB = document.getElementsByName(CKName);
            for (var i = 0; i < DefaultVal.length; i++) {
                for (var j = 0; j < CKB.length; j++) {
                    if (DefaultVal[i] == CKB[j].value) {
                        $(CKB[j]).click();
                    }
                }
            }
        }
    }

    function set_for_txt(TxtName, DValue) {
        if (DValue != '') {
            var DefaultVal = DValue.split(",");
            var TXT = document.getElementsByName(TxtName);
            if (TXT.length > 1) {
                for (var i = 0; i < TXT.length; i++) {
                    $(TXT[i]).val(DefaultVal[i]);
                }
            }
            else
                $(TXT[0]).val(DValue);
        }
    }*@

    //改成不檢查，所以不使用此檢查的function
    function SetChildAssessFunc() {
        $("input[type=button]").prop("disabled", true);

        var BoolVal = true;
        var DBAMID = $('#HidDBAMID').val();
        var DBAMType = $('#HidDBAMType').val();
        var AllIDName = '';
        var AllType = '';
        var AllIDList = $('#FormDailyBodyChild input, #FormDailyBodyChild textarea');

        var tr_list = $('tr[must=Y]:visible');
        TabLoop:
            for (var i = 0; i < tr_list.length; i++) {
                var input_list = $(tr_list[i]).find(':input').filter(':visible').filter(':enabled');
                if (input_list.length > 0) {
                    var input_name = '';
                    for (var j = 0; j < input_list.length; j++) {
                        if (input_name != $(input_list[j]).attr('name')) {
                            input_name = $(input_list[j]).attr('name');
                            if (input_list[j].type == 'text' || input_list[j].type == 'textarea' || input_list[j].type == 'select-one')
                                var input_val = $.trim(input_list[j].value);
                            else if (input_list[j].type == 'radio' || input_list[j].type == 'checkbox')
                                var input_val = $('input[name=' + $(input_list[j]).attr('name') + ']:checked').val();
                            else
                                continue;

                            if (input_val == undefined || $.trim(input_val) == '') {
                                BoolVal = false;

                                if ($(tr_list[i]).attr('subtitle') != undefined)
                                    alert($(tr_list[i]).attr('subtitle') + ' 未填寫!');
                                else
                                    alert('尚有項目未填寫!');

                                $(input_list[j]).focus();
                                break TabLoop;
                            }
                        }
                    }
                }
            }

        if (BoolVal) {
            for (var i = 0; i < AllIDList.length; i++) {
                if (AllIDName.indexOf($(AllIDList[i]).attr('name') + ',') == -1) {
                    AllIDName += $(AllIDList[i]).attr('name') + ',';
                    if ($(AllIDList[i]).attr('type') != undefined)
                        AllType += $(AllIDList[i]).attr('type') + ',';
                    else
                        AllType += 'textarea,';
                }
            }
            $('#HidAllID').val(AllIDName.substring(0, AllIDName.length - 1));
            $('#HidAllType').val(AllType.substring(0, AllType.length - 1));
            $('#FormDailyBodyChild input[type=text], #FormDailyBodyChild textarea').each(function () { $(this).val($(this).val()); });//.replace(/,/g, '|')
            loop_windows("open_cover");
            $.ajax({
                url: '@Url.Content("~/DailyBodyAssessment/SetDailyAssessData")',
                type: 'POST',
                data: $('form[name=FormDailyBodyChild]').serialize(),
                success: function (data) {
                    if (data == "Y") {
                        alert('儲存成功');
                        window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListchild")';
                        //window.location.href = 'DailyBodyAssessList?type=' + DBAMType;//DailyBodyAssessListchild
                    }
                    else if (data == "N") {
                        alert('儲存失敗');
                        //window.location.href = 'DailyBodyAssessList?type=' + DBAMType;
                    }
                    else if (data == "O") {
                        alert('請重新選擇病患');
                        window.location.href = 'Index';
                    }
                }, complete: function () {
                    loop_windows("close_cover");
                }
            });
        }
        else
            $("input[type=button]").prop("disabled", false);
    }

    function doSubmit(obj) {//直接儲存不檢查//後來改成連存檔都不需要檢查，使用按鈕包含 存檔、暫存 ，只差在暫存的註記，與帶記錄
        $("input[type=button]").prop("disabled", true);
        var tempstatus = $(obj).attr('tempstatus');
        var AllIDName = '';
        var AllType = '';
        var AllIDList = $('#FormDailyBodyChild input, #FormDailyBodyChild textarea');
        var text_content = '';
        for (var i = 0; i < AllIDList.length; i++) {
            if (AllIDName.indexOf($(AllIDList[i]).attr('name') + ',') == -1) {
                AllIDName += $(AllIDList[i]).attr('name') + ',';
                if ($(AllIDList[i]).attr('type') != undefined)
                    AllType += $(AllIDList[i]).attr('type') + ',';
                else
                    AllType += 'textarea,';
            }
        }
        $('#HidAllID').val(AllIDName.substring(0, AllIDName.length - 1));
        $('#HidAllType').val(AllType.substring(0, AllType.length - 1));
        $('#FormDailyBodyChild input[type=text], #FormDailyBodyChild textarea').each(function () { $(this).val($(this).val()); });//.replace(/,/g, '|')
        if (tempstatus == 'N') {//選擇存檔，並非暫存
            var TakeCareStatus = $("input[name=ChkPlanYN]:checked").val();//取有無勾選 --帶記錄的checkbox
            if (TakeCareStatus == "Y") {//
                //取記錄的textArea內容--有勾時
                text_content = $("#text_content").val();
            }
        }
        loop_windows("open_cover");
        $.ajax({
            url: '@Url.Content("~/DailyBodyAssessment/SetDailyAssessData")',
                type: 'POST',
                data: $('form[name=FormDailyBodyChild]').serialize() + "&temp=" + tempstatus + "&CareString=" + text_content,
                success: function (data) {
                    if (data == "Y") {
                        alert('儲存成功');
                        window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListchild")';
                    }
                    else if (data == "N") {
                        alert('儲存失敗');
                    }
                    else if (data == "O") {
                        alert('請重新選擇病患');
                        window.location.href = 'Index';
                    }
                    else if (data == "X") {
                        if (confirm("是否前往護理記錄?")) {
                            window.location.href = '@(Url.Content("~/CareRecord/List"))';
                        } else
                        {
                            window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListchild")';
                        }
                    }
                }, complete: function () {
                    loop_windows("close_cover");
                    $("input[type=button]").prop("disabled", false);
                }
            });
    }

</script>
<script type="text/javascript">
    function SetData(Type, Num, CallBack) {
        $.ajax({
            type: 'POST',
            url: '@Url.Content("~/DailyBodyAssessment/SelectChildAssess")',
            data: { 'Type': Type, 'ID': Num },
            success: function (data) {
                if (data != "") {
                    var List = JSON.parse(data);
                    if (!!Num) {
                        $('#Title').html('修改評估');
                        $('#HidDBAMID').val(List[0]["DBAM_ID"]);
                        $('#TxtDBAMDate').val(List[0]["ASSDATE"]);
                        $('#TxtDBAMTime').val(List[0]["ASSTIME"]);
                        var Istemp = List[0]["DBAM_TEMP_TYPE"];
                        if (Istemp == "temporary") {//在修改暫存時，也是要能帶記錄
                            $("input[name=ChkPlanYN]").prop('checked', true).val('Y').show();
                            $("#lab_ChkPlanYN").show();
                        } else {
                            if (Istemp == "complete") {
                                $("#Btn_TempSave").hide();
                            }
                            $("[name=ChkPlanYN]").removeAttr('checked').val('N').hide();
                            $("#lab_ChkPlanYN").hide();
                        }
                    }
                    else {
                        $('#Title').html('新增評估');
                        $("input[name=ChkPlanYN]").prop('checked', true).val('Y').show();
                        $("#lab_ChkPlanYN").show();
                    }
                    if (List.length > 0) {
                        $.each(List, function (i, item) {
                            if (item["DBAD_ITEMID"] != 'TxtDBAMDate' && item["DBAD_ITEMID"] != 'TxtDBAMTime') {
                                if (item["DBAD_ITEMTYPE"] == 'radio')
                                    set_for_rb(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                else if (item["DBAD_ITEMTYPE"] == 'checkbox')
                                    set_for_ck(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                else if (item["DBAD_ITEMTYPE"] == 'text')
                                    set_for_txt(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                else {
                                    $("textarea[name='" + item["DBAD_ITEMID"] + "']").html(item["DBAD_ITEMVALUE"]);
                                }
                            }
                        });
                    }
                    else {
                        //預設 生殖系統 的性別
                        set_for_rb("RbnReproductiveSysSex", "@(ptinof.PatientGender)");
                    }
                }
                else
                    alert('請重新選擇病人！');
            },
            complete: function () {
                if (!!CallBack)
                    CallBack();
            }
        });
    }

    function set_for_rb(RbnName, RbnVal) {
        if (RbnVal != '') {
            var RB = $("#Dt input[type=radio][name='" + RbnName + "']");
            RB.filter("[value='" + RbnVal + "']").prop('checked', true).trigger('onclick');
        }
    }

    function set_for_ck(CKName, VAL) {
        if (VAL != '') {
            var CK = $("#Dt input[type=checkbox][name='" + CKName + "']");
            $.each(VAL.split(","), function (i, item) {
                CK.filter("[value='" + item + "']").prop('checked', true).trigger('onclick');
            });
        }
    }

    function set_for_txt(TxtName, DValue) {
        $("input[type=text][name='" + TxtName + "']").val(DValue);
    }

    function CtrlActionFunc(obj, DivName, boolSwitch) {
        if ($(obj).attr('type') == 'checkbox')
            boolSwitch = $(obj).prop('checked');
        else {
            if (boolSwitch)
                boolSwitch = $(obj).prop('checked');
        }
        if ($(DivName).length > 0) {
            if (boolSwitch)
                $(DivName).show();
            else {
                $(DivName).hide();
                $(DivName).find("input[type=checkbox]:checked, input[type=radio]:checked")
                    .prop('checked', false).filter('[onclick]').trigger('onclick');
                $(DivName).find("input[type=text]").val('');
            }
        }
    }

    function change_width() {

        if ($('input[name=RbnFaceMask_kind]:checked') !=""){
            var tmp = $('#spanFaceMask2Invation');
            tmp.removeAttr("style");
            tmp.css("width", "400px");
        }
        else
            $('#spanFaceMask2Invation').css("display", "none");
    }
</script>
<div class="funcArea">
    <form id="FormDailyBodyChild" name="FormDailyBodyChild" method="post">
        <div id="module_define">兒童每日身體評估</div>
        <div style="text-align:center;">
            <label for="ChkPlanYN" id="lab_ChkPlanYN"><input type="checkbox" id="ChkPlanYN" name="ChkPlanYN" value="Y" onclick="" />帶紀錄</label>
            <input type="button" value="存檔" tempstatus="N" style="width:80px;" onclick="showRecordDiv(this);" />
            <input type="button" id="Btn_TempSave" value="暫存" tempstatus="Y" style="width:80px;" onclick="doSubmit(this);" />
            @*<input type="button" value="存檔" style="width: 50px;" onclick="SetChildAssessFunc();" />*@
            <input type="button" value="取消" style="width: 50px;" onclick="if (confirm('確定取消?')) { window.location.href = 'DailyBodyAssessListchild'; }" />&emsp;
        </div><div>
            <fieldset style="padding:5px;margin:0px;">
                <legend id="Title"></legend>
                <input type="hidden" id="HidDBAMType" name="HidDBAMType" value="@(DBAMType)" />
                <input type="hidden" id="HidDBAMID" name="HidDBAMID" />
                <input type="hidden" id="HidAllID" name="HidAllID" />
                <input type="hidden" id="HidAllType" name="HidAllType" />
                <div class="dataArea" style="height: 350px; ">
                    <table border="0" cellpadding="4" cellspacing="1" style="table-layout:fixed;white-space:normal;" id="Dt">
                        <tr must="Y" subtitle="評估時間">
                            <th class="head" style="width:19%;">評估時間：</th>
                            <td style="width:69%" colspan="3">
                                @* @Html.TextBox("TxtDBAMDate", DateTime.Now.ToString("yyyy/MM/dd"), new { style = "width:80px" })
                                    @Html.TextBox("TxtDBAMTime", DateTime.Now.ToString("HH:mm"), new { style = "width:50px" })
                                    @WebTool.setDateTime("TxtDBAMDate", "TxtDBAMTime")*@
                                <input type="text" id="TxtDBAMDate" name="TxtDBAMDate" value="@DateTime.Now.ToString("yyyy/MM/dd")" />
                                <input type="text" id="TxtDBAMTime" name="TxtDBAMTime" value="@DateTime.Now.ToString("HH:mm")" />
                            </td>
                        </tr>
                        <tr must="Y" subtitle="一般外觀">
                            <th class="head" style="width:20%;">一般外觀</th>
                            <td colspan="3">
                                <div style="display:inline-block">
                                    <label class="tooltip2"><input type="radio" id="RbnGeneralExterior1" name="RbnGeneralExterior" value="正常" onclick="CtrlActionFunc(this, '#spanRbnGeneralExterior5Other', false);" />正常</label>&emsp;
                                </div>
                                <div style="display:inline-block">
                                    <label class="tooltip2"><input type="radio" id="RbnGeneralExterior2" name="RbnGeneralExterior" value="肥胖" onclick="CtrlActionFunc(this, '#spanRbnGeneralExterior5Other', false);" />肥胖</label>&emsp;
                                </div>
                                <div style="display:inline-block">
                                    <label class="tooltip2"><input type="radio" id="RbnGeneralExterior3" name="RbnGeneralExterior" value="贏瘦" onclick="CtrlActionFunc(this, '#spanRbnGeneralExterior5Other', false);" />贏瘦</label>&emsp;
                                </div>
                                <div style="display:inline-block">
                                    <label class="tooltip2"><input type="radio" id="RbnGeneralExterior4" name="RbnGeneralExterior" value="矮小" onclick="CtrlActionFunc(this, '#spanRbnGeneralExterior5Other', false);" />矮小</label>&emsp;
                                </div>
                                <div style="display:inline-block">
                                    <label class="tooltip2"><input type="radio" id="RbnGeneralExterior5" name="RbnGeneralExterior" value="其他" onclick="CtrlActionFunc(this, '#spanRbnGeneralExterior5Other', true);" />其他</label>
                                    <span style="display:none;" id="spanRbnGeneralExterior5Other">
                                        <input type="text" id="TxtRbnGeneralExterior5Other" name="TxtRbnGeneralExterior5Other" style="width:120px;" />
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="意識狀況">
                            <th class="head" rowspan="4" style="width:12%;">意識狀況</th>
                            <td colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus1" name="RbnAwarenessStatus" value="警醒" />警醒</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus2" name="RbnAwarenessStatus" value="混亂" />混亂</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus3" name="RbnAwarenessStatus" value="嗜睡" />嗜睡</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus4" name="RbnAwarenessStatus" value="木僵" />木僵</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus5" name="RbnAwarenessStatus" value="昏迷" />昏迷</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnAwarenessStatus6" name="RbnAwarenessStatus" value="躁動不安" />躁動不安</label>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="Coma Scale E">
                            <th class="head" rowspan="3" style="width:18%;">Coma Scale</th>
                            <td colspan="3">
                                <a style="text-decoration: none; color: blue;font-size:14px;" href="javascript:void(0);" class="tooltip" title="@(TitleCont_E)">
                                    <img src="~/Images/med_dictionary.png" class="medbook" border="0" /> E：
                                </a>
                                <span class="CLSpanFixedWidth3">
                                    @Shared_Helper.list_shared_radio("RbnAwarenessComa_E", ComaScaleItem_E, "", "")
                                </span>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="Coma Scale V">
                            <td colspan="2">
                                <a style="text-decoration: none; color: blue;font-size:14px;" href="javascript:void(0);" class="tooltip" title="@(TitleCont_V)">
                                    <img src="~/Images/med_dictionary.png" class="medbook" border="0" /> V：
                                </a>
                                <span class="CLSpanFixedWidth3">
                                    @Shared_Helper.list_shared_radio("RbnAwarenessComa_V", ComaScaleItem_V, "", "")
                                </span>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="Coma Scale M">
                            <td colspan="2">
                                <a style="text-decoration: none; color: blue;font-size:14px;" href="javascript:void(0);" class="tooltip" title="@(TitleCont_M)">
                                    <img src="~/Images/med_dictionary.png" class="medbook" border="0" /> M：
                                </a>
                                <span class="CLSpanFixedWidth3">
                                    @Shared_Helper.list_shared_radio("RbnAwarenessComa_M", ComaScaleItem_M, "", "")
                                </span>
                            </td>
                        </tr>

                        <tr must="Y" subtitle="情緒狀態">
                            <th class="head">情緒狀態</th>
                            <td style="width: 90%;" colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnEmotionalNormal" name="RbnEmotional" value="平靜" onclick="CtrlActionFunc(this, '#DivEmotionalAbnItem', false); " />平靜</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnEmotionalAbnormal" name="RbnEmotional" value="異常" onclick="CtrlActionFunc(this, '#DivEmotionalAbnItem', true);" />異常</label>
                                <div style="display: none; padding-left: 18px;" id="DivEmotionalAbnItem">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn1" name="ChkEmotionalAbn" value="焦慮" />焦慮</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn2" name="ChkEmotionalAbn" value="害羞" />害羞</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn3" name="ChkEmotionalAbn" value="活潑" />活潑</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn4" name="ChkEmotionalAbn" value="激動" />激動</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn5" name="ChkEmotionalAbn" value="憂鬱" />憂鬱</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn6" name="ChkEmotionalAbn" value="冷漠" />冷漠</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkEmotionalAbn99" name="ChkEmotionalAbn" value="其他" onclick="CtrlActionFunc(this, '#spanEmotionalAbn99Other');" />其他</label>
                                        <span style="display:none" id="spanEmotionalAbn99Other">
                                            <input type="text" id="TxtEmotionalAbn99Other" name="TxtEmotionalAbn99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統">
                            <th class="head" rowspan="2">神經系統</th>
                            <td style="width: 90%; " colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnNervousSysNormal" name="RbnNervousSys" value="正常" onclick="CtrlActionFunc(this, '#DivNervousAbnormalItem', false); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnNervousSysAbnormal" name="RbnNervousSys" value="異常" onclick="CtrlActionFunc(this,'#DivNervousAbnormalItem', true);" />異常</label>
                                <div style="display: none; padding-left: 18px;" id="DivNervousAbnormalItem">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkNervousAbn1" name="ChkNervousAbnormal" value="昏暈感" />昏暈感</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkNervousAbn2" name="ChkNervousAbnormal" value="頸部僵硬" />頸部僵硬</label>&emsp;
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 感覺">
                            <th class="head">感覺</th>
                            <td style="width: 90%;" colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnFeelingNormal" name="RbnFeelingSys" value="正常" onclick="CtrlActionFunc(this, '#DivFeelingAbnormalItem', false); CtrlActionFunc(this, '#spanFeelingAbn99Other', false); $('.PositionAllClose').hide(); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnFeelingAbnormal" name="RbnFeelingSys" value="異常" onclick="CtrlActionFunc(this, '#DivFeelingAbnormalItem', true);" />異常</label>
                                <div style="display: none; padding-left: 18px;" id="DivFeelingAbnormalItem">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn5" name="ChkFeelingAbn" value="酸" onclick="CtrlActionFunc(this, '#TrFeelingAbn5Position');" />酸</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn1" name="ChkFeelingAbn" value="痛" onclick="CtrlActionFunc(this, '#TrFeelingAbn1Position');" />痛</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn2" name="ChkFeelingAbn" value="麻" onclick="CtrlActionFunc(this, '#TrFeelingAbn2Position');" />麻</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn3" name="ChkFeelingAbn" value="無知覺" onclick="CtrlActionFunc(this, '#TrFeelingAbn3Position');" />無知覺</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn4" name="ChkFeelingAbn" value="抽搐" onclick="CtrlActionFunc(this, '#TrFeelingAbn4Position');" />抽搐</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn6" name="ChkFeelingAbn" value="無法測" />無法測</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkFeelingAbn99" name="ChkFeelingAbn" value="其他" onclick="CtrlActionFunc(this, '#spanFeelingAbn99Other');" />其他</label>
                                        <span style="display:none" id="spanFeelingAbn99Other">
                                            <input type="text" id="TxtFeelingAbn99Other" name="TxtFeelingAbn99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 - 酸部位" id="TrFeelingAbn5Position" style="display:none" class="PositionAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                神經系統 - 酸部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_Feeling5Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkFeelingAbn5Position", ViewBag.NervousPosition, "", "Feeling5Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 - 痛部位" id="TrFeelingAbn1Position" style="display:none" class="PositionAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                神經系統 - 痛部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_Feeling1Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkFeelingAbn1Position", ViewBag.NervousPosition, "", "Feeling1Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 - 麻部位" id="TrFeelingAbn2Position" style="display:none" class="PositionAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                神經系統 - 麻部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_Feeling2Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkFeelingAbn2Position", ViewBag.NervousPosition, "", "Feeling2Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 - 無知覺部位" id="TrFeelingAbn3Position" style="display:none" class="PositionAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                神經系統 - 無知覺部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_Feeling3Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkFeelingAbn3Position", ViewBag.NervousPosition, "", "Feeling3Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="神經系統 - 抽搐部位" id="TrFeelingAbn4Position" style="display:none" class="PositionAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                神經系統 - 抽搐部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_Feeling4Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkFeelingAbn4Position", ViewBag.NervousPosition, "", "Feeling4Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="感官系統 眼">
                            <th class="head" rowspan="4">感官系統</th>
                            <th class="head">眼</th>
                            <td style="width:80%;" colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnVisionNormal" name="RbnVision" value="正常" onclick="CtrlActionFunc(this, '#DivVisionAbnormalItem', false); CtrlActionFunc(this, '#spanEyesSecretions', false); CtrlActionFunc(this, '#spanVisionAbnormal99Other', false); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnVisionAbnormal" name="RbnVision" value="異常" onclick="CtrlActionFunc(this,'#DivVisionAbnormalItem', true);" />異常</label>&emsp;
                                <div style="display: none; padding-left: 18px;" id="DivVisionAbnormalItem">
                                    <label class="tooltip2"><input type="checkbox" id="ChkVisionAbnormal_1" name="ChkVisionAbnormal" value="近視" />近視</label>
                                    <label class="tooltip2"><input type="checkbox" id="ChkVisionAbnormal_2" name="ChkVisionAbnormal" value="弱視" onclick="CtrlActionFunc(this, '#spanAmblyopia');" />弱視</label>
                                    <div style="display:inline-block">
                                        <span style="display:none" id="spanAmblyopia">
                                            <label>：</label>
                                            <label><input type="checkbox" name="ChkAmblyopia" value="右" />右</label>
                                            <label><input type="checkbox" name="ChkAmblyopia" value="左" />左</label>
                                        </span>
                                    </div>
                                    <label class="tooltip2"><input type="checkbox" id="ChkVisionAbnormal_3" name="ChkVisionAbnormal" value="斜視" onclick="CtrlActionFunc(this, '#spanStrabismus');" />斜視</label>
                                    <div style="display:inline-block">
                                        <span style="display:none" id="spanStrabismus">
                                            <label>：</label>
                                            <label><input type="checkbox" name="ChkStrabismus" value="右" />右</label>
                                            <label><input type="checkbox" name="ChkStrabismus" value="左" />左</label>
                                        </span>
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkVisionAbnormal_4" name="ChkVisionAbnormal" value="分泌物" onclick="CtrlActionFunc(this, '#spanEyesSecretions');" />分泌物</label>
                                        <span style="display:none" id="spanEyesSecretions">
                                            <label>：</label>
                                            <label class="tooltip2"><input type="checkbox" id="ChkHemianopia1" name="ChkHemianopia" value="右" />右</label>
                                            <label class="tooltip2"><input type="checkbox" id="ChkHemianopia2" name="ChkHemianopia" value="左" />左</label>
                                        </span>
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkVisionAbnormal99" name="ChkVisionAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanVisionAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanVisionAbnormal99Other">
                                            <input type="text" id="TxtVisionAbnormal99Other" name="TxtVisionAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                                <label class="tooltip2"><input type="radio" id="RbnVisionNormal2" name="RbnVision" value="無法評估" onclick="CtrlActionFunc(this, '#DivVisionAbnormalItem', false); CtrlActionFunc(this, '#spanEyesSecretions', false); CtrlActionFunc(this, '#spanVisionAbnormal99Other', false); " />無法評估</label>&emsp;

                            </td>
                        </tr>
                        <tr must="Y" subtitle="感官系統 耳">
                            <th class="head">耳</th>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnHearingNormal" name="RbnHearing" value="正常" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', false); CtrlActionFunc(this, '#spanHardHearing', false); CtrlActionFunc(this, '#spanTinnitus', false); CtrlActionFunc(this, '#spanHearingAbnormal99Other', false);  " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnHearingAbnormal" name="RbnHearing" value="異常" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', true); " />異常</label>&emsp;
                                <div style="display: none; padding-left: 18px;" id="DivHearingAbnormalItem">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkHearingAbn1" name="ChkHearingAbnormal" value="聽力障礙" onclick="CtrlActionFunc(this, '#spanHardHearing');" />聽力障礙</label>
                                        <span style="display:none" id="spanHardHearing">
                                            ：
                                            <label class="tooltip2"><input type="checkbox" id="ChkHardHearing1" name="ChkHardHearing" value="右" />右</label>&nbsp;
                                            <label class="tooltip2"><input type="checkbox" id="ChkHardHearing2" name="ChkHardHearing" value="左" />左</label>
                                        </span>
                                        &emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkHearingAbn2" name="ChkHearingAbnormal" value="耳鳴" onclick="CtrlActionFunc(this, '#spanTinnitus');" />耳鳴</label>
                                        <span style="display:none" id="spanTinnitus">
                                            ：
                                            <label class="tooltip2"><input type="checkbox" id="ChkTinnitus1" name="ChkTinnitus" value="右" />右</label>&nbsp;
                                            <label class="tooltip2"><input type="checkbox" id="ChkTinnitus2" name="ChkTinnitus" value="左" />左</label>
                                        </span>
                                        &emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkHearingAbn99" name="ChkHearingAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanHearingAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanHearingAbnormal99Other">
                                            <input type="text" id="TxtHearingAbnormal99Other" name="TxtHearingAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                                <label class="tooltip2"><input type="radio" id="RbnHearingNormal2" name="RbnHearing" value="無法評估" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', false); CtrlActionFunc(this, '#spanHardHearing', false); CtrlActionFunc(this, '#spanTinnitus', false); CtrlActionFunc(this, '#spanHearingAbnormal99Other', false);  " />無法評估</label>&emsp;
                            </td>
                        </tr>
                        <tr must="Y" subtitle="感官系統 鼻">
                            <th class="head">鼻</th>
                            <td style="width:80%;" colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnNoseNormal" name="RbnNose" value="正常" onclick="CtrlActionFunc(this, '#DivNoseAbnormalItem', false); CtrlActionFunc(this, '#spanNoseAbnormal99Other', false); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnNoseAbnormal" name="RbnNose" value="異常" onclick="CtrlActionFunc(this,'#DivNoseAbnormalItem', true);" />異常</label>&emsp;
                                <div style="display: none; padding-left: 18px;" id="DivNoseAbnormalItem">
                                    <label class="tooltip2"><input type="checkbox" id="ChkNoseAbn1" name="ChkNoseAbnormal" value="流鼻水" />流鼻水</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkNoseAbn2" name="ChkNoseAbnormal" value="流鼻血" />流鼻血</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkNoseAbn99" name="ChkNoseAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanNoseAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanNoseAbnormal99Other">
                                            <input type="text" id="TxtNoseAbnormal99Other" name="TxtNoseAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                                <label class="tooltip2"><input type="radio" id="RbnNoseNormal2" name="RbnNose" value="無法評估" onclick="CtrlActionFunc(this, '#DivNoseAbnormalItem', false); CtrlActionFunc(this, '#spanNoseAbnormal99Other', false); " />無法評估</label>&emsp;
                            </td>
                        </tr>
                        <tr must="Y" subtitle="感官系統 口腔">
                            <th class="head">口腔</th>
                            <td style="width:80%;" colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnMouthNormal" name="RbnMouth" value="正常" onclick="CtrlActionFunc(this, '#DivMouthAbnormalItem', false); CtrlActionFunc(this, '#spanMouthAbnormal99Other', false); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnMouthAbnormal" name="RbnMouth" value="異常" onclick="CtrlActionFunc(this,'#DivMouthAbnormalItem', true);" />異常</label>&emsp;
                                <div style="display: none; padding-left: 18px;" id="DivMouthAbnormalItem">
                                    <label class="tooltip2"><input type="checkbox" id="ChkMouthAbn1" name="ChkMouthAbnormal" value="兔唇" />兔唇</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkMouthAbn2" name="ChkMouthAbnormal" value="蛀牙" />蛀牙</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkMouthAbn3" name="ChkMouthAbnormal" value="味覺障礙" />味覺障礙</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkMouthAbn99" name="ChkMouthAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanMouthAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanMouthAbnormal99Other">
                                            <input type="text" id="TxtMouthAbnormal99Other" name="TxtMouthAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                                <label class="tooltip2"><input type="radio" id="RbnMouthNormal2" name="RbnMouth" value="無法評估" onclick="CtrlActionFunc(this, '#DivMouthAbnormalItem', false); CtrlActionFunc(this, '#spanMouthAbnormal99Other', false); " />無法評估</label>&emsp;
                            </td>
                        </tr>
                        <tr must="Y" subtitle="呼吸系統 呼吸型態">
                            <th class="head" rowspan="6">呼吸系統</th>
                            <th class="head" rowspan="2">呼吸型態<span style="color: blue;font-size:0.7em">(交)</span></th>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnBreathingNormal" name="RbnBreathing" value="正常" onclick="CtrlActionFunc(this, '#DivBreathingAbnormal', false); CtrlActionFunc(this, '#spanBreathingAbn1Txt', false); CtrlActionFunc(this, '#spanBreathingAbnormal99Other', false);" />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnBreathingAbnormal" name="RbnBreathing" value="異常" onclick="CtrlActionFunc(this, '#DivBreathingAbnormal', true);" />異常</label>
                                <div id="DivBreathingAbnormal" style="display: none; padding-left: 18px;">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkBreathingAbnormal1" name="ChkBreathingAbnormal" value="呼吸急促" onclick="CtrlActionFunc(this, '#spanBreathingAbn1Txt');" />呼吸急促</label>&nbsp;
                                        <span style="display:none" id="spanBreathingAbn1Txt">
                                            <input type="text" id="TxtBreathingAbn1Cont" name="TxtBreathingAbn1Cont" style="width:120px;" /> 次/分&emsp;
                                        </span>
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal2" name="ChkBreathingAbnormal" value="鼻翼煽動" />鼻翼煽動</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal3" name="ChkBreathingAbnormal" value="胸骨或肋緣凹陷" />胸骨或肋緣凹陷</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal4" name="ChkBreathingAbnormal" value="呻吟聲" />呻吟聲</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal5" name="ChkBreathingAbnormal" value="端坐呼吸" />端坐呼吸</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal6" name="ChkBreathingAbnormal" value="咳嗽" />咳嗽</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBreathing" id="ChkBreathingAbnormal99" name="ChkBreathingAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanBreathingAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanBreathingAbnormal99Other">
                                            <input type="text" id="TxtBreathingAbnormal99Other" name="TxtBreathingAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="呼吸系統 人工氣道">
                            <th class="head">人工氣道</th>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnIsMedicalDevicesN" name="RbnIsMedicalDevices" value="無" onclick="CtrlActionFunc(this, '#DivMedicalDevicesY,#spanMedicalDevices3Item', false); CtrlActionFunc(this, '#spanMedicalDevices3Item', false); " />無</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnIsMedicalDevicesY" name="RbnIsMedicalDevices" value="有" onclick="CtrlActionFunc(this, '#DivMedicalDevicesY', true); " />有</label>
                                <div style="display: none; padding-left: 18px; " id="DivMedicalDevicesY">
                                    <label class="tooltip2"><input type="radio" id="RbnMedicalDevices1" tag="RbnIsMedicalDevices" name="RbnMedicalDevices" value="氣切" onclick="CtrlActionFunc(this, '#DivMedicalDevicesTxt2', true); CtrlActionFunc(this, '#DivMedicalDevicesTxt1', false);" />氣切</label>&emsp;
                                    <span style="display:none" id="DivMedicalDevicesTxt2">
                                        <label>：</label>
                                        <input type="text" name="TxtMedicalDevices2_1" style="width:90px;" />
                                        <label>fr.</label>
                                    </span>
                                    <label class="tooltip2"><input type="radio" id="RbnMedicalDevices2" tag="RbnIsMedicalDevices" name="RbnMedicalDevices" value="氣管內管" onclick="CtrlActionFunc(this, '#DivMedicalDevicesTxt1', true); CtrlActionFunc(this, '#DivMedicalDevicesTxt2', false);" />氣管內管</label>&emsp;
                                    <span style="display:none" id="DivMedicalDevicesTxt1">
                                        <label>：</label>
                                        <input type="text" name="TxtMedicalDevices1_1" style="width:90px;" />
                                        <label>fr. fix</label>
                                        <input type="text" name="TxtMedicalDevices1_2" style="width:90px;" />
                                        <label>cm</label>
                                    </span>
                                    @*<div style="display: none; padding-left: 18px;" id="spanMedicalDevices3Item" class="CLSpanFixedWidth">
                                            <div id="spanFaceMaskNot5Txt" style="display:none;">
                                                <label>氧氣濃度：</label>
                                                <input type="text" name="TxtO2Concentration" style="width:50px;" /> L/min
                                                <span id="spanFaceMask3Txt" style="display:none;">
                                                    <label id="spanFaceMask3Txt" style="width:20px;">，FiO2</label>
                                                    <input type="text" name="TxtFaceMask3_1" style="width:40px;" />
                                                    <label>%</label>
                                                </span>
                                            </div>
                                            <label>面罩種類：</label>
                                            <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Nasal Cannula" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Nasal Cannula</label>
                                            <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Simple mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Simple mask</label>
                                            <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Aerosol mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Aerosol mask</label>
                                            <br /><label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventri mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Ventri mask</label>
                                            <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Non-rebreathing mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Non-rebreathing mask</label>
                                            <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventilator" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', true); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', false);" />Ventilator</label>
                                            <div id="spanFaceMask5Txt" must="Y" style="display:none;">
                                                <label><input type="radio" tag="RbnFaceMask_kind" name="RbnFaceMask_kind" value="侵入性呼吸器" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);  " />侵入性呼吸器</label>
                                                <label><input type="radio" name="RbnFaceMask_kind" value="非侵入性呼吸器" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); change_width();" />非侵入性呼吸器</label>
                                                <span id="spanFaceMask2Invation" must="Y" style="display:none;">
                                                    <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="BiPAP" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); " />BiPAP</label>
                                                    <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="CPAP" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);" />CPAP</label>
                                                    <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="其他" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true);" />其他</label>
                                                    <span style="display:none;" must="Y" id="RbnNotInvasion_Other">
                                                        <input type="text" tag="RbnNotInvasion" name="RbnNotInvasion_Other" style="width:80px;" />
                                                    </span>
                                                </span>
                                                <div>
                                                    <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_1" style="width:80px;" />
                                                    <label>mode，TV</label>
                                                    <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_2" style="width:80px;" />
                                                    <label>ml</label>
                                                    <label>，FiO2</label>
                                                    <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_3" style="width:80px;" />
                                                    <label>%</label>
                                                </div>
                                                <div>
                                                    <label>，PEEP</label>
                                                    <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_4" style="width:80px;" />
                                                    <label>cmH2O</label>
                                                    <label>，Rate</label>
                                                    <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_5" style="width:80px;" />
                                                    <label>次/分</label>
                                                </div>
                                            </div>
                                        </div>*@
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="呼吸系統 氧氣治療">
                            <th class="head">氧氣治療<span style="color: blue;font-size:0.7em">(交)</span></th>
                            <td colspan="2">
                                <label><input type="radio" name="RbnOxygen" value="無" onclick="CtrlActionFunc(this, '#DivOxygenY', false);" />無</label>
                                <label><input type="radio" name="RbnOxygen" value="有" onclick="CtrlActionFunc(this, '#DivOxygenY', true);" />有</label>
                                <div id="DivOxygenY" style="display:none;">
                                    <hr />
                                    <div id="spanFaceMaskNot5Txt" style="display:none;">
                                        <label>氧氣濃度：</label>
                                        <input type="text" name="TxtO2Concentration" style="width:120px;" /> L/min
                                        <span id="spanFaceMask3Txt" style="display:none;">
                                            <label id="spanFaceMask3Txt">，FiO2</label>
                                            <input type="text" name="TxtFaceMask3_1" style="width:120px;" />
                                            <label>%</label>
                                        </span><br />
                                    </div>

                                    @*<label>面罩種類：</label>*@ @*移除面罩種類字眼 Ryan 20240125*@
                                    <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Nasal Cannula" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Nasal Cannula</label>
                                    <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Simple mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Simple mask</label>
                                    <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Aerosol mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Aerosol mask</label>
                                    <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventri mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Ventri mask</label>
                                    </br><label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Non-rebreathing mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Non-rebreathing mask</label>
                                    <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventilator" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', true); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', false);" />Ventilator</label>


                                    <div id="spanFaceMask5Txt" must="Y" style="display:none">
                                        <label><input type="radio" tag="RbnFaceMask_kind" name="RbnFaceMask_kind" value="侵入性呼吸器" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);  " />侵入性呼吸器</label>
                                        <label><input type="radio" name="RbnFaceMask_kind" value="非侵入性呼吸器" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);   " />非侵入性呼吸器</label>
                                        <span id="spanFaceMask2Invation" must="Y" style="display:none;">
                                            <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="BiPAP" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); " />BiPAP</label>
                                            <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="CPAP" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);" />CPAP</label>
                                            <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="其他" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true);" />其他</label>
                                            <span style="display:none;" must="Y" id="RbnNotInvasion_Other">
                                                <input type="text" tag="RbnNotInvasion" name="RbnNotInvasion_Other" style="width:120px;" />
                                            </span>
                                        </span><br />
                                        <div>
                                            <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_1" style="width:80px;" /><label>mode</label>
                                            <label>，TV</label>
                                            <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_2" style="width:80px;" />
                                            <label>ml</label>

                                            <label>，FiO2</label>
                                            <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_3" style="width:80px;" />
                                            <label>%</label>
                                        </div>
                                        <div>
                                            <label>，PEEP</label>
                                            <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_4" style="width:80px;" />
                                            <label>cmH2O，</label>
                                            <label>Rate</label>
                                            <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_5" style="width:40px;" />
                                            <label>次/分</label>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="呼吸系統 呼吸音 右側">
                            <th class="head" rowspan="2">呼吸音<span style="color: blue;font-size:0.7em">(交)</span></th>
                            <th class="head" style="width:8%;">右</th>
                            <td>
                                <label class="tooltip2"><input type="radio" id="RbnBrthSndsRNor" name="RbnBrthSndsR" value="正常" onclick="CtrlActionFunc(this, '#DivBreathSoundsRAbnor', false); CtrlActionFunc(this, '#spanBrthSndsRAbnorOther', false);  " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnBrthSndsRAbnor" name="RbnBrthSndsR" value="異常" onclick="CtrlActionFunc(this, '#DivBreathSoundsRAbnor', true); CtrlActionFunc(this, '#spanBrthSndsRAbnorOther', false); " />異常</label>
                                <div style="display:none; padding-left:18px;" id="DivBreathSoundsRAbnor">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor_1" name="ChkBrthSndsRAbnor" value="囉音(Rales)" />囉音(Rales)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor_2" name="ChkBrthSndsRAbnor" value="喘鳴音(Wheezing)" />喘鳴音(Wheezing)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor_3" name="ChkBrthSndsRAbnor" value="哮鳴(stridor)" />哮鳴(stridor)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor_4" name="ChkBrthSndsRAbnor" value="乾囉音/鼾音(Ronchi)" />乾囉音/鼾音(Ronchi)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor_5" name="ChkBrthSndsRAbnor" value="呼吸音降低(Decrease of breathing sound)" />呼吸音降低(Decrease of breathing sound)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsR" id="ChkBrthSndsRAbnor99" name="ChkBrthSndsRAbnor" value="其他" onclick="CtrlActionFunc(this, '#spanBrthSndsRAbnorOther'); " />其他</label>
                                        <span style="display:none" id="spanBrthSndsRAbnorOther">
                                            <input type="text" id="TxtBrthSndsRAbnorOther" name="TxtBrthSndsRAbnorOther" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="呼吸系統 呼吸音 左側">
                            <th class="head">左</th>
                            <td>
                                <label class="tooltip2"><input type="radio" id="RbnBrthSndsLNor" name="RbnBrthSndsL" value="正常" onclick="CtrlActionFunc(this, '#DivBreathSoundsLAbnor', false); CtrlActionFunc(this, '#spanBrthSndsLAbnorOther', false); " />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnBrthSndsLAbnor" name="RbnBrthSndsL" value="異常" onclick="CtrlActionFunc(this, '#DivBreathSoundsLAbnor', true); CtrlActionFunc(this, '#spanBrthSndsLAbnorOther', false); " />異常</label>
                                <div style="display:none; padding-left:18px;" id="DivBreathSoundsLAbnor">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor_1" name="ChkBrthSndsLAbnor" value="囉音(Rales)" />囉音(Rales)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor_2" name="ChkBrthSndsLAbnor" value="喘鳴音(Wheezing)" />喘鳴音(Wheezing)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor_3" name="ChkBrthSndsLAbnor" value="哮鳴(stridor)" />哮鳴(stridor)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor_4" name="ChkBrthSndsLAbnor" value="乾囉音/鼾音(Ronchi)" />乾囉音/鼾音(Ronchi)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor_5" name="ChkBrthSndsLAbnor" value="呼吸音降低(Decrease of breathing sound)" />呼吸音降低(Decrease of breathing sound)</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" tag="RbnBrthSndsL" id="ChkBrthSndsLAbnor99" name="ChkBrthSndsLAbnor" value="其他" onclick="CtrlActionFunc(this, '#spanBrthSndsLAbnorOther'); " />其他</label>
                                        <span style="display:none" id="spanBrthSndsLAbnorOther">
                                            <input type="text" id="TxtBrthSndsLAbnorOther" name="TxtBrthSndsLAbnorOther" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="痰液">
                            <th class="head">痰液<span style="color: blue;font-size:0.7em">(交)</span></th>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnSputumN" name="RbnSputum" value="無" onclick="CtrlActionFunc(this, '#DivSputum', false); " />無</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnSputumY" name="RbnSputum" value="有" onclick="CtrlActionFunc(this, '#DivSputum', true);" />有</label>
                                <div id="DivSputum" style="display: none; padding-left: 18px;">
                                    痰量：
                                    <label class="tooltip2"><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="少" />少</label>
                                    <label class="tooltip2"><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="中" />中</label>
                                    <label class="tooltip2"><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="多" />多</label>
                                    <br />
                                    顏色：
                                    <span class="CLSpanFixedWidth2">
                                        @*Txt_SputumColor_Other*@
                                        @if (!string.IsNullOrWhiteSpace(ViewBag.DischargeColor))
                                        {
                                            foreach (string item in ViewBag.DischargeColor.Split('|'))
                                            {
                                                if (item != "其他")
                                                {
                                                    <label><input type="radio" tag="RbnSputumCount" name="RbnSputumColor" value="@item" onclick="CtrlActionFunc(this, '#SputumColor', false);" />@item</label>
                                                }
                                                else
                                                {
                                                    <label><input type="radio" tag="RbnSputumCount" name="RbnSputumColor" value="@item" onclick="CtrlActionFunc(this, '#SputumColor', true);" />@item</label>
                                                    <span style="display:none;" id="SputumColor">
                                                        <input type="text" name="Txt_SputumColor_Other" style="width:120px;" />
                                                    </span>
                                                }
                                            }
                                        }
                                    </span>
                                    <br />
                                    性狀：
                                    <span class="CLSpanFixedWidth2">
                                        @*Txt_SputumNature_Other*@
                                        @if (!string.IsNullOrWhiteSpace(ViewBag.DischargeNature_child))
                                        {
                                            foreach (string item in ViewBag.DischargeNature_child.Split('|'))
                                            {
                                                if (item != "其他")
                                                {
                                                    <label><input type="radio" tag="RbnSputumCount" name="RbnSputumNature" value="@item" onclick="CtrlActionFunc(this, '#SputumNature', false);" />@item</label>
                                                }
                                                else
                                                {
                                                    <label><input type="radio" tag="RbnSputumCount" name="RbnSputumNature" value="@item" onclick="CtrlActionFunc(this, '#SputumNature', true);" />@item</label>
                                                    <span style="display:none;" id="SputumNature">
                                                        <input type="text" name="Txt_SputumNature_Other" style="width:120px;" />
                                                    </span>
                                                }
                                            }
                                        }
                                        @*@Shared_Helper.list_shared_radio_autoTxt("RbnSputumNature", ViewBag.DischargeNature_child, "SputumNature", "120px")*@
                                    </span>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="心臟血管系統">
                            <th class="head">心臟血管系統</th>
                            <td colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnCardiovascularNormal" name="RbnCardiovascular" value="心跳規則" onclick="CtrlActionFunc(this, '#DivCardiovascularAbnormal', false); CtrlActionFunc(this, '#spanCardiovascularAbnormal99Other', false); " />心跳規則</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnCardiovascularAbnormal" name="RbnCardiovascular" value="異常" onclick="CtrlActionFunc(this, '#DivCardiovascularAbnormal', true);" />異常</label>
                                <div id="DivCardiovascularAbnormal" style="display: none; padding-left: 18px;">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal1" name="ChkCardiovascularAbnormal" value="心跳不規則" />心跳不規則</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal2" name="ChkCardiovascularAbnormal" value="心雜音" />心雜音</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal3" name="ChkCardiovascularAbnormal" value="心跳過速" />心跳過速</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal4" name="ChkCardiovascularAbnormal" value="心跳過慢" />心跳過慢</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal5" name="ChkCardiovascularAbnormal" value="杵狀指" />杵狀指</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkCardiovascularAbnormal99" name="ChkCardiovascularAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanCardiovascularAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanCardiovascularAbnormal99Other">
                                            <input type="text" id="TxtCardiovascularAbnormal99Other" name="TxtCardiovascularAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="腸胃系統">
                            <th class="head">腸胃系統</th>
                            <td colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnStomachNormal" name="RbnStomach" value="正常" onclick="CtrlActionFunc(this, '#DivStomachAbnormal', false);CtrlActionFunc(this, '#spanStomachAbnormal99Other', false);CtrlActionFunc(this, '#TrStomachAbn6Position', false);CtrlActionFunc(this, '#spanStomachAbnl9', false);CtrlActionFunc(this, '#DivStomachAbnl9', false);" />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnStomachAbnormal" name="RbnStomach" value="異常" onclick="CtrlActionFunc(this, '#DivStomachAbnormal', true);" />異常</label>
                                <div id="DivStomachAbnormal" style="display: none; padding-left: 18px;">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal1" name="ChkStomachAbnormal" value="食慾減少" />食慾減少</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal2" name="ChkStomachAbnormal" value="噁心" />噁心</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal3" name="ChkStomachAbnormal" value="嘔吐" />嘔吐</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal4" name="ChkStomachAbnormal" value="腹脹" />腹脹</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal5" name="ChkStomachAbnormal" value="腹水" />腹水</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal6" name="ChkStomachAbnormal" value="疝氣" onclick="CtrlActionFunc(this, '#TrStomachAbn6Position');" />疝氣</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal7" name="ChkStomachAbnormal" value="體重改變" />體重改變</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal8" name="ChkStomachAbnormal" value="便秘" />便秘</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal9" name="ChkStomachAbnormal" value="腹瀉" onclick="CtrlActionFunc(this, '#spanStomachAbnl9'); CtrlActionFunc(this, '#DivStomachAbnl9');" />腹瀉</label>&emsp;
                                        <span style="display: none; " id="spanStomachAbnl9">
                                            <input type="text" id="TxtStomachAbnl9Cont" name="TxtStomachAbnl9Cont" style="width:120px;" /> 次/天
                                        </span>
                                        @*<div class="CLSpanFixedWidth2" style="display: none; padding-left: 18px;" id="DivStomachAbn20">
                                                @Shared_Helper.list_shared_radio_autoTxt("RbnStoolColor", ViewBag.StoolColor, "StoolColor", "120px")
                                            </div>*@
                                        <div class="CLSpanFixedWidth2" style="display: none; padding-left: 18px;" id="DivStomachAbnl9">
                                            @Shared_Helper.list_shared_radio_autoTxt("RbnStoolNature", ViewBag.StoolNature, "StoolNature", "120px")
                                        </div>@*Txt_StoolNature_Other*@
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal10" name="ChkStomachAbnormal" value="血便" />血便</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkStomachAbnormal99" name="ChkStomachAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanStomachAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanStomachAbnormal99Other">
                                            <input type="text" id="TxtStomachAbnormal99Other" name="TxtStomachAbnormal99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="腸胃系統 - 疝氣部位" id="TrStomachAbn6Position" style="display:none" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                腸胃系統 - 疝氣部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth2">
                                @*  @Shared_Helper.list_shared_checkbox_autoTxt("ChkStomachAbn6Position", ViewBag.HerniaPosition, "", "StomachAbn6Position", "120px")*@
                                <input type="text" id="TxtStomachAbn6Position" name="TxtStomachAbn6Position" style="width:120px;" />
                            </td>
                        </tr>
                        <tr must="Y" subtitle="泌尿系統">
                            <th class="head">泌尿系統</th>
                            <td colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnUrinarySysNormal" name="RbnUrinarySys" value="正常" onclick="CtrlActionFunc(this, '#DivUrinarySysAbnormal', false); CtrlActionFunc(this, '#spanUrinarySysAbnormal99Other', false);" />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnUrinarySysAbnormal" name="RbnUrinarySys" value="異常" onclick="CtrlActionFunc(this, '#DivUrinarySysAbnormal', true);" />異常</label>
                                <div id="DivUrinarySysAbnormal" style="display: none; padding-left: 18px;">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkUrinarySysAbnormal1" name="ChkUrinarySysAbnormal" value="尿量較多" />尿量較多</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkUrinarySysAbnormal2" name="ChkUrinarySysAbnormal" value="尿量較少" />尿量較少</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkUrinarySysAbnormal3" name="ChkUrinarySysAbnormal" value="血尿" />血尿</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkUrinarySysAbnormal4" name="ChkUrinarySysAbnormal" value="尿床" />尿床</label>&emsp;
                                    </div>
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkUrinarySysAbnormal99" name="ChkUrinarySysAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanUrinarySysAbnormal99Other');" />其他</label>
                                        <span style="display:none" id="spanUrinarySysAbnormal99Other">
                                            <input type="text" id="TxtUrinarySysAbnormal99Other" name="TxtUrinarySysAbnormal99Other" style="width:120px;" />
                                        </span>

                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚狀況 一般外觀">
                            <th class="head">皮膚狀況</th>
                            <th class="head">一般外觀</th>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnSkinAppearanceNormal" name="RbnSkinAppearance" value="正常" onclick="CtrlActionFunc(this, '#DivSkinAppearanceAbnormal', false); CtrlActionFunc(this, '#spanSkinAppearanceAbn99Other', false); $('.SkinAppearanceAllClose').hide();" />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnSkinAppearanceAbnormal" name="RbnSkinAppearance" value="異常" onclick="CtrlActionFunc(this, '#DivSkinAppearanceAbnormal', true); " />異常</label>&emsp;
                                <div id="DivSkinAppearanceAbnormal" style="display: none; padding-left: 18px;">
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn1" name="ChkSkinAppearanceAbn" value="乾燥" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn1Position'); " />乾燥</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn2" name="ChkSkinAppearanceAbn" value="水腫" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn2Position'); " />水腫</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn3" name="ChkSkinAppearanceAbn" value="黃疸" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn3Position'); " />黃疸</label>&emsp;
                                    @*<label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn4" name="ChkSkinAppearanceAbn" value="發绀" onclick="CtrlActionFunc('checkbox', 'TrSkinAppearanceAbn4Position', this); " />發绀</label>&emsp;*@
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn4" name="ChkSkinAppearanceAbn" value="發紺" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn4Position'); " />發紺</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn5" name="ChkSkinAppearanceAbn" value="腫塊" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn5Position'); " />腫塊</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn6" name="ChkSkinAppearanceAbn" value="疹" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn6Position'); " />疹</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn7" name="ChkSkinAppearanceAbn" value="癢" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn7Position'); " />癢</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkSkinAppearanceAbn99" name="ChkSkinAppearanceAbn" value="其他" onclick="CtrlActionFunc(this, '#spanSkinAppearanceAbn99Other'); CtrlActionFunc(this, '#TrSkinAppearanceAbn8Position'); " />其他</label>
                                        <span style="display:none" id="spanSkinAppearanceAbn99Other">
                                            <input type="text" id="TxtSkinAppearanceAbn99Other" name="TxtSkinAppearanceAbn99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="膚完整 - 乾燥部位" id="TrSkinAppearanceAbn1Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 乾燥部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @*Txt_SkinAppearance1Position_Other*@
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance1Position", ViewBag.SkinPosition, "", "SkinAppearance1Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 水腫部位" id="TrSkinAppearanceAbn2Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 水腫部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance2Position", ViewBag.SkinPosition, "", "SkinAppearance2Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 黃疸部位" id="TrSkinAppearanceAbn3Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 黃疸部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance3Position", ViewBag.SkinPosition, "", "SkinAppearance3Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 發绀部位" id="TrSkinAppearanceAbn4Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 發绀部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance4Position", ViewBag.SkinPosition, "", "SkinAppearance4Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 腫塊部位" id="TrSkinAppearanceAbn5Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 腫塊部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance5Position", ViewBag.SkinPosition, "", "SkinAppearance5Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 疹部位" id="TrSkinAppearanceAbn6Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 疹部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance6Position", ViewBag.SkinPosition, "", "SkinAppearance6Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 癢部位" id="TrSkinAppearanceAbn7Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 癢部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance7Position", ViewBag.SkinPosition, "", "SkinAppearance7Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="皮膚完整 - 其他部位" id="TrSkinAppearanceAbn8Position" style="display:none" class="SkinAppearanceAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                皮膚完整 - 其他部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkinAppearance8Position", ViewBag.SkinPosition, "", "SkinAppearance8Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統">
                            <th class="head">骨骼系統</th>
                            <td colspan="3">
                                <label class="tooltip2"><input type="radio" id="RbnSkeletalSystemNormal" name="RbnSkeletalSystem" value="正常" onclick="CtrlActionFunc(this, '#DivSkeletalSystemAbnormal', false); CtrlActionFunc(this, '#spanSkeletalSystemAbn99Other', false); $('.SkeletalSysAllClose').hide();" />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnSkeletalSystemAbnormal" name="RbnSkeletalSystem" value="異常" onclick="CtrlActionFunc(this, '#DivSkeletalSystemAbnormal', true); " />異常</label>&emsp;
                                <div id="DivSkeletalSystemAbnormal" style="display: none; padding-left: 18px;">
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn1" name="ChkSkeletalSystemAbn" value="駝背" />駝背</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn2" name="ChkSkeletalSystemAbn" value="骨折" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn2Position'); " />骨折</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn3" name="ChkSkeletalSystemAbn" value="脫臼" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn3Position'); " />脫臼</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn4" name="ChkSkeletalSystemAbn" value="關節腫" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn4Position'); " />關節腫</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn5" name="ChkSkeletalSystemAbn" value="截肢" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn5Position'); " />截肢</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn6" name="ChkSkeletalSystemAbn" value="畸形" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn6Position'); " />畸形</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn7" name="ChkSkeletalSystemAbn" value="脊椎側彎" />脊椎側彎</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkSkeletalSystemAbn99" name="ChkSkeletalSystemAbn" value="其他" onclick="CtrlActionFunc(this, '#spanSkeletalSystemAbn99Other');" />其他</label>
                                        <span style="display:none" id="spanSkeletalSystemAbn99Other">
                                            <input type="text" id="TxtSkeletalSystemAbn99Other" name="TxtSkeletalSystemAbn99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統 - 骨折部位" id="TrSkeletalSysAbn2Position" style="display:none" class="SkeletalSysAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                骨骼系統 - 骨折部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkeletalSys2Position", ViewBag.SkeletonPosition, "", "SkeletalSys2Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統 - 脫臼部位" id="TrSkeletalSysAbn3Position" style="display:none" class="SkeletalSysAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                骨骼系統 - 脫臼部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkeletalSys3Position", ViewBag.SkeletonPosition, "", "SkeletalSys3Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統 - 關節腫部位" id="TrSkeletalSysAbn4Position" style="display:none" class="SkeletalSysAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                骨骼系統 - 關節腫部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkeletalSys4Position", ViewBag.SkeletonPosition, "", "SkeletalSys4Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統 - 截肢部位" id="TrSkeletalSysAbn5Position" style="display:none" class="SkeletalSysAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                骨骼系統 - 截肢部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkeletalSys5Position", ViewBag.SkeletonPosition, "", "SkeletalSys5Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="骨骼系統 - 畸形部位" id="TrSkeletalSysAbn6Position" style="display:none" class="SkeletalSysAllClose" onmouseover="this.style.backgroundColor='#fff'">
                            <td class="head" style="text-align: center;">
                                骨骼系統 - 畸形部位
                            </td>
                            <td colspan="3" class="CLSpanFixedWidth">
                                @Shared_Helper.list_shared_checkbox_autoTxt("ChkSkeletalSys6Position", ViewBag.SkeletonPosition, "", "SkeletalSys6Position", "120px")
                            </td>
                        </tr>
                        <tr must="Y" subtitle="生殖系統">
                            <th class="head">生殖系統</th>
                            <td>
                                <label class="tooltip2"><input type="radio" id="RbnReproductiveSysFemale" name="RbnReproductiveSysSex" value="女" secvalue="Female" onclick="CtrlActionFunc(this, '#DivReproductiveSysFemale', false);CtrlActionFunc(this, '#DivReproductiveSysMale', false);CtrlActionFunc(this, '#spanRepSysFemale99Other', false);CtrlActionFunc(this, '#spanRepSysMale99Other', false);CtrlActionFunc(this, '#DivRepSysMale3Size', false); $('input[name=RbnReproductiveSysStatus]').prop('checked', false); $('input[name=RbnReproductiveSysStatus]').attr('disabled', false);" />女</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnReproductiveSysMale" name="RbnReproductiveSysSex" value="男" secvalue="Male" onclick="CtrlActionFunc(this, '#DivReproductiveSysFemale', false);CtrlActionFunc(this, '#DivReproductiveSysMale', false);CtrlActionFunc(this, '#spanRepSysFemale99Other', false);CtrlActionFunc(this, '#spanRepSysMale99Other', false);CtrlActionFunc(this, '#DivRepSysMale3Size', false); $('input[name=RbnReproductiveSysStatus]').prop('checked', false); $('input[name=RbnReproductiveSysStatus]').attr('disabled', false);" />男</label>&emsp;
                            </td>
                            <td colspan="2">
                                <label class="tooltip2"><input type="radio" id="RbnReproductiveSysNormal" name="RbnReproductiveSysStatus" value="正常" onclick="CtrlActionFunc(this, '#DivReproductiveSys' + $('input[name=RbnReproductiveSysSex]:checked').attr('secvalue') + ',#spanRepSysFemale99Other,#spanRepSysMale99Other,#DivRepSysMale1Item', false); " disabled />正常</label>&emsp;
                                <label class="tooltip2"><input type="radio" id="RbnReproductiveSysAbormal" name="RbnReproductiveSysStatus" value="異常" onclick="CtrlActionFunc(this, '#DivReproductiveSys' + $('input[name=RbnReproductiveSysSex]:checked').attr('secvalue'), true); " disabled />異常</label>&emsp;
                                <div id="DivReproductiveSysFemale" style="display: none; padding-left: 18px;">
                                    <label class="tooltip2"><input type="checkbox" id="ChkRepSysFemale1" name="ChkRepSysFemale" value="陰道分泌物" />陰道分泌物</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkRepSysFemale99" name="ChkRepSysFemale" value="其他" onclick="CtrlActionFunc(this, '#spanRepSysFemale99Other');" />其他</label>
                                        <span style="display:none" id="spanRepSysFemale99Other">
                                            <input type="text" id="TxtRepSysFemale99Other" name="TxtRepSysFemale99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                                <div id="DivReproductiveSysMale" style="display: none; padding-left: 18px;">
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale1" name="ChkRepSysMale" value="睪丸未降" onclick="CtrlActionFunc(this, '#DivRepSysMale1Item');" />睪丸未降</label>
                                        <span style="display:none" id="DivRepSysMale1Item">
                                            ：
                                            <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale1Site1" name="ChkRepSysMale1Site" value="右" />右</label>&nbsp;
                                            <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale1Site2" name="ChkRepSysMale1Site" value="左" />左</label>
                                        </span>
                                        &emsp;
                                    </div>
                                    <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale2" name="ChkRepSysMale" value="尿道下裂" />尿道下裂</label>&emsp;
                                    <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale3" name="ChkRepSysMale" value="陰囊水腫" />陰囊水腫</label>&emsp;
                                    <div style="display:inline-block">
                                        <label class="tooltip2"><input type="checkbox" id="ChkRepSysMale99" name="ChkRepSysMale" value="其他" onclick="CtrlActionFunc(this, '#spanRepSysMale99Other');" />其他</label>
                                        <span style="display:none" id="spanRepSysMale99Other">
                                            <input type="text" id="TxtRepSysMale99Other" name="TxtRepSysMale99Other" style="width:120px;" />
                                        </span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="head">備註</th>
                            <td colspan="3">
                                <textarea id="TxtElseRemark" name="TxtElseRemark" style="width:400px; height:100px;"></textarea>
                            </td>
                        </tr>
                        <tr style="display:none;">
                            <td colspan="4" style="padding: 5px 0 5px 0; text-align: right;">
                                <div class="funcArea">
                                    <label style="display:none;"><input type="checkbox" id="ChkDBAMCareRecord" name="ChkDBAMCareRecord" value="Y" style="display:none;" />帶入護理紀錄</label>&emsp;

                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </fieldset>
        </div>
    </form>
</div>
<div id="cover" class="dialog"></div>
<div id="divrecord" class="dialog " style="width: 700px;height:350px;overflow-y:hidden;">
    <table border="0" cellpadding="0" cellspacing="4" width="100%" align="center">
        <tr style="">
            <td style="text-align:center;">
                <textarea id="text_content" style="width: 95%; height: 280px;font-size:17px; cursor: text; "></textarea>
                <input type="button" value="存檔" tempstatus="N" onclick="doSubmit(this);" />
                <input type="button" value="取消" onclick="$('#divrecord').hide(); $('#cover').hide();" />
            </td>
        </tr>
    </table>
</div>
<script type="text/javascript">
    //判斷是否字串為空或null
    function isNullOrEmpty(s) {
        return (s == null || s === "");
    }

    ///組字使用--過濾符號-text&textArea
    function composereplaceComma(content) {
        if (!isNullOrEmpty(content)) {
            content = content.replace(',', '，');
            content = content.replace('|', ' ');
        }
        return content
    }

    //再按下存檔時，檢查是否有勾帶記錄
    //勾：就跳帶記錄視窗
    //未勾：就直接儲存
    function showRecordDiv(obj) {
        var unfill = "";
        $("input:radio:checked").each(function (i) {
            if ($(this).val() == "異常" || $(this).val() == "有") {
                tag = $(this).prop('name');
                if ($("input[tag=" + tag + "]:checked").val() == undefined && $("input[tag=" + tag + "]").length != 0) {
                    var tag_name = ["RbnBreathing", "RbnIsMedicalDevices", "RbnBrthSndsR", "RbnBrthSndsL", "RbnSputum"];
                    var tag_values = ["呼吸型態", "醫療輔助器", "呼吸音右側", "呼吸音左側", "痰液量"];
                    var tag_value;
                    for (var i = 0; i < tag_name.length; i++) {
                        if (tag == tag_name[i]) {
                            tag_value = tag_values[i];
                        }
                    }
                    unfill += tag_value + "\n";
                }
            }
            if ($(this).val() == "多" || $(this).val() == "中" || $(this).val() == "少") {
                tag = $(this).prop('name');
                if (($("input[tag=" + tag + "]:checked").val() == undefined && $("input[tag=" + tag + "]").length != 0) || ($("input[tag2=" + tag + "]:checked").val() == undefined && $("input[tag2=" + tag + "]").length != 0)) {
                    var tag_name = ["RbnSputumCount", "TxtUrineCharactersAmount"];
                    var tag_values = ["痰液顏色、性質", "尿液顏色、性質"];
                    var tag_value;
                    for (var i = 0; i < tag_name.length; i++) {
                        if (tag == tag_name[i]) {
                            tag_value = tag_values[i];
                        }

                    }
                    unfill += tag_value + "\n";
                }
            }
            if ($(this).val() == "侵入性呼吸器") {
                var tmp = "";
                var tag_name = ["TxtFaceMask5_1", "TxtFaceMask5_2", "TxtFaceMask5_3", "TxtFaceMask5_4", "TxtFaceMask5_5"];
                var tag_values = ["mode", "TV", "FiO2", "PEEP", "Rate"];
                for (var i = 0; i < tag_name.length; i++) {
                    if ($("input[name=" + tag_name[i] + "]").val() == "") {
                        tag_value = tag_values[i];
                        tmp += 1;
                        //unfill += $(this).val() + " "+ tag_value + "\n";
                    }
                }

                if (tmp > 0)
                    unfill += $(this).val() + "\n";
            }
            if ($(this).val() == "非侵入性呼吸器") {
                var tag = "RbnNotInvasion"; tag2 = "_Other";
                if ($("input[tag=" + tag + "]:checked").val() == undefined) {
                    unfill += $(this).val() + "\n";
                }
                if ($("input[tag=" + tag + "]:checked").val() == "其他" && $("input[name=" + tag + tag2 + "]").val() == "")  //RbnNotInvasion_Other
                {
                    unfill += $(this).val() + " " + "其他" + "\n";
                }

            }

            //if ($(this).val() == "Ventilator") {
            //    var tag = "RbnFaceMask_kind";
            //    var tag2 = "RbnFaceMask_Ventilator";
            //    if ($("input[name=" + tag + "]:checked").val() == undefined || $("input[tag=" + tag2 + "]:checked").val() == "") {
            //        unfill += $(this).val() + "\n";
            //    }
            //}
        });
        if (unfill != "") {
            alert(unfill + "上述明細未填寫");
            return;
        }
        if ($("input[name=ChkPlanYN]:checked").val() == "Y") {
            BindCareRecord();
            $("#divrecord").show();
            $("#cover").show();
        } else {
            //直接存檔
            doSubmit(obj);
        }
    }

    //組記錄，依按下的按鈕組字，即時組在背景後#text_content裡
    function BindCareRecord() {
        var Str1 = "";
        Str1 += composeGeneralExterior();
        Str1 += composeNervousSystem();
        Str1 += composeVision();
        Str1 += composeBreathing();
        Str1 += composeCardiovascular();
        Str1 += composeStomach();
        Str1 += composeUrinarySys();
        Str1 += composeSkinAppearance();
        Str1 += composeSkeletalSystem();
        Str1 += composeReproductiveSysSex();
        Str1 += composeElseRemark();
        $("#text_content").val(Str1);
    }

    //一般外觀-組字
    function composeGeneralExterior() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnGeneralExterior]:checked").val()) && $("input:radio[name=RbnGeneralExterior]:checked").val() != "正常") {//一般外觀
            carerecordcont = "一般外觀：";
            carerecordcont += "病童外觀" + $("input:radio[name=RbnGeneralExterior]:checked").val();
            if (!isNullOrEmpty($("[name=TxtRbnGeneralExterior5Other]").val())) {
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtRbnGeneralExterior5Other]").val());
            }
            carerecordcont += "，";
        } else if ($("input:radio[name=RbnGeneralExterior]:checked").val() == "正常") {
            carerecordcont = "一般外觀：正常。";
        }

        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessStatus]:checked").val())) {//意識狀態
            carerecordcont += "意識狀態 " + $("input:radio[name=RbnAwarenessStatus]:checked").val() + "，GCS：E " + $("input:radio[name=RbnAwarenessComa_E]:checked").val() + " V " + $("input:radio[name=RbnAwarenessComa_V]:checked").val() + " M " + $("input:radio[name=RbnAwarenessComa_M]:checked").val() + "，";
        }
        carerecordcont += "\r\n";
        if (!isNullOrEmpty($("input:radio[name=RbnEmotional]:checked").val())) {//情緒狀態
            if ($("input:radio[name=RbnEmotional]:checked").val() != "異常") {
                carerecordcont += "情緒平靜。";
            }
            else {
                if (!isNullOrEmpty($('input[name=ChkEmotionalAbn]:checked').val())) {
                    var ChkEmotionalAbnArr = new Array();
                    $("input:checkbox:checked[name=ChkEmotionalAbn]").each(function (i) { ChkEmotionalAbnArr[i] = this.value; });
                    carerecordcont += "情緒 " + ChkEmotionalAbnArr;
                    if (!isNullOrEmpty($("[name=TxtEmotionalAbn99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtEmotionalAbn99Other]").val());
                    }
                    carerecordcont += "。";
                }
            }
        }
        return carerecordcont;
    }

    //神經系統-組字
    function composeNervousSystem() {
        var carerecordcont = "";
        if ($("input:radio[name=RbnNervousSys]:checked").val() == "異常" || $("input:radio[name=RbnFeelingSys]:checked").val() == "異常") {
            carerecordcont += "\r\n神經系統：";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnNervousSys]:checked").val())) {//神經系統
            if ($("input:radio[name=RbnNervousSys]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkNervousAbnormal]:checked').val())) {
                    var ChkNervousAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkNervousAbnormal]").each(function (i) { ChkNervousAbnormalArr[i] = this.value; });
                    carerecordcont += ChkNervousAbnormalArr + " 問題存。";
                }
            } else {
                carerecordcont += "正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnFeelingSys]:checked").val())) {//神經系統 感覺
            if ($("input:radio[name=RbnFeelingSys]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkFeelingAbn]:checked').val())) {
                    var ChkFeelingAbnArr = new Array();
                    $("input:checkbox:checked[name=ChkFeelingAbn]").each(function (i) { ChkFeelingAbnArr[i] = this.value; });
                    $.each(ChkFeelingAbnArr, function (i, item) {//foreach(string item in form["ChkFeelingAbn"].split(','));
                        switch (item) {
                            case "酸":
                                if (!isNullOrEmpty($('input[name=ChkFeelingAbn5Position]:checked').val())) {
                                    var ChkFeelingAbn5PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkFeelingAbn5Position]").each(function (i) { ChkFeelingAbn5PositionArr[i] = this.value; });
                                    carerecordcont += ChkFeelingAbn5PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_Feeling5Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Feeling5Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "痛":
                                if (!isNullOrEmpty($('input[name=ChkFeelingAbn1Position]:checked').val())) {
                                    var ChkFeelingAbn1PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkFeelingAbn1Position]").each(function (i) { ChkFeelingAbn1PositionArr[i] = this.value; });
                                    carerecordcont += ChkFeelingAbn1PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_Feeling1Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Feeling1Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "麻":
                                if (!isNullOrEmpty($('input[name=ChkFeelingAbn2Position]:checked').val())) {
                                    var ChkFeelingAbn2PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkFeelingAbn2Position]").each(function (i) { ChkFeelingAbn2PositionArr[i] = this.value; });
                                    carerecordcont += ChkFeelingAbn2PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_Feeling2Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Feeling2Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "無知覺":
                                if (!isNullOrEmpty($('input[name=ChkFeelingAbn3Position]:checked').val())) {
                                    var ChkFeelingAbn3PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkFeelingAbn3Position]").each(function (i) { ChkFeelingAbn3PositionArr[i] = this.value; });
                                    carerecordcont += ChkFeelingAbn3PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_Feeling3Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Feeling3Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "抽搐":
                                if (!isNullOrEmpty($('input[name=ChkFeelingAbn4Position]:checked').val())) {
                                    var ChkFeelingAbn4PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkFeelingAbn4Position]").each(function (i) { ChkFeelingAbn4PositionArr[i] = this.value; });
                                    carerecordcont += ChkFeelingAbn4PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_Feeling4Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Feeling4Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "無法測":
                                carerecordcont += " " + item + "。";
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtFeelingAbn99Other]").val())) {
                                    carerecordcont += composereplaceComma($("[name=TxtFeelingAbn99Other]").val());
                                }
                                carerecordcont += " 問題存。";
                                break;
                        }
                    });
                }
            } else {
                carerecordcont += " 感覺正常。";
            }
        }
        return carerecordcont;
    }

    //function processNotNullNotEmptyNotNormal(name)
    //{
    //    var Istrue = true;
    //   var tempval= $("input:radio[name=" + name + "]:checked").val()
    //   if (!isNullOrEmpty(tempval) && tempval!="正常")
    //    {
    //       Istrue = false;
    //    }
    //}

    //感官系統-組字
    function composeVision() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnVision]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnHearing]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnNose]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnMouth]:checked").val())) {
            carerecordcont += "\r\n感官系統：病童 ";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnVision]:checked").val())) {//感官系統 眼
            if ($("input:radio[name=RbnVision]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkVisionAbnormal]:checked').val())) {
                    var ChkVisionAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkVisionAbnormal]").each(function (i) { ChkVisionAbnormalArr[i] = this.value; });
                    $.each(ChkVisionAbnormalArr, function (i, item) {  // foreach(string item in form["ChkVisionAbnormal"].split(','))

                        switch (item) {
                            case "近視":
                                carerecordcont += item + "，";
                                break;
                            case "弱視":
                                if (!isNullOrEmpty($('input[name=ChkAmblyopia]:checked').val())) {
                                    var ChkAmblyopiaArr = new Array();
                                    $("input:checkbox:checked[name=ChkAmblyopia]").each(function (i) { ChkAmblyopiaArr[i] = this.value; });
                                    var TempStrArr = ChkAmblyopiaArr;//.split(',');
                                    for (var j = 0; j < TempStrArr.length; j++) {
                                        carerecordcont += TempStrArr[j] + "眼" + item + "，";
                                    }
                                }
                                break;
                            case "斜視":
                                if (!isNullOrEmpty($('input[name=ChkStrabismus]:checked').val())) {
                                    var ChkStrabismusArr = new Array();
                                    $("input:checkbox:checked[name=ChkStrabismus]").each(function (i) { ChkStrabismusArr[i] = this.value; });
                                    var TempStrArr = ChkStrabismusArr;//.split(',');
                                    for (var j = 0; j < TempStrArr.length; j++) {
                                        carerecordcont += TempStrArr[j] + "眼" + item + "，";
                                    }
                                }
                                break;
                            case "分泌物":
                                if (!isNullOrEmpty($('input[name=ChkHemianopia]:checked').val())) {
                                    var ChkHemianopiaArr = new Array();
                                    $("input:checkbox:checked[name=ChkHemianopia]").each(function (i) { ChkHemianopiaArr[i] = this.value; });
                                    var TempStrArr = ChkHemianopiaArr;//.split(',');
                                    for (var j = 0; j < TempStrArr.length; j++) {
                                        carerecordcont += TempStrArr[j] + "眼" + item + "，";
                                    }
                                }
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtVisionAbnormal99Other]").val())) {
                                    carerecordcont += composereplaceComma($("[name=TxtVisionAbnormal99Other]").val());
                                }
                                break;
                        }
                    });
                    carerecordcont += " 問題存。";
                }
            }
            else if ($("input:radio[name=RbnVision]:checked").val() == "無法評估") {
                carerecordcont += "眼部無法評估。";
            } else if ($("input:radio[name=RbnVision]:checked").val() == "正常") {
                carerecordcont += "視力正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnHearing]:checked").val())) {//感官系統 耳
            carerecordcont += "\r\n";
            if ($("input:radio[name=RbnHearing]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkHearingAbnormal]:checked').val())) {
                    var ChkHearingAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkHearingAbnormal]").each(function (i) { ChkHearingAbnormalArr[i] = this.value; });
                    $.each(ChkHearingAbnormalArr, function (i, item) {   //foreach(string item in form["ChkHearingAbnormal"].split(','))

                        switch (item) {
                            case "聽力障礙":
                                if (!isNullOrEmpty($('input[name=ChkHardHearing]:checked').val())) {
                                    var ChkHardHearingArr = new Array();
                                    $("input:checkbox:checked[name=ChkHardHearing]").each(function (i) { ChkHardHearingArr[i] = this.value; });
                                    var TempStrArr = ChkHardHearingArr;//.split(',');
                                    for (var j = 0; j < TempStrArr.length; j++) {
                                        carerecordcont += TempStrArr[j] + "耳" + item + "，";
                                    }
                                }
                                break;
                            case "耳鳴":
                                if (!isNullOrEmpty($('input[name=ChkTinnitus]:checked').val())) {
                                    var ChkTinnitusArr = new Array();
                                    $("input:checkbox:checked[name=ChkTinnitus]").each(function (i) { ChkTinnitusArr[i] = this.value; });
                                    var TempStrArr = ChkTinnitusArr;//.split(',');
                                    for (var j = 0; j < TempStrArr.length; j++) {
                                        carerecordcont += TempStrArr[j] + "耳" + item + "，";
                                    }
                                }
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtHearingAbnormal99Other]").val())) {
                                    carerecordcont += composereplaceComma($("[name=TxtHearingAbnormal99Other]").val());
                                }
                                break;
                        }
                        carerecordcont += " 問題存。";
                    });
                }
            } else if ($("input:radio[name=RbnHearing]:checked").val() == "正常") {
                carerecordcont += " 聽力正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnNose]:checked").val())) {//感官系統 鼻
            carerecordcont += "\r\n";
            if ($("input:radio[name=RbnNose]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkNoseAbnormal]:checked').val())) {
                    var ChkNoseAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkNoseAbnormal]").each(function (i) { ChkNoseAbnormalArr[i] = this.value; });
                    carerecordcont += ChkNoseAbnormalArr;//.Replace(',','，');
                    if (!isNullOrEmpty($("[name=TxtNoseAbnormal99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtNoseAbnormal99Other]").val());
                    }
                    carerecordcont += " 問題存。";
                }
            } else if ($("input:radio[name=RbnNose]:checked").val() == "正常") {
                carerecordcont += " 鼻子無異常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnMouth]:checked").val())) {//感官系統 口腔
            carerecordcont += "\r\n";
            if ($("input:radio[name=RbnMouth]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkMouthAbnormal]:checked').val())) {
                    var ChkMouthAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkMouthAbnormal]").each(function (i) { ChkMouthAbnormalArr[i] = this.value; });
                    carerecordcont += ChkMouthAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtMouthAbnormal99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtMouthAbnormal99Other]").val());
                    }
                    carerecordcont += " 問題存。";
                }
            } else if ($("input:radio[name=RbnMouth]:checked").val() == "正常") {
                carerecordcont += " 口腔無異常。";
            }
        }
        return carerecordcont;
    }

    //呼吸系統-組字
    function composeBreathing() {
        var carerecordcont = ""; var mask_tmp = "";
        if (!isNullOrEmpty($("input:radio[name=RbnBreathing]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnIsMedicalDevices]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnOxygen]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnBrthSndsR]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnBrthSndsL]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val())) {
            carerecordcont = "\r\n呼吸系統：";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnBreathing]:checked").val())) {//呼吸系統 呼吸型態
            if ($("input:radio[name=RbnBreathing]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkBreathingAbnormal]:checked').val())) {
                    var ChkBreathingAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkBreathingAbnormal]").each(function (i) { ChkBreathingAbnormalArr[i] = this.value; });
                    carerecordcont += "病人呼吸型態 " + ChkBreathingAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtBreathingAbnormal99Other]").val()))
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBreathingAbnormal99Other]").val());
                    carerecordcont += "，";
                }
            } else {
                carerecordcont += "病人呼吸型態：正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnIsMedicalDevices]:checked").val())) {
            /*carerecordcont += "人工氣道：" + $("input:radio[name=RbnMedicalDevices]:checked").val() + "。";*/
            if (!isNullOrEmpty($("input:radio[name=RbnMedicalDevices]:checked").val())) {
                if (!isNullOrEmpty($("[name=TxtMedicalDevices1_1]").val()) || !isNullOrEmpty($("[name=TxtMedicalDevices1_2]").val()))
                    carerecordcont += composereplaceComma($("[name=TxtMedicalDevices1_1]").val()) + "fr." + $("input:radio[name=RbnMedicalDevices]:checked").val() + "fix" + composereplaceComma($("[name=TxtMedicalDevices1_2]").val()) + "cm。";
                if (!isNullOrEmpty($("[name=TxtMedicalDevices2_1]").val()))
                    carerecordcont += composereplaceComma($("[name=TxtMedicalDevices2_1]").val()) + "fr." + $("input:radio[name=RbnMedicalDevices]:checked").val() + "存。";
            }
            else
                /*carerecordcont += "未使用醫療輔助器輔助呼吸。";*/
                carerecordcont += "";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnOxygen]:checked").val()) && $("input:radio[name=RbnOxygen]:checked").val() == "有") {
            if ($("input:radio[name=RbnFaceMask]:checked").val() != "Aerosol mask" && $("input:radio[name=RbnFaceMask]:checked").val() != "Ventilator") {
                if ($("input:radio[name=RbnFaceMask]:checked").val() == "Ventri mask") {
                    carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + "。";
                } else {
                    carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + " O2 " + composereplaceComma($("[name=TxtO2Concentration]").val()) + " L/min使用。";
                }
            }
            else if ($("input:radio[name=RbnFaceMask]:checked").val() == "Aerosol mask") {
                carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + " FiO2：" + composereplaceComma($("[name=TxtFaceMask3_1]").val()) + "%。";
            }
            else if ($("input:radio[name=RbnFaceMask]:checked").val() == "Ventilator") {
                if (!isNullOrEmpty($("input:radio[name=RbnFaceMask_kind]:checked").val()) && $("input:radio[name=RbnFaceMask_kind]:checked").val() == "非侵入性呼吸器") {

                    if (!isNullOrEmpty($("input:radio[name=RbnFaceMask_Ventilator]:checked").val()) && $("input:radio[name=RbnFaceMask_Ventilator]:checked").val() == "其他") {
                        mask_tmp = $("[name=RbnNotInvasion_Other]").val()
                    } else {
                        mask_tmp = $("input:radio[name=RbnFaceMask_Ventilator]:checked").val()
                    }
                } else {
                    mask_tmp = $("input:radio[name=RbnFaceMask]:checked").val() //侵入性呼吸器
                }
                var tmp_mode = ""; tmp_tv = ""; tmp_FIO2 = ""; tmp_peep = ""; tmp_rate = "";

                if (mask_tmp == "侵入性呼吸器") {
                    carerecordcont += " On " + mask_tmp + "，PS mode：" + composereplaceComma($("[name=TxtFaceMask5_1]").val()) + "，TV：" + composereplaceComma($("[name=TxtFaceMask5_2]").val())
                        + " ml，FiO2：" + composereplaceComma($("[name=TxtFaceMask5_3]").val()) + "%，PEEP：" + composereplaceComma($("[name=TxtFaceMask5_4]").val())
                        + " cmH2O，Rate：" + composereplaceComma($("[name=TxtFaceMask5_5]").val()) + " 次/分，";
                } else {
                    if ($("[name=TxtFaceMask5_1]").val() != "")
                        tmp_mode = "，" + $("[name=TxtFaceMask5_1]").val() + " mode";
                    if ($("[name=TxtFaceMask5_2]").val() != "")
                        tmp_tv = "，TV：" + $("[name=TxtFaceMask5_2]").val() + " ml"
                    if ($("[name=TxtFaceMask5_3]").val() != "")
                        tmp_FIO2 = "，FiO2：" + $("[name=TxtFaceMask5_3]").val() + " %"
                    if ($("[name=TxtFaceMask5_4]").val() != "")
                        tmp_peep = "，PEEP：" + $("[name=TxtFaceMask5_4]").val() + " cmH2O"
                    if ($("[name=TxtFaceMask5_5]").val() != "")
                        tmp_rate = "，Rate：" + $("[name=TxtFaceMask5_5]").val() + " 次/分"

                    carerecordcont += " On " + mask_tmp + tmp_mode + tmp_tv + tmp_FIO2 + tmp_peep + tmp_rate + "，"
                }

            }
        } else if ($("input:radio[name=RbnOxygen]:checked").val() == "無") {
            carerecordcont += "未使用氧氣治療。";
        }

        if (!isNullOrEmpty($("input:radio[name=RbnBrthSndsR]:checked").val())) {//RbnBrthSndsR
            if (!isNullOrEmpty($('input[name=ChkBrthSndsRAbnor]:checked').val())) {
                var ChkBrthSndsRAbnorArr = new Array();
                $("input:checkbox:checked[name=ChkBrthSndsRAbnor]").each(function (i) { ChkBrthSndsRAbnorArr[i] = this.value; });
                carerecordcont += "右側呼吸音：" + ChkBrthSndsRAbnorArr;
                if (!isNullOrEmpty($("[name=TxtBrthSndsRAbnorOther]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBrthSndsRAbnorOther]").val());
                carerecordcont += "，";
            }
            else
                carerecordcont += "右側呼吸音正常，";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnBrthSndsL]:checked").val())) {
            if (!isNullOrEmpty($('input[name=ChkBrthSndsLAbnor]:checked').val())) {
                var ChkBrthSndsLAbnorArr = new Array();
                $("input:checkbox:checked[name=ChkBrthSndsLAbnor]").each(function (i) { ChkBrthSndsLAbnorArr[i] = this.value; });
                carerecordcont += "左側呼吸音：" + ChkBrthSndsLAbnorArr;
                if (!isNullOrEmpty($("[name=TxtBrthSndsLAbnorOther]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBrthSndsLAbnorOther]").val());
                carerecordcont += "，";
            }
            else
                carerecordcont += "左側呼吸音正常，";
        }
        // if (!isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val())) {//RbnSputum
        if (!isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val()) && $("input:radio[name=RbnSputum]:checked").val() == "有") {
            carerecordcont += "痰液 量" + $("input:radio[name=RbnSputumCount]:checked").val() + "，色" + $("input:radio[name=RbnSputumColor]:checked").val();
            if (!isNullOrEmpty($("[name=TxtSputumColor99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtSputumColor99Other]").val());
            carerecordcont += "，呈" + $("input:radio[name=RbnSputumNature]:checked").val();
            if (!isNullOrEmpty($("[name=TxtSputumNature99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtSputumNature99Other]").val());
            carerecordcont += "狀。";
        } else if ($("input:radio[name=RbnSputum]:checked").val() == "無") {
            carerecordcont += "無痰液。";
        }
        else {
            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 1);
            carerecordcont += "。";
        }
        //}

        return carerecordcont;
    }


    //心臟血管系統-組字
    function composeCardiovascular() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnCardiovascular]:checked").val())) {//心臟血管系統
            if ($("input:radio[name=RbnCardiovascular]:checked").val() != "心跳規則") {
                carerecordcont += "\r\n心臟血管系統：";
                if (!isNullOrEmpty($('input[name=ChkCardiovascularAbnormal]:checked').val())) {
                    var ChkCardiovascularAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkCardiovascularAbnormal]").each(function (i) { ChkCardiovascularAbnormalArr[i] = this.value; });
                    carerecordcont += ChkCardiovascularAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtCardiovascularAbnormal99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtCardiovascularAbnormal99Other]").val());
                    }
                    carerecordcont += " 問題存。";
                }
            }
            else {
                carerecordcont += "\r\n心臟血管系統：心跳規則。";
            }
        }
        return carerecordcont;
    }

    //腸胃系統-組字
    function composeStomach() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnStomach]:checked").val())) {//腸胃系統
            var temp_str_Stomach1 = "", temp_str_Stomach2 = "", temp_str_Stomach3 = "";
            if ($("input:radio[name=RbnStomach]:checked").val() != "正常") {
                carerecordcont += "\r\n腸胃系統：";
                if (!isNullOrEmpty($('input[name=ChkStomachAbnormal]:checked').val())) {
                    var ChkStomachAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkStomachAbnormal]").each(function (i) { ChkStomachAbnormalArr[i] = this.value; });
                    $.each(ChkStomachAbnormalArr, function (i, item) // foreach(string item in form["ChkStomachAbnormal"].split(','))
                    {
                        switch (item) {
                            case "食慾減少":
                                temp_str_Stomach1 += item + ",";
                                break;
                            case "噁心":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "嘔吐":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "腹脹":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "腹水":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "疝氣":
                                if (!isNullOrEmpty($("[name=TxtStomachAbn6Position]").val())) {
                                    temp_str_Stomach2 += composereplaceComma($("[name=TxtStomachAbn6Position]").val()) + " 疝氣問題存。";//item + " ,";
                                }
                                break;
                            case "體重改變":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "便秘":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "腹瀉"://////目前畫面上只有性狀，並無客戶給予的表單上顯示還有"顏色"該選項
                                temp_str_Stomach3 += item + composereplaceComma($("[name=TxtStomachAbnl9Cont]").val()) + " 次/天 ";
                                // string temp_str0 = (form["Txt_Stoolcolor_Other"] != "") ? composereplaceComma(form["Txt_Stoolcolor_Other"]) : form["RbnStoolcolor"];//顏色目前沒有，所以先假設name(預留)
                                // temp_str_Stomach3 += "，糞便色"+temp_str0;                                                                                                                                  //顏色目前沒有，所以先假設name(預留)
                                var temp_str = ($("[name=Txt_StoolNature_Other]").val() != "") ? composereplaceComma($("[name=Txt_StoolNature_Other]").val()) : $("input:radio[name=RbnStoolNature]:checked").val();
                                temp_str_Stomach3 += "，呈" + temp_str + "狀。";
                                break;
                            case "血便":
                                temp_str_Stomach1 += item + " ,";
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtStomachAbnormal99Other]").val())) {
                                    temp_str_Stomach1 += composereplaceComma($("[name=TxtStomachAbnormal99Other]").val());
                                }
                                temp_str_Stomach1 += " ,";
                                break;
                        }
                    });
                    temp_str_Stomach1 = temp_str_Stomach1.substring(0, temp_str_Stomach1.length - 1);
                    carerecordcont += temp_str_Stomach1 + " 問題存。" + temp_str_Stomach2 + temp_str_Stomach3;
                }

            }
            else {
                carerecordcont += "\r\n腸胃系統：正常。";

            }
        }
        return carerecordcont;
    }

    //泌尿系統-組字
    function composeUrinarySys() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnUrinarySys]:checked").val())) {//泌尿系統
            if ($("input:radio[name=RbnUrinarySys]:checked").val() != "正常") {
                carerecordcont += "\r\n泌尿系統：";
                if (!isNullOrEmpty($('input[name=ChkUrinarySysAbnormal]:checked').val())) {
                    var ChkUrinarySysAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkUrinarySysAbnormal]").each(function (i) { ChkUrinarySysAbnormalArr[i] = this.value; });
                    carerecordcont += ChkUrinarySysAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtUrinarySysAbnormal99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtUrinarySysAbnormal99Other]").val());
                    }
                    carerecordcont += " 問題存。";
                }
            }
            else {
                carerecordcont += "\r\n泌尿系統：正常。";
            }
        }
        return carerecordcont;
    }

    //皮膚狀況-組字
    function composeSkinAppearance() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnSkinAppearance]:checked").val())) { //皮膚狀況 一般外觀
            if ($("input:radio[name=RbnSkinAppearance]:checked").val() != "正常") {
                carerecordcont += "\r\n皮膚狀況：";
                if (!isNullOrEmpty($('input[name=ChkSkinAppearanceAbn]:checked').val())) {
                    var ChkSkinAppearanceAbnArr = new Array();
                    $("input:checkbox:checked[name=ChkSkinAppearanceAbn]").each(function (i) { ChkSkinAppearanceAbnArr[i] = this.value; });
                    $.each(ChkSkinAppearanceAbnArr, function (i, item) //  foreach(string item in form["ChkSkinAppearanceAbn"].split(','))
                    {
                        switch (item) {
                            case "乾燥":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance1Position]:checked').val())) {
                                    var ChkSkinAppearance1PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance1Position]").each(function (i) { ChkSkinAppearance1PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance1PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance1Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance1Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "水腫":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance2Position]:checked').val())) {
                                    var ChkSkinAppearance2PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance2Position]").each(function (i) { ChkSkinAppearance2PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance2PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance2Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance2Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "黃疸":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance3Position]:checked').val())) {
                                    var ChkSkinAppearance3PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance3Position]").each(function (i) { ChkSkinAppearance3PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance3PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance3Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance3Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "發紺":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance4Position]:checked').val())) {
                                    var ChkSkinAppearance4PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance4Position]").each(function (i) { ChkSkinAppearance4PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance4PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance4Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance4Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "腫塊":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance5Position]:checked').val())) {
                                    var ChkSkinAppearance5PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance5Position]").each(function (i) { ChkSkinAppearance5PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance5PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance5Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance5Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "疹":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance6Position]:checked').val())) {
                                    var ChkSkinAppearance6PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance6Position]").each(function (i) { ChkSkinAppearance6PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance6PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance6Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance6Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "癢":
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance7Position]:checked').val())) {
                                    var ChkSkinAppearance7PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance7Position]").each(function (i) { ChkSkinAppearance7PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance7PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance7Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance7Position_Other]").val());
                                    }
                                    carerecordcont += " " + item + " 問題存。";
                                }
                                break;
                            case "其他":
                                //carerecordcont += item;
                                if (!isNullOrEmpty($('input[name=ChkSkinAppearance8Position]:checked').val())) {
                                    var ChkSkinAppearance8PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkinAppearance8Position]").each(function (i) { ChkSkinAppearance8PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkinAppearance8PositionArr;
                                    if (!isNullOrEmpty($("[name=Txt_SkinAppearance8Position_Other]").val())) {
                                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance8Position_Other]").val());
                                    }
                                    if (!isNullOrEmpty($("[name=TxtSkinAppearanceAbn99Other]").val())) {
                                        carerecordcont += " " + composereplaceComma($("[name=TxtSkinAppearanceAbn99Other]").val());
                                    }
                                    carerecordcont += " 問題存。";
                                }
                                break;
                        }
                    });
                }
            }
            else {
                carerecordcont += "\r\n皮膚狀況：正常。";
            }
        }
        return carerecordcont;
    }

    //骨骼系統-組字
    function composeSkeletalSystem() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnSkeletalSystem]:checked").val())) {//骨骼系統
            if ($("input:radio[name=RbnSkeletalSystem]:checked").val() != "正常") {
                carerecordcont += "\r\n骨骼系統：";
                if (!isNullOrEmpty($('input[name=ChkSkeletalSystemAbn]:checked').val())) {
                    var ChkSkeletalSystemAbnArr = new Array();
                    $("input:checkbox:checked[name=ChkSkeletalSystemAbn]").each(function (i) { ChkSkeletalSystemAbnArr[i] = this.value; });
                    $.each(ChkSkeletalSystemAbnArr, function (i, item)// foreach(string item in form["ChkSkeletalSystemAbn"].split(','))
                    {
                        switch (item) {
                            case "駝背":
                                carerecordcont += item + " 問題存。";
                                break;
                            case "骨折":
                                if (!isNullOrEmpty($('input[name=ChkSkeletalSys2Position]:checked').val())) {
                                    var ChkSkeletalSys2PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkeletalSys2Position]").each(function (i) { ChkSkeletalSys2PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkeletalSys2PositionArr + " " + item + " 問題存。";
                                }
                                break;
                            case "脫臼":
                                if (!isNullOrEmpty($('input[name=ChkSkeletalSys3Position]:checked').val())) {
                                    var ChkSkeletalSys3PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkeletalSys3Position]").each(function (i) { ChkSkeletalSys3PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkeletalSys3PositionArr + " " + item + " 問題存。";
                                }
                                break;
                            case "關節腫":
                                if (!isNullOrEmpty($('input[name=ChkSkeletalSys4Position]:checked').val())) {
                                    var ChkSkeletalSys4PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkeletalSys4Position]").each(function (i) { ChkSkeletalSys4PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkeletalSys4PositionArr + " " + item + " 問題存。";
                                }
                                break;
                            case "截肢":
                                if (!isNullOrEmpty($('input[name=ChkSkeletalSys5Position]:checked').val())) {
                                    var ChkSkeletalSys5PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkeletalSys5Position]").each(function (i) { ChkSkeletalSys5PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkeletalSys5PositionArr + " " + item + " 問題存。";
                                }
                                break;
                            case "畸形":
                                if (!isNullOrEmpty($('input[name=ChkSkeletalSys6Position]:checked').val())) {
                                    var ChkSkeletalSys6PositionArr = new Array();
                                    $("input:checkbox:checked[name=ChkSkeletalSys6Position]").each(function (i) { ChkSkeletalSys6PositionArr[i] = this.value; });
                                    carerecordcont += ChkSkeletalSys6PositionArr + " " + item + " 問題存。";
                                }
                                break;
                            case "脊椎側彎":
                                carerecordcont += item + " 問題存。";
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtSkeletalSystemAbn99Other]").val()))
                                    carerecordcont += composereplaceComma($("[name=TxtSkeletalSystemAbn99Other]").val()) + " 問題存。";
                                break;
                        }
                    });
                }
            }
            else {
                carerecordcont += "\r\n骨骼系統：正常。";
            }
        }
        return carerecordcont;
    }

    //生殖系統-組字
    function composeReproductiveSysSex() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnReproductiveSysSex]:checked").val())) {//生殖系統
            if ($("input:radio[name=RbnReproductiveSysSex]:checked").val() != "女") {//男
                if (!isNullOrEmpty($("input:radio[name=RbnReproductiveSysStatus]:checked").val())) {
                    if ($("input:radio[name=RbnReproductiveSysStatus]:checked").val() != "正常") {
                        carerecordcont += "\r\n生殖系統：";
                        if (!isNullOrEmpty($('input[name=ChkRepSysMale]:checked').val())) {
                            var ChkRepSysMaleArr = new Array();
                            $("input:checkbox:checked[name=ChkRepSysMale]").each(function (i) { ChkRepSysMaleArr[i] = this.value; });
                            $.each(ChkRepSysMaleArr, function (i, item)// foreach(string item in form["ChkRepSysMale"].split(','))
                            {
                                switch (item) {
                                    case "睪丸未降":
                                        if (!isNullOrEmpty($('input[name=ChkRepSysMale1Site]:checked').val())) {
                                            var ChkRepSysMale1SiteArr = new Array();
                                            $("input:checkbox:checked[name=ChkRepSysMale1Site]").each(function (i) { ChkRepSysMale1SiteArr[i] = this.value; });
                                            carerecordcont += (ChkRepSysMale1SiteArr != "右,左") ? (ChkRepSysMale1SiteArr) : ("雙側");
                                        }
                                        carerecordcont += item + ",";
                                        break;
                                    case "尿道下裂":
                                        carerecordcont += item + ",";
                                        break;
                                    case "陰囊水腫":
                                        carerecordcont += item + ",";
                                        break;
                                    case "其他":
                                        if (!isNullOrEmpty($("[name=TxtRepSysMale99Other]").val())) {
                                            carerecordcont += composereplaceComma($("[name=TxtRepSysMale99Other]").val());
                                        }
                                        break;
                                }
                            });

                            carerecordcont += " 問題存。";
                        }
                    }
                    else {
                        carerecordcont += "\r\n生殖系統：正常。";
                    }
                }
            }
            else {//女
                if (!isNullOrEmpty($("input:radio[name=RbnReproductiveSysStatus]:checked").val())) {
                    if ($("input:radio[name=RbnReproductiveSysStatus]:checked").val() != "正常") {
                        carerecordcont += "\r\n生殖系統：";
                        if (!isNullOrEmpty($('input[name=ChkRepSysFemale]:checked').val())) {
                            var ChkRepSysFemaleArr = new Array();
                            $("input:checkbox:checked[name=ChkRepSysFemale]").each(function (i) { ChkRepSysFemaleArr[i] = this.value; });
                            carerecordcont += ChkRepSysFemaleArr;
                            if (!isNullOrEmpty($("[name=TxtRepSysFemale99Other]").val())) {
                                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtRepSysFemale99Other]").val());
                            }
                            carerecordcont += " 問題存。";
                        }
                    }
                    else {
                        carerecordcont += "\r\n生殖系統：正常。";
                    }
                }
            }
        }
        return carerecordcont;
    }

    //備註-組字
    function composeElseRemark() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("[name=TxtElseRemark]").val())) {//備註//其他
            carerecordcont += "\r\n備註：";
            carerecordcont += composereplaceComma($("[name=TxtElseRemark]").val()) + "。";
        }
        return carerecordcont;
    }
</script>