@using System.Data;
@{
    NIS.Data.PatientInfo pf = (NIS.Data.PatientInfo)ViewData["ptinfo"];
    NIS.Data.Complement_List complement_List = (NIS.Data.Complement_List)Session["Complement_List"];
    DateTime mindate = DateTime.Now;
    if (complement_List.Status)
    { mindate = pf.InDate; }
    else
    {
        if (DateTime.Now.Hour < 24)//20171030 改規則 AlanHuang
        {
            mindate = Convert.ToDateTime(DateTime.Now.AddDays(-1).ToString("yyyy/MM/dd 00:00"));
        }
        else if (DateTime.Now.Day == 1 && DateTime.Now.Hour < 24)
        {
            if (((DateTime.Now.Year % 4 == 0) && (DateTime.Now.Year % 100 != 0)) || (DateTime.Now.Year % 400 == 0))//判斷閏年
            {
                if (DateTime.Now.Month == 2)
                {
                    mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(28).ToString("yyyy/MM/dd 00:00"));
                }
            }
            if (DateTime.Now.Month == 1 || DateTime.Now.Month == 3 || DateTime.Now.Month == 5 || DateTime.Now.Month == 7 || DateTime.Now.Month == 8 || DateTime.Now.Month == 10 || DateTime.Now.Month == 12)
            {
                mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(30).ToString("yyyy/MM/dd 00:00"));
            }
            else
            {
                if (DateTime.Now.Month == 2) { mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(27).ToString("yyyy/MM/dd 00:00")); }
                else { mindate = Convert.ToDateTime(DateTime.Now.AddMonths(-1).AddDays(29).ToString("yyyy/MM/dd 00:00")); }
            }
        }
        else
        { mindate = Convert.ToDateTime(DateTime.Now.ToString("yyyy/MM/dd 00:00")); }
        if (pf.InDate > mindate)
        { mindate = pf.InDate; }
    }
    string DBAMType = ViewBag.DBAMType;
    string SexVal = ViewBag.SexVal;
    string title = "與交班單連動";
}
<style type="text/css">
    .dataArea td {
        border-bottom: 1px solid rgba(20%,20%,40%,0.5);
        text-align: left;
        border-right: solid 1px #808080;
    }

    #module_define {
        padding: 5px 0px 3px 0px;
        text-align: center;
        background-color: #9999FF;
        width: 100%;
        border: 1px solid #BBBBBB;
        border-right: 2px solid #999999;
        border-bottom: 2px solid #999999;
    }

    .CLSpanFixedWidth span {
        width: 120px;
        display: inline-block;
    }

    .CLSpanFixedWidth3 span {
        width: 60px;
        display: inline-block;
    }

    .CLSpanFixedWidth4 span {
        width: 150px;
        display: inline-block;
    }

    .head {
        background-color: #85A5CC;
    }

     .dialog {
        display: none;
        position: fixed;
        _position: absolute; /* position fixed for IE6 */
    }

    #cover {
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        background-color: #666;
        opacity: 0.6;
        z-index: 999;
    }

     #inp,#divrecord {
        left: 50%;
        top: 50%;
        margin-left: -450px;
        margin-top: -210px;
        width: 900px;
        height: 400px;
        padding-top: 20px;
        background-color: #FFFFFF;
        border: 1px solid #666;
        z-index: 9999;
        _top: expression(documentElement.scrollTop+(documentElement.clientHeight-this.clientHeight)/2);
        _margin-top: 0;
    }
</style>
<script type="text/javascript">
    /*#Rigion 右鍵重設*/
    $(document).ready(function () {
        document.oncontextmenu = function () { return true; };//鎖右鍵
       
        $("#coma").contextmenu(function (e) {
                $("input[name=RbnAwarenessComa_E]").attr("checked", false);
                $("input[name=RbnAwarenessComa_V]").attr("checked", false);
                $("input[name=RbnAwarenessComa_M]").attr("checked", false);
                return false;
                return true;
        });
        $("#Allcoma").contextmenu(function () {
            $("input[name=RbnAwarenessComa_E]").attr("checked", false);
            $("input[name=RbnAwarenessComa_V]").attr("checked", false);
            $("input[name=RbnAwarenessComa_M]").attr("checked", false);
            $("input[name=RbnPupilItem  Ref_R]").attr("checked", false);
            $("input[name=RbnPupilItemSize_R]").attr("checked", false);
            $("input[name=RbnPupilItemRef_L]").attr("checked", false);
            $("input[name=RbnPupilItemSize_L]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleRU]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleLU]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleRD]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleLD]").attr("checked", false);
            $("input[name=RbnAwarenessRASS]").attr("checked", false);
           
            $("input[name=RbnAwarenessRASS]").attr("checked", false);
            $("input[name=RbnAwarenessRASSScore]").attr("checked", false);
            

        });
        $("#Pupil").contextmenu(function () {
            
            $("input[name=RbnPupilItemRef_R]").attr("checked", false);
            $("input[name=RbnPupilItemSize_R]").attr("checked", false);
            $("input[name=RbnPupilItemRef_L]").attr("checked", false);
            $("input[name=RbnPupilItemSize_L]").attr("checked", false);
            $("input[name=Txt_RbnPupilItemRef_R_Other]").val("");
            $("input[name=Txt_RbnPupilItemRef_L_Other]").val("");
        })
        $("#Muscle").contextmenu(function () {
            
            $("input[name=RbnAwarenessMuscleRU]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleLU]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleRD]").attr("checked", false);
            $("input[name=RbnAwarenessMuscleLD]").attr("checked", false);
            $("input[name=Txt_AwarenessMuscleRU_Other]").val("");
            $("input[name=Txt_AwarenessMuscleLU_Other]").val("");
            $("input[name=Txt_AwarenessMuscleRD_Other]").val("");
            $("input[name=Txt_AwarenessMuscleLD_Other]").val("");

        })
        $("#RASS").contextmenu(function () {
            $("input[name=RbnAwarenessRASS]").attr("checked", false); 
            $("input[name=RbnAwarenessRASSScore]").attr("checked", false);
        })
        $("#neuropathy").contextmenu(function () {
            $("input[name=RbnNervousSys]").attr("checked", false); 
            $("input[name=ChkNervousAbnormal]").attr("checked", false);
            $("input[name=TxtNervousAbnormal99Other]").val("");
            $("input[name=Txt_Nervous3Position_Other]").val("");
            $("input[name=Txt_Nervous4Position_Other]").val("");
            $("input[name=Txt_Nervous5Position_Other]").val("");
            $("input[name=Txt_Nervous6Position_Other]").val("");

        })
        $("#sense").contextmenu(function () {
            $("input[name=RbnVision]").attr("checked", false);
            $("input[name=ChkVisionAbnormal]").attr("checked", false);
            $("input[name=ChkBlindness]").attr("checked", false);
            $("input[name=ChkVisionAbnormal]").attr("checked", false);
            $("input[name=ChkHemianopia]").attr("checked", false);
            $("input[name=ChkDiplopia]").attr("checked", false);
            $("input[name=RbnAuxiliary]").attr("checked", false);
            $("input[name=ChkArtificialEyes]").attr("checked", false);
            $("input[name=ChkAuxiliaryAbnormal_99]").attr("checked", false);
            $("input[name=RbnHearing]").attr("checked", false);
            $("input[name=ChkHardHearing]").attr("checked", false);
            $("input[name=ChkDeaf]").attr("checked", false);
            $("input[name=ChkTinnitus]").attr("checked", false);
            $("input[name=RbnIsHearingAid]").attr("checked", false);
            $("input[name=ChkHearingAid]").attr("checked", false);
            $("input[name=RbnNose]").attr("checked", false);
            $("input[name=RbnTaste]").attr("checked", false); 
            $("input[name=ChkAuxiliaryAbnormal]").attr("checked", false);
            $("input[name=ChkHearingAbnormal]").attr("checked", false);
            $("input[name=TxtVisionAbnormal99Other]").val("");
            $("input[name=TxtAuxiliaryAbnormal99Other]").val("");
        })
        $("#circulation").contextmenu(function () {
          
            $("input[name=RbnPulse]").attr("checked", false);
            $("input[name=RbnTip]").attr("checked", false);
            $("input[name=ChkTipAbnormal]").attr("checked", false);

            $("input[name=RbnDulplex]").attr("checked", false);
            $("input[name=RbnDorsalPulseL]").attr("checked", false);
            $("input[name=RbnDorsalPulseR]").attr("checked", false);
            $("input[name=RbnRadialPulseL]").attr("checked", false);
            $("input[name=RbnRadialPulseR]").attr("checked", false);
            $("input[name=h]").attr("checked", false);
            $("input[name=TxtDorsalPulseLOther]").val("");
            $("input[name=TxtDorsalPulseROther]").val("");
            $("input[name=TxtRadialPulseLOther]").val("");
            $("input[name=TxtRadialPulseROther]").val("");
            $("input[name=TxtTipAbnormal99Other]").val("");
        })
        $("#respiratory").contextmenu(function () {
            $("input[name=RbnBreathing]").attr("checked", false);
            $("input[name=ChkBreathingAbnormal]").attr("checked", false);
            $("input[name=RbnIsMedicalDevices]").attr("checked", false);

            $("input[name=RbnMedicalDevices]").attr("checked", false);
            $("input[name=RbnMedicalDevices]").attr("checked", false);
            $("input[name=RbnOxygen]").attr("checked", false);
            $("input[name=RbnFaceMask]").attr("checked", false);
            $("input[name=RbnBrthSndsR]").attr("checked", false);
            $("input[name=ChkBrthSndsRAbnor]").attr("checked", false);

            $("input[name=RbnBrthSndsL]").attr("checked", false);
            $("input[name=ChkBrthSndsLAbnor]").attr("checked", false);
            $("input[name=RbnSputum]").attr("checked", false);
            $("input[name=RbnSputumCount]").attr("checked", false);
            $("input[name=RbnSputumColor]").attr("checked", false);
            $("input[name=RbnSputumNature]").attr("checked", false);
            $("input[name=TxtBreathingAbnormal99Other]").val("");
            $("input[name=TxtMedicalDevices1_1]").val("");
            $("input[name=TxtMedicalDevices1_2]").val("");
            $("input[name=TxtMedicalDevices2_1]").val("");
            $("input[name=TxtO2Concentration]").val("");
            $("input[name=TxtFaceMask3_1]").val("");
            $("input[name=TxtFaceMask5_1]").val("");
            $("input[name=TxtFaceMask5_2]").val("");
            $("input[name=TxtFaceMask5_3]").val("");
            $("input[name=TxtFaceMask5_4]").val("");
            $("input[name=TxtFaceMask5_5]").val("");
            $("input[name=TxtBrthSndsRAbnorOther]").val("");
            $("input[name=TxtBrthSndsLAbnorOther]").val("");
            $("input[name=TxtSputumColor99Other]").val("");
            $("input[name=TxtSputumNature99Other]").val("");
        })
        $("#digestive").contextmenu(function () {

            $("input[name=RbnEatingPatterns]").attr("checked", false);
            $("input[name=RbnEatPat2Item]").attr("checked", false);
            $("input[name=RbnDietType]").attr("checked", false);
            $("input[name=RbnAppetite]").attr("checked", false);
            $("input[name=RbnAppetiteAbnormal]").attr("checked", false);
            $("input[name=ChkAppetiteAbnElse]").attr("checked", false);
            $("input[name=RbnPalpation]").attr("checked", false);
            $("input[name=ChkPalpationAbn]").attr("checked", false);
            $("input[name=ChkPeristalsisNoAssess]").attr("checked", false);

            $("input[name=RbnBowelSounds]").attr("checked", false);
            $("input[name=RbnDecompression]").attr("checked", false);
            $("input[name=RbnDecCount]").attr("checked", false);
            $("input[name=RbnDecColor]").attr("checked", false);
            $("input[name=RbnDecNature]").attr("checked", false);

            $("input[name=TxtEatingPatterns99Other]").val("");
            $("input[name=TxtEatPat2_1]").val("");
            $("input[name=TxtEatPat2_2]").val("");
            $("input[name=TxtEatPat2_3]").val("");
            $("input[name=TxtDietType6Cont]").val("");
            $("input[name=TxtDietType99Other]").val("");
            $("input[name=TxtAppetiteAbnElse99Other]").val("");
            $("input[name=TxtPalpationAbnElse99Other]").val("");
            $("input[name=TxtPeristalsis]").val("");
            $("input[name=TxtDecColor99Other]").val("");
            $("input[name=TxtDecNature99Other]").val("");
        })
        $("#urinate").contextmenu(function () {
            $("input[name=RbnUrination]").attr("checked", false);
            $("input[name=ChkUrinationAbn]").attr("checked", false);
            $("input[name=RbnVoidingPattern]").attr("checked", false);
            $("input[name=TxtUrineCharactersAmount]").attr("checked", false);
            $("input[name=RbnUrineColor]").attr("checked", false);
            $("input[name=RbnUrineNature]").attr("checked", false);
            $("input[name=RbnDefecation]").attr("checked", false);
            $("input[name=ChkDefecationAbn]").attr("checked", false);
            $("input[name=RbnDefecationAbn1]").attr("checked", false);
            $("input[name=ChkDefecationAbn]").attr("checked", false);

            $("input[name=TxtUrinationAbn99Other]").val("");
            $("input[name=TxtVoidingPattern99Other]").val("");
            $("input[name=Txt_UrineColor_Other]").val("");
            $("input[name=Txt_UrineNature_Other]").val("");
            $("input[name=TxtDefecationAbn99Other]").val("");
        })
        $("#orthopedics").contextmenu(function () {
            $("input[name=RbnSkeletalSystem]").attr("checked", false);
            $("input[name=ChkSkeletalSystemAbn]").attr("checked", false);
            $("input[name=ChkSkeletalSys2Position]").attr("checked", false);
            $("input[name=ChkSkeletalSys3Position]").attr("checked", false);
            $("input[name=ChkSkeletalSys4Position]").attr("checked", false);
            $("input[name=ChkSkeletalSys5Position]").attr("checked", false);
            $("input[name=ChkSkeletalSys6Position]").attr("checked", false);
            $("input[name=RbnBonesEvents]").attr("checked", false);
            $("input[name=ChkBonesEventsAbn]").attr("checked", false);
            $("input[name=TxtSkeletalSystemAbn99Other").val("");
            $("input[name=TxtBonesEventsAbn99Other").val("");
        })
        $("#orthopedics2").contextmenu(function () {     
            $("input[name=RbnBonesEvents]").attr("checked", false);
            $("input[name=ChkBonesEventsAbn]").attr("checked", false);
            $("input[name=TxtBonesEventsAbn99Other").val("");
        })
        $("#dermatology").contextmenu(function () {
            $("input[name=RbnSkinAppearance]").attr("checked", false);
            $("input[name=ChkSkinAppearanceAbn]").attr("checked", false);
            $("input[name=ChkSkinAppearance6Position]").attr("checked", false);
            $("input[name=RbnSkinAppearAbn6Plus]").attr("checked", false);
            $("input[name=ChkSkinAppearance7Position]").attr("checked", false);

            $("input[name=TxtSkinAppearanceAbn99Other").val("");
            $("input[name=Txt_SkinAppearance6Position_Other").val("");
            $("input[name=Txt_SkinAppearance7Position_Other").val("");
        })
        $("#forbid").contextmenu(function () {
            $("input[name=param_taboo_position]").attr("checked", false);
            $("input[name=param_taboo_position_txt").val("");
            $("input[name=param_taboo_position_other").val("");
        })
        $("#tabs-9").contextmenu(function () {
            $("input[name=param_taboo_position]").attr("checked", false);         
        })
        $("#reproductive").contextmenu(function () {
            $("input[name=RbnReproductiveSysSex]").attr("checked", false);
            $("input[name=RbnReproductiveSysStatus]").attr("checked", false);
            $("input[name=ChkRepSysFemale]").attr("checked", false);
            $("input[name=ChkRepSysMale]").attr("checked", false);
            $("input[name=ChkRepSysMale99]").attr("checked", false);
            $("input[name=TxtRepSysFemale99Other").val("");
            $("input[name=TxtRepSysMale3Width").val("");
            $("input[name=TxtRepSysMale3Height").val("");
            $("input[name=TxtRepSysMale99Other").val("");
        })
        //$("#remark1").contextmenu(function () {
        //    $("textarea[name=TxtElseRemark]").val("");
        //});
    /*#endRigion*/

        //SetDateTime($('#TxtDBAMDate'), $('#TxtDBAMTime'));
        //格行換色
        setGridColor();

        //重設高度
        $(window).resize(function () {
            var height = $(this).outerHeight();
            if (height <= 300)
                height = 450;
            $(".dataArea").outerHeight(height - 120);
        }).trigger("resize");
    });

    function setGridColor() {
        $table = $('.dataArea').find('tr:visible');
        $table.filter(":even").css('background', '#ABC8E2');
        $table.filter(":odd").css('background', '#E1E6FA');
    }

    //綁定DateTimePicker
    function SetDateTime(DateObj, TimeObj) {
        DateObj.prop('readonly', true).css({ 'width': '80px', 'font-size': '12px' });
        TimeObj.prop('readonly', true).css({ 'width': '50px', 'font-size': '12px' });
        DateObj.datetimepicker({
            altField: TimeObj,
            beforeShowDay: function (date) {
                switch (date.getDay()) {
                    case 6:
                        return [true, 'satday'];
                        break;
                    case 0:
                        return [true, 'sunday'];
                        break;
                    default:
                        return [true, ''];
                        break;
                }
            },
            inline: true,
            showAnim: "slideDown",
            controlType: myControl,
            maxDateTime: new Date(),
            minDateTime: new Date('@(mindate.ToString("MM/dd/yyyy HH:mm:ss"))')
        });
    }

    function SetData(Type, Num, CallBack) {
        $.ajax({
            type: 'POST',
            url: '@Url.Content("~/DailyBodyAssessment/SelectAdultAssess")',
            data: { 'Type': Type, 'ID': Num },
            success: function (data) {
                if (data != "") {
                    var List = JSON.parse(data);
                    //console.log(List);
                    if (!!Num) {
                        $('#Title').html('修改評估');
                        $('#HidDBAMID').val(List[0]["DBAM_ID"]);
                        $('#TxtDBAMDate').val(List[0]["ASSDATE"]);
                        $('#TxtDBAMTime').val(List[0]["ASSTIME"]);
                        var Istemp = List[0]["DBAM_TEMP_TYPE"];
                        if (Istemp == "temporary") {//在修改暫存時，也是要能帶記錄
                            $("input[name=ChkPlanYN]").prop('checked', true).val('Y').show();
                            $("#lab_ChkPlanYN").show();
                        } else {
                            if (Istemp == "complete") {
                                $("#Btn_TempSave").hide();
                            }
                            $("[name=ChkPlanYN]").removeAttr('checked').val('N').hide();
                            $("#lab_ChkPlanYN").hide();
                        }
                    }
                    else {
                        $('#Title').html('新增評估');
                        $("input[name=ChkPlanYN]").prop('checked', true).val('Y').show();
                        $("#lab_ChkPlanYN").show();
                    }
                    if (List.length > 0) {
                        $.each(List, function (i, item) {
                            if (item["DBAD_ITEMID"] != 'TxtDBAMDate' && item["DBAD_ITEMID"] != 'TxtDBAMTime')
                            {
                                if (item["DBAD_ITEMID"] == 'param_taboo_position_txt')
                                {
                                    if (item["DBAD_ITEMTYPE"] == 'text') {
                                        var count = item["DBAD_ITEMVALUE"].split("※＆").length - 1;//Split by multiple characters by jarvis
                                        for (var x = 0; x < count; x++) {
                                            $('#but_taboo_position').click();
                                        }
                                    }
                                } 
                                else {
                                    if (item["DBAD_ITEMTYPE"] == 'radio')
                                        set_for_rb(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                    else if (item["DBAD_ITEMTYPE"] == 'checkbox') {
                                        set_for_ck(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                    }
                                    else if (item["DBAD_ITEMTYPE"] == 'text')
                                        set_for_txt(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                    else {
                                        $("textarea[name='" + item["DBAD_ITEMID"] + "']").html(item["DBAD_ITEMVALUE"]);
                                    }
                                }
                                if (item["DBAD_ITEMID"] == 'param_taboo_position_txt' || item["DBAD_ITEMID"] == 'param_taboo_position_other') {
                                    //var xxx = item["DBAD_ITEMVALUE"].split('※＆').length;
                                    if (item["DBAD_ITEMVALUE"].split('※＆').length > 0) {//Split by multiple characters by jarvis
                                        set_for_txt1(item["DBAD_ITEMID"], item["DBAD_ITEMVALUE"]);
                                    }
                                    else {
                                        $('#' + item["DBAD_ITEMID"]).val(item["DBAD_ITEMVALUE"]);
                                    }
                                }
                            } 
                        });
                    }
                    else {
                        //預設 生殖系統 的性別
                        set_for_rb("RbnReproductiveSysSex", "@(pf.PatientGender)");
                    }
                }
                else
                    alert('請重新選擇病人！');
            },
            complete: function () {
                if (!!CallBack)
                    CallBack();
            }
        });
    }

    function set_for_rb(RbnName, RbnVal) {
        if (RbnVal != '') {
            var RB = $("#Dt input[type=radio][name='" + RbnName + "']");
            RB.filter("[value='" + RbnVal + "']").prop('checked', true).trigger('onclick');
        }
    }

    function set_for_ck(CKName, VAL) {
        if (VAL != '') {
            var CK = $("#Dt input[type=checkbox][name='" + CKName + "']");
            $.each(VAL.split(","), function (i, item) {
                CK.filter("[value='" + item + "']").prop('checked', true).trigger('onclick');
            });
        }
    }

    function set_for_txt(TxtName, DValue) {
        $("input[type=text][name='" + TxtName + "']").val(DValue);
    }

    function set_for_txt1(txt_name, dvalue) {
        if (dvalue != '') {
            var default_val = dvalue.split("※＆");////Split by multiple characters by jarvis
            var txt = document.getElementsByName(txt_name);
            if (txt.length > 1) {
                for (var i = 0; i < txt.length; i++) {
                    $(txt[i]).val(default_val[i]);
                }
            }
            else
                $(txt[0]).val(dvalue);
        }
    }

    function div_hidden(id_list) {
        var list = id_list.split(',');
        for (var i = 0 ; i < list.length; i++) {
            $('.' + list[i]).fadeOut(0);
            var input_list = $('.' + list[i] + ' input, .' + list[i] + ' textarea');
            for (var j = 0 ; j < input_list.length; j++) {
                if (input_list[j].type == "textarea" || input_list[j].type == 'text')
                    $(input_list[j]).val('');
                else if (input_list[j].type == 'radio')
                    input_list[j].checked = false;
                else {
                    if (input_list[j].checked)
                        $(input_list[j]).click();
                }
            }
        }
    }



    function CtrlActionFunc(obj, DivName, boolSwitch) {
        if ($(obj).attr('type') == 'checkbox')
            boolSwitch = $(obj).prop('checked');
        else {
            if (boolSwitch)
                boolSwitch = $(obj).prop('checked');
        }
        if ($(DivName).length > 0) {
            if (boolSwitch)
                $(DivName).show();
            else {
                $(DivName).hide();
                $(DivName).find("input[type=checkbox]:checked, input[type=radio]:checked")
                    .prop('checked', false).filter('[onclick]').trigger('onclick');
                $(DivName).find("input[type=text]").val('');
            }
        }
    }

    function Back() {
        if (confirm('確定取消?')) {
            window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListadult")';
        }
    }

    //改成不檢查，所以不使用此檢查的function
    function SetAdultAssessFunc() {
        $("input[type=button]").prop("disabled", true);

        var BoolVal = true;
        var DBAMID = $('#HidDBAMID').val();
        var DBAMType = $('#HidDBAMType').val();
        var AllIDName = '';
        var AllType = '';
        var AllIDList = $('#FormDailyBodyAdult input, #FormDailyBodyAdult textarea');

        var tr_list = $('tr[must=Y]:visible');  // var tr_list = $(CheckType + ' p[must=Y]:visible,div[must=Y]:visible');
        TabLoop:
            for (var i = 0; i < tr_list.length; i++) {
                var input_list = $(tr_list[i]).find(':input').filter(':visible').filter(':enabled');
                if (input_list.length > 0) {
                    var input_name = '';
                    for (var j = 0; j < input_list.length; j++) {
                        if (input_name != $(input_list[j]).attr('name')) {
                            input_name = $(input_list[j]).attr('name');
                            if (input_list[j].type == 'text' || input_list[j].type == 'textarea' || input_list[j].type == 'select-one')
                                var input_val = $.trim(input_list[j].value);
                            else if (input_list[j].type == 'radio' || input_list[j].type == 'checkbox')
                                var input_val = $('input[name=' + $(input_list[j]).attr('name') + ']:checked').val();
                            else
                                continue;

                            if (input_val == undefined || $.trim(input_val) == '') {
                                if ($(input_list[j]).attr('name') != "ChkPeristalsisNoAssess") {//ChkPeristalsisNoAssess 為單一 checkbox，無勾選屬例外狀況
                                    BoolVal = false;

                                    if ($(tr_list[i]).attr('subtitle') != undefined)
                                        alert($(tr_list[i]).attr('subtitle') + ' 未填寫!');
                                    else
                                        alert('尚有項目未填寫!');

                                    $(input_list[j]).focus();
                                    break TabLoop;
                                }
                            }
                        }
                    }
                }
            }

        if (BoolVal) {
            for (var i = 0; i < AllIDList.length; i++) {
                if (AllIDName.indexOf($(AllIDList[i]).attr('name') + ',') == -1) {
                    AllIDName += $(AllIDList[i]).attr('name') + ',';
                    if ($(AllIDList[i]).attr('type') != undefined)
                        AllType += $(AllIDList[i]).attr('type') + ',';
                    else
                        AllType += 'textarea,';
                }
            }
            $('#HidAllID').val(AllIDName.substring(0, AllIDName.length - 1));
            $('#HidAllType').val(AllType.substring(0, AllType.length - 1));
            $('#FormDailyBodyAdult input[type=text], #FormDailyBodyAdult textarea').each(function () { $(this).val($(this).val()); });//.replace(/,/g, '|')
            loop_windows("open_cover");
            $.ajax({
                url: '@Url.Content("~/DailyBodyAssessment/SetDailyAssessData")',
                type: 'POST',
                data: $('form[name=FormDailyBodyAdult]').serialize(),
                success: function (data) {
                    if (data == "Y") {
                        alert('儲存成功');
                        window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListadult")';
                    }
                    else if (data == "N") 
                        alert('儲存失敗');
                    else if (data == "O")
                        alert('請重新選擇病患');
                }, complete: function () {
                    loop_windows("close_cover");
                }
            });
        }
        else
            $("input[type=button]").prop("disabled", false);
    }


    function doSubmit(obj)
    {//直接儲存不檢查//後來改成連存檔都不需要檢查，使用按鈕包含 存檔、暫存 ，只差在暫存的註記，與帶記錄
        $("input[type=button]").prop("disabled", true);
        var tempstatus = $(obj).attr('tempstatus');
      //  alert(tempstatus);
        var AllType = '';
        var AllIDName = '';
        var AllIDList = $('#FormDailyBodyAdult input, #FormDailyBodyAdult textarea');
        var text_content='';
            for (var i = 0; i < AllIDList.length; i++) {
                if (AllIDName.indexOf($(AllIDList[i]).attr('name') + ',') == -1) {
                    AllIDName += $(AllIDList[i]).attr('name') + ',';
                    if ($(AllIDList[i]).attr('type') != undefined)
                        AllType += $(AllIDList[i]).attr('type') + ',';
                    else
                        AllType += 'textarea,';
                }
            }
            $('#HidAllID').val(AllIDName.substring(0, AllIDName.length - 1));
            $('#HidAllType').val(AllType.substring(0, AllType.length - 1));
            $('#FormDailyBodyAdult input[type=text], #FormDailyBodyAdult textarea').each(function () { $(this).val($(this).val()); });//.replace(/,/g, '|')
            if (tempstatus == 'N')
            {//選擇存檔，並非暫存
                var TakeCareStatus = $("input[name=ChkPlanYN]:checked").val();//取有無勾選 --帶記錄的checkbox
                if (TakeCareStatus == "Y")
                {//
                    //取記錄的textArea內容--有勾時
                    text_content=$("#text_content").val();
                }
            }
            loop_windows("open_cover");
            $.ajax({
                url: '@Url.Content("~/DailyBodyAssessment/SetDailyAssessData")',
                type: 'POST',
                data: $('form[name=FormDailyBodyAdult]').serialize() + "&temp=" + tempstatus + "&CareString=" + text_content.replace(/&/g, '＆').replace(/\+/g, '＋'),
                success: function (data) {
                    if (data == "Y") {
                        alert('儲存成功');
                        window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListadult")';
                    }
                    else if (data == "N") {
                        alert('儲存失敗');
                    }
                    else if (data == "O") {
                        alert('請重新選擇病患');
                    } else if (data == "X") {
                        if (confirm("是否前往護理記錄?")) {
                            window.location.href = '@(Url.Content("~/CareRecord/List"))';
                        } else {
                            window.location.href = '@Url.Content("~/DailyBodyAssessment/DailyBodyAssessListadult")';
                        }
                    }
                }, complete: function () {
                    loop_windows("close_cover");
                    $("input[type=button]").prop("disabled", false);
                }
            });
    }

    //複製div
    function clonediv(p_id, btnid, div_id) {
        //取得屬性值
        //   alert(btnid);
        var countid = parseInt($('#' + p_id).attr("countid")) + 1;
        var copyPart = $('#' + p_id).clone();     //複製一份
        $('#' + p_id).attr("countid", countid);  //修改id
        $(copyPart).attr('id', p_id + '_' + countid);

        //修改按鈕id,name,value,bind click事件
        $('#' + btnid, copyPart)
                .attr('id', p_id + 'btnDel' + countid)
                .attr('src', '../Images/minus.png')
                .attr('title', '刪除')
                .attr('alt', '刪除')
                .attr('delid', p_id + '_' + countid);
        //清空Textbox值
        $('input[type=text]', copyPart).each(function () {
            $(this).val('');
            if ($(this).attr('name') == "tube_start_date" || $(this).attr('name') == "tube_start_time" || $(this).attr('name') == "tube_forecast_time" || $(this).attr('name') == "tubeMaterial_other" || $(this).attr('name') == "param_tube_model" || $(this).attr('name') == "txt_section_other" || $(this).attr('name') == "txt_section") {
                $(this).attr('id', $(this).attr('name') + '_' + countid);
                if ($(this).attr('name') == "tubeMaterial") $(this).attr('key', countid);
            }
        });

        //下拉選單替換屬性值
        $('select[key=0]', copyPart).each(function () {
            $(this).attr('id', $(this).attr('name') + '_' + countid);
            $(this).attr('key', countid);
        });
        $('select', copyPart).each(function () {
            if ($(this).attr('name') == 'wound_pressure') {
                $(this).val('');
            }
        });

        //checkbox替換屬性值
        $('input[type=checkbox]', copyPart).each(function () {
            $(this).attr('id', $(this).attr('name') + '_' + countid);
            $(this).attr('key', countid);
            $(this).attr('checked', false);
        });

        //加上小日曆id
        $('span', copyPart).each(function () {
            if ($(this).attr('class') == "TubeDate" || $(this).attr('class') == "WoundDate" || $(this).attr('class') == "WoundPreDate") {
                $(this).attr('id', $(this).attr('section') + '_' + countid);
            }
        });

        //設定radio_清空值
        $('input[type=radio]', copyPart).each(function () {
            $(this).attr('name', $(this).attr('name') + '_' + countid);
            if (p_id != "wound_pre") $(this).attr('checked', false);
        });


        //加入複製出來的項目
        $('#' + div_id).append(copyPart);
        $('#' + p_id + '_' + countid).css('opacity', '100');
        document.getElementById(p_id + 'btnDel' + countid).setAttribute('onclick', 'colDel(this)');

        if (p_id == 'wound_ass')//傷口要另外處裡的東西
        {
            var str = document.getElementById('wound_ass_' + countid).innerHTML.replace(/_0/g, '_' + countid);
            document.getElementById('wound_ass_' + countid).innerHTML = str;
            //setDateTime('Wound_occurs_date_' + countid);
            $('.P_wound_general_' + countid).hide();
            $('.P_wound_scald_' + countid).hide();
            $('#wound_count_' + countid).val(countid);
        }
        if (p_id == 'wound_pre')//壓傷要另外處裡的東西
        {
            var str = document.getElementById('wound_pre_' + countid).innerHTML.replace(/_0/g, '_' + countid);
            document.getElementById('wound_pre_' + countid).innerHTML = str;
            $('#inHosp_' + countid).hide();
            $('#outHosp_' + countid).hide();
            $('#outHosp_other_' + countid).hide();
            $('#place1_' + countid).attr('checked', false);
            $('#place2_' + countid).attr('checked', false);
            $('#place1_' + countid).attr('onclick', "SwitchHosp(this,'in');");
            $('#place2_' + countid).attr('onclick', "SwitchHosp(this,'out');CheckHosp(this);");
            $('#inHosp_' + countid).val('');
        }
    }

    //刪除事件
    function colDel(obj) {
        var delid = $(obj).attr('delid');
        $('#' + delid).remove();
    }
    function display(id) {
        document.getElementById(id).setAttribute("style", "display:none;");
    }
    function endisplay(id) {
        document.getElementById(id).setAttribute("style", "display:;");
    }

    //焦點離開後將小豆號換成大豆號及槓槓改成空白
    function replaceComma(obj) {
        var content = $(obj).val();
        content = content.replace(',', '，');
        content = content.replace('|', ' ');
        $(obj).val(content);
    }
    
    //骨折部位 其他輸出方塊控制
    function other_toggle(obj) {
        $('#' + obj).toggle();
        $('#' + obj +' input[type=text]').val('');
    }

</script>

<!-- 與咏蓁討論後，本頁如與 20160323 文件內容有異，皆因 此單元項目以 入住護理評估 為主， RASS 以 生命徵象 為主，為拋轉所需，之後需以入院為更正 By wawa 2016/6/28 -->
<div class="funcArea">
<form id="FormDailyBodyAdult" name="FormDailyBodyAdult" method="post">
    <div id="module_define">成人每日身體評估</div>
    <div style="text-align:center;padding:5px 5px 0 5px;">
        <label for="ChkPlanYN" id="lab_ChkPlanYN"><input type="checkbox" id="ChkPlanYN" name="ChkPlanYN" value="Y"  onclick="" />帶紀錄</label>
        <input type="button" value="存檔" tempstatus="N" style="width:80px;" onclick="showRecordDiv(this);" />
        <input type="button" id="Btn_TempSave" value="暫存" tempstatus="Y" style="width:80px;" onclick="doSubmit(this);" />
        <input type="button" value="取消" style="width:80px;" onclick="Back();" />
    </div>
    <div>
        <fieldset style="padding:5px;margin:0px;">
            <legend id="Title"></legend>
            <input type="hidden" id="HidDBAMType" name="HidDBAMType" value="@(DBAMType)" />
            <input type="hidden" id="HidDBAMID" name="HidDBAMID" />
            <input type="hidden" id="HidAllID" name="HidAllID" />
            <input type="hidden" id="HidAllType" name="HidAllType" />
            <div class="dataArea" style="height:400px;">
                <table border="0" cellpadding="4" cellspacing="1" style="table-layout:fixed;white-space:normal;" id="Dt">
                    <tr must="Y" subtitle="評估時間">
                        <th class="head" style="width:18%;">評估時間：</th>
                        <td colspan="3">
                            <input type="text" id="TxtDBAMDate" name="TxtDBAMDate" value="@DateTime.Now.ToString("yyyy/MM/dd")" />
                            <input type="text" id="TxtDBAMTime" name="TxtDBAMTime" value="@DateTime.Now.ToString("HH:mm")" />
                            @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "TxtDBAMDate", "TxtDBAMTime", true)
                        </td>
                    </tr>
                    <tr id ="coma" must="Y" subtitle="Coma Scale E">
                        <th id="Allcoma" class="head" rowspan="10">意識狀況</th>
                        <th class="head" rowspan="3" style="width:18%">Coma Scale</th>
                        <td colspan="2">
                            <a href="#" class="tooltip" title="EYES Open &#10;&#10; 4分:Spontaneous &#10; 3分:tospeech &#10; 2分:topain &#10; 1分:none &#10; c:無法睜眼">
                                <img src="~/Images/med_dictionary.png" class="medbook" border="0" />
                                <label>E：</label>
                            </a>
                            <label><input type="radio" name="RbnAwarenessComa_E" value="4" />4</label>
                            <label><input type="radio" name="RbnAwarenessComa_E" value="3" />3</label>
                            <label><input type="radio" name="RbnAwarenessComa_E" value="2" />2</label>
                            <label><input type="radio" name="RbnAwarenessComa_E" value="1" />1</label>
                            <label><input type="radio" name="RbnAwarenessComa_E" value="C" />C</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Coma Scale V">
                        <td colspan="2">
                            <a href="#" class="tooltip" title="Best Verbal Response &#10;&#10; 5分:Alert &#10; 4分:Confused &#10; 3分:Drowsy &#10; 2分:Groans &#10; 1分:None &#10; T:Trachea &#10; A:Aphasia &#10; E:Endo">
                                <img src="~/Images/med_dictionary.png" class="medbook" border="0" />
                                <label>V：</label>
                            </a>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="5" />5</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="4" />4</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="3" />3</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="2" />2</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="1" />1</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="T" />T</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="A" />A</label>
                            <label><input type="radio" name="RbnAwarenessComa_V" value="E" />E</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Coma Scale M">
                        <td colspan="2">
                            <a href="#" class="tooltip" title="Best Motor Response &#10;&#10; 6分:Obeys &#10; 5分:Localized pain &#10; 4分:Withdrawal &#10; 3分:Ab, flexion &#10; 2分:Extension &#10; 1分:None">
                                <img src="~/Images/med_dictionary.png" class="medbook" border="0" />
                                <label>M：</label>
                            </a>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="6" />6</label>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="5" />5</label>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="4" />4</label>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="3" />3</label>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="2" />2</label>
                            <label><input type="radio" name="RbnAwarenessComa_M" value="1" />1</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Pupil size Right">
                        <th id="Pupil" rowspan="2" class="head">Pupil size</th>
                        <th class="head" style="width:12%;">R</th>
                        <td>
                            <div>
                                <label>反射：</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="-" onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', false);" />-</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="+" onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', false);" />+</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="±" onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', false);" />±</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="無法睜眼" onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', false);" />無法睜眼</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="無法評估" onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', false);" />無法評估</label>
                                <label><input type="radio" name="RbnPupilItemRef_R" value="其他"   onclick="CtrlActionFunc(this, '#DivPupilItemSize_R', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_R_Other', true);" />其他</label>
                                 <span style="display:none;" id="SpanRbnPupilItemRef_R_Other">
                                    <input type="text" maxlength="10" name="Txt_RbnPupilItemRef_R_Other" style="width:120px;" />
                                </span>
                            </div>
                            <div id="DivPupilItemSize_R" class="CLSpanFixedWidth3" style="display:none;">
                                <hr />
                                <label>大小(mm)：</label>
                                <div>
                                    @foreach(string item in "1|1.5|2|2.5|3|3.5|4|4.5|5|5.5|6|6.5|7|7.5|8|8.5".Split('|'))
                                    {
                                    <span><label><input type="radio" name="RbnPupilItemSize_R" value="@item" />@item</label></span>
                                    }
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Pupil size Left">
                        <th class="head">L</th>
                        <td>
                            <div>
                                <label>反射：</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="-" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', false);" />-</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="+" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', false);" />+</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="±" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', true); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', false);" />±</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="無法睜眼" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', false);" />無法睜眼</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="無法評估" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', false);" />無法評估</label>
                                <label><input type="radio" name="RbnPupilItemRef_L" value="其他" onclick="CtrlActionFunc(this, '#DivPupilItemSize_L', false); CtrlActionFunc(this, '#SpanRbnPupilItemRef_L_Other', true);" />其他</label>
                                <span style="display:none;" id="SpanRbnPupilItemRef_L_Other">
                                    <input type="text" maxlength="10"  name="Txt_RbnPupilItemRef_L_Other" style="width:120px;" />
                                </span>
                            </div>
                            <div id="DivPupilItemSize_L" class="CLSpanFixedWidth3" style="display:none;">
                                <hr />
                                <label>大小(mm)：</label>
                                <div>
                                    @foreach(string item in "1|1.5|2|2.5|3|3.5|4|4.5|5|5.5|6|6.5|7|7.5|8|8.5".Split('|'))
                                    {
                                    <span><label><input type="radio" name="RbnPupilItemSize_L" value="@item" />@item</label></span>
                                    }
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Muscle Power 右上肢">
                        <th id="Muscle" rowspan="4" class="head">Muscle Power</th>
                        <th class="head">右上肢</th>
                        <td class="CLSpanFixedWidth3">
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="0" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />0</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="1" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />1</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="2" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />2</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="3" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />3</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="4" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />4</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="5" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />5</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="骨折" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />骨折</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRU" value="截肢" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', false);" />截肢</label></span>
                            <label><input type="radio" name="RbnAwarenessMuscleRU" value="其他原因致無法測量" onclick="CtrlActionFunc(this, '#AwarenessMuscleRU', true);" />其他原因致無法測量</label>
                            <span style="display:none;" id="AwarenessMuscleRU">
                                <input type="text" name="Txt_AwarenessMuscleRU_Other" style="width:120px;" />
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Muscle Power 左上肢">
                        <th class="head">左上肢</th>
                        <td class="CLSpanFixedWidth3">
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="0" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />0</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="1" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />1</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="2" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />2</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="3" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />3</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="4" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />4</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="5" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />5</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="骨折" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />骨折</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLU" value="截肢" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', false);" />截肢</label></span>
                            <label><input type="radio" name="RbnAwarenessMuscleLU" value="其他原因致無法測量" onclick="CtrlActionFunc(this, '#AwarenessMuscleLU', true);" />其他原因致無法測量</label>
                            <span style="display:none;" id="AwarenessMuscleLU">
                                <input type="text" name="Txt_AwarenessMuscleLU_Other" style="width:120px;" />
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Muscle Power 右下肢">
                        <th class="head">右下肢</th>
                        <td class="CLSpanFixedWidth3">
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="0" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />0</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="1" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />1</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="2" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />2</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="3" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />3</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="4" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />4</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="5" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />5</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="骨折" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />骨折</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleRD" value="截肢" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', false);" />截肢</label></span>
                            <label><input type="radio" name="RbnAwarenessMuscleRD" value="其他原因致無法測量" onclick="CtrlActionFunc(this, '#AwarenessMuscleRD', true);" />其他原因致無法測量</label>
                            <span style="display:none;" id="AwarenessMuscleRD">
                                <input type="text" name="Txt_AwarenessMuscleRD_Other" style="width:120px;" />
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Muscle Power 左下肢">
                        <th class="head">左下肢</th>
                        <td class="CLSpanFixedWidth3">
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="0" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />0</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="1" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />1</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="2" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />2</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="3" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />3</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="4" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />4</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="5" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />5</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="骨折" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />骨折</label></span>
                            <span><label><input type="radio" name="RbnAwarenessMuscleLD" value="截肢" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', false);" />截肢</label></span>
                            <label><input type="radio" name="RbnAwarenessMuscleLD" value="其他原因致無法測量" onclick="CtrlActionFunc(this, '#AwarenessMuscleLD', true);" />其他原因致無法測量</label>
                            <span style="display:none;" id="AwarenessMuscleLD">
                                <input type="text" name="Txt_AwarenessMuscleLD_Other" style="width:120px;" />
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="RASS鎮靜程度評估">
                        <th id="RASS" class="head">RASS鎮靜程度評估</th>
                        <td colspan="3">
                            <label><input type="radio" name="RbnAwarenessRASS" value="不需要" onclick="CtrlActionFunc(this, '#DivAwarenessRASSTxt', false);" />不需要</label>
                            <label><input type="radio" name="RbnAwarenessRASS" value="需要" onclick="CtrlActionFunc(this, '#DivAwarenessRASSTxt', true);" />需要</label>
                            <div id="DivAwarenessRASSTxt" class="CLSpanFixedWidth4" style="display:none;">
                                <hr />
                                @foreach (string item in "4分，有攻擊性|3分，非常躁動|2分，躁動焦慮|1分，不安焦慮|0分，清醒平靜|-1分，昏昏欲睡|-2分，輕度鎮靜|-3分，中度鎮靜|-4分，重度鎮靜|-5分，昏迷".Split('|'))
                                {
                                <span><label><input type="radio" name="RbnAwarenessRASSScore" value="@item" />@item</label></span>
                                }
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="神經系統">
                        <th id="neuropathy" class="head">神經系統</th>
                        <td colspan="3">
                            <label><input type="radio" name="RbnNervousSys" value="正常" onclick="CtrlActionFunc(this, '#DivNervousAbnormalItem', false);" />正常</label>
                            <label><input type="radio" name="RbnNervousSys" value="異常" onclick="CtrlActionFunc(this, '#DivNervousAbnormalItem', true);" />異常</label>
                            <div style="display:none;" id="DivNervousAbnormalItem">
                                <hr />
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="昏暈感" />昏暈感</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="眩暈" />眩暈</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="頸部僵硬" />頸部僵硬</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="痛" onclick="CtrlActionFunc(this, '#TrNervousAbnormal_3Position');" />痛</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="麻" onclick="CtrlActionFunc(this, '#TrNervousAbnormal_4Position');" />麻</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="無知覺" onclick="CtrlActionFunc(this, '#TrNervousAbnormal_5Position');" />無知覺</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="抽搐" onclick="CtrlActionFunc(this, '#TrNervousAbnormal_6Position');" />抽搐</label>
                                <label><input type="checkbox" name="ChkNervousAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanNervousAbnormal99Other');" />其他</label>
                                <span style="display:none" id="spanNervousAbnormal99Other">
                                    <input type="text" name="TxtNervousAbnormal99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="TrNervousAbnormal_3Position" style="display:none" class="PositionAllClose" must="Y" subtitle="神經系統 - 疼痛部位">
                        <th class="head">疼痛部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.NervousPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkNervous3Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkNervous3Position" value="@item" onclick="CtrlActionFunc(this, '#Nervous3Position');" />@item</label></span>
                            <span style="display:none;" id="Nervous3Position">
                                <input type="text" name="Txt_Nervous3Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr id="TrNervousAbnormal_4Position" style="display:none" class="PositionAllClose" must="Y" subtitle="神經系統 - 麻部位">
                        <th class="head">麻部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.NervousPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkNervous4Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkNervous4Position" value="@item" onclick="CtrlActionFunc(this, '#Nervous4Position');" />@item</label></span>
                            <span style="display:none;" id="Nervous4Position">
                                <input type="text" name="Txt_Nervous4Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr id="TrNervousAbnormal_5Position" style="display:none" class="PositionAllClose" must="Y" subtitle="神經系統 - 無知覺部位">
                        <th class="head">無知覺部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.NervousPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkNervous5Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkNervous5Position" value="@item" onclick="CtrlActionFunc(this, '#Nervous5Position');" />@item</label></span>
                            <span style="display:none;" id="Nervous5Position">
                                <input type="text" name="Txt_Nervous5Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr id="TrNervousAbnormal_6Position" style="display:none" class="PositionAllClose" must="Y" subtitle="神經系統 - 抽搐部位">
                        <th class="head">抽搐部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.NervousPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkNervous6Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkNervous6Position" value="@item" onclick="CtrlActionFunc(this, '#Nervous6Position');" />@item</label></span>
                            <span style="display:none;" id="Nervous6Position">
                                <input type="text" name="Txt_Nervous6Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="感官知覺 視力">
                        <th id="sense" class="head" rowspan="6">感官知覺</th>
                        <th id="sense" class="head">視力</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnVision" value="正常" onclick="CtrlActionFunc(this, '#DivVisionAbnormalItem', false);" />正常</label>
                            <label><input type="radio" name="RbnVision" value="異常" onclick="CtrlActionFunc(this, '#DivVisionAbnormalItem', true);" />異常</label>
                            <label><input type="radio" name="RbnVision" value="無法評估" onclick="CtrlActionFunc(this, '#DivVisionAbnormalItem', false);" />無法評估</label>
                            <div style="display:none;" id="DivVisionAbnormalItem">
                                <hr />
                                <label><input type="checkbox" name="ChkVisionAbnormal" value="失明" onclick="CtrlActionFunc(this, '#spanBlindness');" />失明</label>
                                <span style="display:none" id="spanBlindness">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkBlindness" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkBlindness" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" name="ChkVisionAbnormal" value="偏盲" onclick="CtrlActionFunc(this, '#spanHemianopia');" />偏盲</label>
                                <span style="display:none" id="spanHemianopia">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkHemianopia" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkHemianopia" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" name="ChkVisionAbnormal" value="複視" onclick="CtrlActionFunc(this, '#spanDiplopia');" />複視</label>
                                <span style="display:none" id="spanDiplopia">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkDiplopia" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkDiplopia" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                 <label><input type="checkbox" name="ChkVisionAbnormal" value="視力模糊" />視力模糊</label>
                                <label><input type="checkbox" name="ChkVisionAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanVisionAbnormal99Other');" />其他</label>
                                <span style="display:none" id="spanVisionAbnormal99Other">
                                    <input type="text" name="TxtVisionAbnormal99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="感官知覺 輔助物">
                        <th id="sense" class="head">輔助物</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnAuxiliary" value="無" onclick="CtrlActionFunc(this, '#DivAuxiliaryAbnormalItem', false);" />無</label>
                            <label><input type="radio" name="RbnAuxiliary" value="有" onclick="CtrlActionFunc(this, '#DivAuxiliaryAbnormalItem', true);" />有</label>
                            <div style="display:none;" id="DivAuxiliaryAbnormalItem">
                                <hr />
                                <label><input type="checkbox" id="ChkAuxiliaryAbnormal_1" name="ChkAuxiliaryAbnormal" value="眼鏡" />眼鏡</label>
                                <label><input type="checkbox" id="ChkAuxiliaryAbnormal_2" name="ChkAuxiliaryAbnormal" value="義眼" onclick="CtrlActionFunc(this, '#spanArtificialEyes');" />義眼</label>
                                <span style="display:none" id="spanArtificialEyes">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkArtificialEyes" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkArtificialEyes" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" id="ChkAuxiliaryAbnormal_99" name="ChkAuxiliaryAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanAuxiliaryAbnormal99Other');" />其他</label>
                                <span style="display:none" id="spanAuxiliaryAbnormal99Other">
                                    <input type="text" name="TxtAuxiliaryAbnormal99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="感官知覺 聽力">
                        <th id="sense" class="head" rowspan="2">聽力</th>
                        <td id="sense" colspan="2">
                            <label><input type="radio" name="RbnHearing" value="正常" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', false);" />正常</label>
                            <label><input type="radio" name="RbnHearing" value="障礙" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', true);" />障礙</label>
                            <label><input type="radio" name="RbnHearing" value="無法評估" onclick="CtrlActionFunc(this, '#DivHearingAbnormalItem', false);" />無法評估</label>
                            <div style="display:none;" id="DivHearingAbnormalItem">
                                <hr />
                                <label><input type="checkbox" name="ChkHearingAbnormal" value="重聽" onclick="CtrlActionFunc(this, '#spanHardHearing');" />重聽</label>
                                <span style="display:none;" id="spanHardHearing">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkHardHearing" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkHardHearing" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" name="ChkHearingAbnormal" value="失聰" onclick="CtrlActionFunc(this, '#spanDeaf');" />失聰</label>
                                <span style="display:none;" id="spanDeaf">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkDeaf" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkDeaf" value="左" />左</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" name="ChkHearingAbnormal" value="耳鳴" onclick="CtrlActionFunc(this, '#spanTinnitus');" />耳鳴</label>
                                <span style="display:none;" id="spanTinnitus">
                                    <label>：</label>
                                    <label><input type="checkbox" name="ChkTinnitus" value="右" />右</label>
                                    <label><input type="checkbox" name="ChkTinnitus" value="左" />左</label>
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="是否使用助聽器">
                        <th id="sense" class="head">是否使用助聽器</th>
                        <td>
                            <label><input type="radio" name="RbnIsHearingAid" value="有" onclick="CtrlActionFunc(this, '#DivHearingAidY', true);" />是</label>
                            <label><input type="radio" name="RbnIsHearingAid" value="無" onclick="CtrlActionFunc(this, '#DivHearingAidY', false);" />否</label>
                            <div style="display:none;" id="DivHearingAidY">
                                <hr />
                                <label><input type="checkbox" name="ChkHearingAid" value="右" />右</label>
                                <label><input type="checkbox" name="ChkHearingAid" value="左" />左</label>
                            </div>
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="感官知覺 嗅覺">
                        <th id="sense" class="head">嗅覺</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnNose" value="正常" />正常</label>
                            <label><input type="radio" name="RbnNose" value="喪失" />喪失</label>
                            <label><input type="radio" name="RbnNose" value="無法評估" />無法評估</label>
                        </td>
                    </tr>
                    <tr id="sense" must="Y" subtitle="感官知覺 味覺">
                        <th id="sense" class="head">味覺</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnTaste" value="正常" />正常</label>
                            <label><input type="radio" name="RbnTaste" value="喪失" />喪失</label>
                            <label><input type="radio" name="RbnTaste" value="無法評估" />無法評估</label>
                        </td>
                    </tr>
                    <tr id="circulation" must="Y" subtitle="循環 脈搏">
                        <th class="head" rowspan="5">循環</th>
                        <th class="head">脈搏</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnPulse" value="規律" />規律</label>
                            <label><input type="radio" name="RbnPulse" value="不規律" />不規律</label>
                        </td>
                    </tr>
                    <tr id="circulation" must="Y" subtitle="循環 末梢">
                        <th class="head">末梢</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnTip" value="正常" onclick="CtrlActionFunc(this, '#DivTipAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnTip" value="異常" onclick="CtrlActionFunc(this, '#DivTipAbnormal', true);" />異常</label>
                            <div id="DivTipAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" name="ChkTipAbnormal" value="水腫" />水腫</label>
                                <label><input type="checkbox" name="ChkTipAbnormal" value="冰冷" />冰冷</label>
                                <label><input type="checkbox" name="ChkTipAbnormal" value="蒼白" />蒼白</label>
                                <label><input type="checkbox" name="ChkTipAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanTipAbnormal99Other');" />其他</label>
                                <span style="display:none;" id="spanTipAbnormal99Other">
                                    <input type="text" name="TxtTipAbnormal99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="使用Dulplex">
                        <th class="head">使用Dulplex</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnDulplex" value="是" />是</label>
                            <label><input type="radio" name="RbnDulplex" value="否" />否</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="脈搏強度 足背動脈">
                        <th class="head" rowspan="2">脈搏強度</th>
                        <th class="head">足背動脈</th>
                        <td>
                            <div>
                                <label>左：</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="-" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', false);" />-</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="1+" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', false);" />1+</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="2+" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', false);" />2+</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="3+" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', false);" />3+</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="4+" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', false);" />4+</label>
                                <label><input type="radio" name="RbnDorsalPulseL" value="無法評估" onclick="CtrlActionFunc(this, '#spanDorsalPulseLOther', true);" />無法評估</label>
                                <span style="display:none" id="spanDorsalPulseLOther">
                                    <input type="text" name="TxtDorsalPulseLOther" style="width:120px;" />
                                </span>
                            </div>
                            <div>
                                右：
                                <label><input type="radio" name="RbnDorsalPulseR" value="-" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', false);" />-</label>
                                <label><input type="radio" name="RbnDorsalPulseR" value="1+" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', false);" />1+</label>
                                <label><input type="radio" name="RbnDorsalPulseR" value="2+" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', false);" />2+</label>
                                <label><input type="radio" name="RbnDorsalPulseR" value="3+" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', false);" />3+</label>
                                <label><input type="radio" name="RbnDorsalPulseR" value="4+" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', false);" />4+</label>
                                <label><input type="radio" name="RbnDorsalPulseR" value="無法評估" onclick="CtrlActionFunc(this, '#spanDorsalPulseROther', true);" />無法評估</label>
                                <span style="display:none" id="spanDorsalPulseROther">
                                    <input type="text" name="TxtDorsalPulseROther" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="脈搏強度 橈動脈">
                        <th class="head">橈動脈</th>
                        <td>
                            <div>
                                左：
                                <label><input type="radio" name="RbnRadialPulseL" value="1+" onclick="CtrlActionFunc(this, '#spanRadialPulseLOther', false);" />1+</label>
                                <label><input type="radio" name="RbnRadialPulseL" value="2+" onclick="CtrlActionFunc(this, '#spanRadialPulseLOther', false);" />2+</label>
                                <label><input type="radio" name="RbnRadialPulseL" value="3+" onclick="CtrlActionFunc(this, '#spanRadialPulseLOther', false);" />3+</label>
                                <label><input type="radio" name="RbnRadialPulseL" value="4+" onclick="CtrlActionFunc(this, '#spanRadialPulseLOther', false);" />4+</label>
                                <label><input type="radio" name="RbnRadialPulseL" value="無法評估" onclick="CtrlActionFunc(this, '#spanRadialPulseLOther', true);" />無法評估</label>
                                <span style="display:none" id="spanRadialPulseLOther">
                                    <input type="text" name="TxtRadialPulseLOther" style="width:120px;" />
                                </span>
                            </div>
                            <div>
                                右：
                                <label><input type="radio" name="RbnRadialPulseR" value="1+" onclick="CtrlActionFunc(this, '#spanRadialPulseROther', false);" />1+</label>
                                <label><input type="radio" name="RbnRadialPulseR" value="2+" onclick="CtrlActionFunc(this, '#spanRadialPulseROther', false);" />2+</label>
                                <label><input type="radio" name="RbnRadialPulseR" value="3+" onclick="CtrlActionFunc(this, '#spanRadialPulseROther', false);" />3+</label>
                                <label><input type="radio" name="RbnRadialPulseR" value="4+" onclick="CtrlActionFunc(this, '#spanRadialPulseROther', false);" />4+</label>
                                <label><input type="radio" name="RbnRadialPulseR" value="無法評估" onclick="CtrlActionFunc(this, '#spanRadialPulseROther', true);" />無法評估</label>
                                <span style="display:none" id="spanRadialPulseROther">
                                    <input type="text" name="TxtRadialPulseROther" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="呼吸系統 呼吸型態" id="respiratory">
                        <th class=" head" rowspan="6">呼吸系統</th>
                        <th class=" head" rowspan="2" title="@title">呼吸型態<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnBreathing" value="正常" onclick="CtrlActionFunc(this, '#DivBreathingAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnBreathing" value="異常" onclick="CtrlActionFunc(this, '#DivBreathingAbnormal', true);" />異常</label>
                            <div id="DivBreathingAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="深" />深</label>
                                <!-- 原恩主公給的資料為「表淺急促」，value為配合入院，將其改為表淺 by wawa 2016/6/30 ///經過20161024後恩主公給的資料已將表淺急促都改成表淺了 by jarvis-->
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="表淺" />表淺</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="快速" />快速</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="慢" />慢</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="鼻翼煽動" />鼻翼煽動</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="胸骨或肋緣凹陷" />胸骨或肋緣凹陷</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="端坐呼吸" />端坐呼吸</label>
                                <label><input type="checkbox" tag="RbnBreathing" name="ChkBreathingAbnormal" value="其他" onclick="CtrlActionFunc(this, '#spanBreathingAbnormal99Other');" />其他</label>
                                <span style="display:none" id="spanBreathingAbnormal99Other">
                                    <input type="text" name="TxtBreathingAbnormal99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="呼吸系統 醫療輔助器">
                        <th class="head" title="@title">人工氣道</th>
                        <td>
                            <label><input type="radio" name="RbnIsMedicalDevices" value="無" onclick="CtrlActionFunc(this, '#DivMedicalDevicesY', false);" />無</label>
                            <label><input type="radio" name="RbnIsMedicalDevices" value="有" onclick="CtrlActionFunc(this, '#DivMedicalDevicesY', true);" />有</label>
                            <div style="display:none;" id="DivMedicalDevicesY">
                                <hr />
                                <label><input type="radio" tag="RbnIsMedicalDevices" name="RbnMedicalDevices" value="氣管內管" onclick="CtrlActionFunc(this, '#DivMedicalDevicesTxt1', true); CtrlActionFunc(this, '#DivMedicalDevicesTxt2', false);" />氣管內管</label>
                                <span style="display:none" id="DivMedicalDevicesTxt1">
                                    <label>：</label>
                                    <input type="text" name="TxtMedicalDevices1_1" style="width:90px;" />
                                    <label>fr. fix</label>
                                    <input type="text" name="TxtMedicalDevices1_2" style="width:90px;" />
                                    <label>cm</label>
                                </span>
                                <label><input type="radio" tag="RbnIsMedicalDevices" name="RbnMedicalDevices" value="氣切" onclick="CtrlActionFunc(this, '#DivMedicalDevicesTxt2', true); CtrlActionFunc(this, '#DivMedicalDevicesTxt1', false);" />氣切</label>
                                <span style="display:none" id="DivMedicalDevicesTxt2">
                                    <label>：</label>
                                    <input type="text" name="TxtMedicalDevices2_1" style="width:90px;" />
                                    <label>fr.</label>
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="呼吸系統 氧氣治療">
                        <th class="head" title="@title">氧氣治療<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnOxygen" value="無" onclick="CtrlActionFunc(this, '#DivOxygenY', false);" />無</label>
                            <label><input type="radio" name="RbnOxygen" value="有" onclick="CtrlActionFunc(this, '#DivOxygenY', true);" />有</label>
                            <div id="DivOxygenY" style="display:none;">
                                <hr />
                                <div id="spanFaceMaskNot5Txt" style="display:none;">
                                <label>氧氣濃度：</label>
                                    <input type="text" name="TxtO2Concentration" style="width:120px;" /> L/min 
                                    <span id="spanFaceMask3Txt" style="display:none;">
                                        <label id="spanFaceMask3Txt">，FiO2</label>
                                        <input type="text" name="TxtFaceMask3_1" style="width:120px;" />
                                        <label>%</label>
                                    </span><br />
                                </div>
                              
                                @*<label>面罩種類：</label>*@ @*移除面罩種類字眼 Ryan 20240125*@
                                <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Nasal Cannula" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Nasal Cannula</label>
                                <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Simple mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Simple mask</label>
                                <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Aerosol mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Aerosol mask</label>
                                <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventri mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', true); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Ventri mask</label>
                                </br><label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Non-rebreathing mask" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', false); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', true);" />Non-rebreathing mask</label>
                                <label><input type="radio" tag="RbnOxygen" name="RbnFaceMask" value="Ventilator" onclick="CtrlActionFunc(this, '#spanFaceMask5Txt', true); CtrlActionFunc(this, '#spanFaceMask3Txt', false); CtrlActionFunc(this, '#spanFaceMaskNot5Txt', false);" />Ventilator</label>


                                <div id="spanFaceMask5Txt" must="Y" style="display:none;">
                                    <label><input type="radio" tag="RbnFaceMask_kind" name="RbnFaceMask_kind" value="侵入性呼吸器"   onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);  " />侵入性呼吸器</label>
                                    <label><input type="radio"  name="RbnFaceMask_kind" value="非侵入性呼吸器" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);   " />非侵入性呼吸器</label>
                                    <span id="spanFaceMask2Invation" must="Y" style="display:none;">
                                        <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="BiPAP" onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); " />BiPAP</label>
                                        <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="CPAP"  onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false);" />CPAP</label>
                                        <label><input type="radio" tag="RbnNotInvasion" name="RbnFaceMask_Ventilator" value="其他"  onclick="CtrlActionFunc(this, '#spanFaceMask2Invation', true); CtrlActionFunc(this, '#RbnNotInvasion_Other', false); CtrlActionFunc(this, '#RbnNotInvasion_Other', true);" />其他</label>
                                        <span style="display:none;"  must="Y" id="RbnNotInvasion_Other">
                                            <input type="text" tag="RbnNotInvasion" name="RbnNotInvasion_Other" style="width:120px;" />
                                        </span>
                                    </span><br />
                                    <div>
                                        <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_1" style="width:80px;" /><label>mode</label>
                                        <label>，TV</label>
                                        <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_2" style="width:80px;" />
                                        <label>ml</label>
                                   
                                        <label>，FiO2</label>
                                        <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_3" style="width:80px;" />
                                        <label>%</label>
                                    </div>
                                    <div>
                                        <label>，PEEP</label>
                                        <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_4" style="width:80px;" />
                                        <label>cmH2O，</label>
                                        <label>Rate</label>
                                        <input type="text" tag="RbnFaceMask_kind" name="TxtFaceMask5_5" style="width:40px;" />
                                        <label>次/分</label>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="呼吸系統 呼吸音 右側">
                        <th class="head" rowspan="2" title="@title">呼吸音<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <th class="head">右</th>
                        <td>
                            <label><input type="radio" name="RbnBrthSndsR" value="正常" onclick="CtrlActionFunc(this, '#DivBreathSoundsRAbnor', false);" />正常</label>
                            <label><input type="radio" name="RbnBrthSndsR" value="異常" onclick="CtrlActionFunc(this, '#DivBreathSoundsRAbnor', true);" />異常</label>
                            <div style="display:none;" id="DivBreathSoundsRAbnor">
                                <hr />
                                <label><input type="checkbox" tag="RbnBrthSndsR"  name="ChkBrthSndsRAbnor" value="囉音(Rales)" />囉音(Rales)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsR" name="ChkBrthSndsRAbnor" value="喘鳴音(Wheezing)" />喘鳴音(Wheezing)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsR" name="ChkBrthSndsRAbnor" value="哮鳴(stridor)" />哮鳴(stridor)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsR" name="ChkBrthSndsRAbnor" value="呼吸音降低(Decrease of breathing sound)" />呼吸音降低(Decrease of breathing sound)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsR" name="ChkBrthSndsRAbnor" value="乾囉音/鼾音(Ronchi)" />乾囉音/鼾音(Ronchi)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsR" name="ChkBrthSndsRAbnor" value="其他" onclick="CtrlActionFunc(this, '#spanBrthSndsRAbnorOther');" />其他</label>
                                <span style="display:none" id="spanBrthSndsRAbnorOther">
                                    <input type="text" name="TxtBrthSndsRAbnorOther" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="呼吸系統 呼吸音 左側">
                        <th class="head">左</th>
                        <td>
                            <label><input type="radio" name="RbnBrthSndsL" value="正常" onclick="CtrlActionFunc(this, '#DivBreathSoundsLAbnor', false);" />正常</label>
                            <label><input type="radio" name="RbnBrthSndsL" value="異常" onclick="CtrlActionFunc(this, '#DivBreathSoundsLAbnor', true);" />異常</label>
                            <div style="display:none;" id="DivBreathSoundsLAbnor">
                                <hr />
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="囉音(Rales)" />囉音(Rales)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="喘鳴音(Wheezing)" />喘鳴音(Wheezing)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="哮鳴(stridor)" />哮鳴(stridor)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="呼吸音降低(Decrease of breathing sound)" />呼吸音降低(Decrease of breathing sound)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="乾囉音/鼾音(Ronchi)" />乾囉音/鼾音(Ronchi)</label>
                                <label><input type="checkbox" tag="RbnBrthSndsL" name="ChkBrthSndsLAbnor" value="其他" onclick="CtrlActionFunc(this, '#spanBrthSndsLAbnorOther');" />其他</label>
                                <span style="display:none" id="spanBrthSndsLAbnorOther">
                                    <input type="text" name="TxtBrthSndsLAbnorOther" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="痰液">
                        <th class="head" title="@title">痰液<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnSputum" value="無" onclick="CtrlActionFunc(this, '#DivSputum', false);" />無</label>
                            <label><input type="radio" name="RbnSputum" value="有" onclick="CtrlActionFunc(this, '#DivSputum', true);" />有</label>
                            <div id="DivSputum" style="display:none;">
                                <hr />
                                <label>痰液量：</label>
                                <label><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="少" />少</label>
                                <label><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="中" />中</label>
                                <label><input type="radio" tag="RbnSputum" name="RbnSputumCount" value="多" />多</label>
                                <br />
                                <label>顏色：</label>
                                @if (!string.IsNullOrWhiteSpace(ViewBag.DischargeColor))
                                {
                                    foreach (string item in ViewBag.DischargeColor.Split('|'))
                                    {
                                        if (item != "其他")
                                        {
                                            <label><input type="radio" tag="RbnSputumCount" name="RbnSputumColor" value="@item" onclick="CtrlActionFunc(this, '#spanSputumColor99Other', false);" />@item</label>
                                        }
                                        else
                                        {
                                            <label><input type="radio" tag="RbnSputumCount" name="RbnSputumColor" value="@item" onclick="CtrlActionFunc(this, '#spanSputumColor99Other', true);" />@item</label>
                                            <span style="display:none" id="spanSputumColor99Other">
                                                <input type="text" name="TxtSputumColor99Other" style="width:120px;" />
                                            </span>                                        }
                                    }
                                }
                                <br />
                                <label>性質：</label>
                                @if (!string.IsNullOrWhiteSpace(ViewBag.DischargeNature))
                                {
                                    foreach (string item in ViewBag.DischargeNature.Split('|'))
                                    {
                                        if (item != "其他")
                                        {
                                            <label><input type="radio" tag2="RbnSputumCount" name="RbnSputumNature" value="@item" onclick="CtrlActionFunc(this, '#spanSputumNature99Other', false);" />@item</label>
                                        }
                                        else
                                        {
                                            <label><input type="radio" tag2="RbnSputumCount" name="RbnSputumNature" value="@item" onclick="CtrlActionFunc(this, '#spanSputumNature99Other', true);" />@item</label>
                                                            <span style="display:none;" id="spanSputumNature99Other">
                                                                <input type="text" name="TxtSputumNature99Other" style="width:120px;" />
                                                            </span>
                                        }
                                    }
                                }
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="消化系統 進食方式" id="digestive">
                        <th class="head" rowspan="7">消化系統</th>
                        <th class="head" rowspan="3">飲食評估</th>
                        <th class="head" title="@title">進食方式<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td>
                            <label><input type="radio" name="RbnEatingPatterns" value="由口進食" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false);" />由口進食</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="NG Feeding" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '.DivEatingItem1', true);" />NG Feeding</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="OG tube" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '.DivEatingItem2', true);" />OG tube</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="Jujunostomy" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '.DivEatingItem2', true);" />Jujunostomy</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="ND tube" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '.DivEatingItem3', true);" />ND tube</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="PEG" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '.DivEatingItem3', true);" />PEG</label>
                            <label><input type="radio" name="RbnEatingPatterns" value="其他" onclick="CtrlActionFunc(this, '.DivEatingPatternsAllItem', false); CtrlActionFunc(this, '#spanEatingPatterns99Other', true);" />其他</label>
                            <span style="display:none" class="DivEatingPatternsAllItem" id="spanEatingPatterns99Other">
                                <input type="text" name="TxtEatingPatterns99Other" style="width:120px;" />
                            </span>
                            <div style="display:none;" class="DivEatingPatternsAllItem DivEatingItem1 DivEatingItem2 DivEatingItem3">
                                <hr />
                                <span class="DivEatingPatternsAllItem DivEatingItem1 DivEatingItem2">
                                    <input type="text" name="TxtEatPat2_1" style="width:90px;" />
                                    <label>fr. fix</label>
                                    <input type="text" name="TxtEatPat2_2" style="width:90px;" />
                                    <br />
                                </span>
                                <span class="DivEatingPatternsAllItem DivEatingItem1">
                                    <label>輔助物：</label>
                                    <label><input type="radio" name="RbnEatPat2Item" value="無" />無</label>
                                    <label><input type="radio" name="RbnEatPat2Item" value="灌食袋" />灌食袋</label>
                                    <label><input type="radio" name="RbnEatPat2Item" value="灌食幫浦" />灌食幫浦</label>
                                    <br />
                                </span>
                                <span class="DivEatingPatternsAllItem DivEatingItem1 DivEatingItem2 DivEatingItem3">
                                    <label>消化：</label>
                                    <input type="text" name="TxtEatPat2_3" style="width:90px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="消化系統 飲食種類" id="digestive">
                        <th class="head" title="@title">飲食種類<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td>
                                <input type="text" name="TxtDietType99Other" style="width:300px;" />                            
                        </td>
                    </tr>
                    <tr must="Y" subtitle="消化系統 食慾">
                        <th class="head">食慾</th>
                        <td>
                            <label><input type="radio" name="RbnAppetite" value="正常" onclick="CtrlActionFunc(this, '#DivAppetiteAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnAppetite" value="異常" onclick="CtrlActionFunc(this, '#DivAppetiteAbnormal', true);" />異常</label>
                            <label><input type="radio" name="RbnAppetite" value="無法評估" onclick="CtrlActionFunc(this, '#DivAppetiteAbnormal', false);" />無法評估</label>
                            <div id="DivAppetiteAbnormal" style="display:none;">
                                <hr />
                                <label><input type="radio" name="RbnAppetiteAbnormal" value="食慾異常" onclick="CtrlActionFunc(this, '#DivAppetiteElseAbnItem', false); CtrlActionFunc(this, '#DivAppetiteAbnItem', true);" />食慾異常</label>
                                <label><input type="radio" name="RbnAppetiteAbnormal" value="其他異常" onclick="CtrlActionFunc(this, '#DivAppetiteAbnItem', false); CtrlActionFunc(this, '#DivAppetiteElseAbnItem', true);" />其他異常</label>
                                <div style="display:none;" id="DivAppetiteAbnItem">
                                    <label><input type="radio" name="RbnAppetiteAbnItem" value="增加" />增加</label>
                                    <label><input type="radio" name="RbnAppetiteAbnItem" value="減少" />減少</label>
                                </div>
                                <div style="display:none;" id="DivAppetiteElseAbnItem">
                                    <label><input type="checkbox" name="ChkAppetiteAbnElse" value="噁心" />噁心</label>
                                    <label><input type="checkbox" name="ChkAppetiteAbnElse" value="嘔吐" />嘔吐</label>
                                    <label><input type="checkbox" name="ChkAppetiteAbnElse" value="胃不適" />胃不適</label>
                                    <label><input type="checkbox" name="ChkAppetiteAbnElse" value="其他" onclick="CtrlActionFunc(this, '#spanAppetiteAbnElse99Other');" />其他</label>
                                    <span style="display:none" id="spanAppetiteAbnElse99Other">
                                        <input type="text" name="TxtAppetiteAbnElse99Other" style="width:120px;" />
                                    </span>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="腹部評估 觸診">
                        <th class="head" rowspan="3">腹部評估<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <th class="head" title="@title">觸診</th>
                        <td>
                            <label><input type="radio" name="RbnPalpation" value="柔軟" onclick="CtrlActionFunc(this, '#DivPalpationAbnormal', false);" />柔軟</label>
                            <label><input type="radio" name="RbnPalpation" value="異常" onclick="CtrlActionFunc(this, '#DivPalpationAbnormal', true);" />異常</label>
                            <div id="DivPalpationAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" tag="RbnPalpation" name="ChkPalpationAbn" value="腹脹" />腹脹</label>
                                <label><input type="checkbox" tag="RbnPalpation" name="ChkPalpationAbn" value="壓痛" />壓痛</label>
                                <label><input type="checkbox" tag="RbnPalpation" name="ChkPalpationAbn" value="其他" onclick="CtrlActionFunc(this, '#spanPalpationAbnElse99Other');" />其他</label>
                                <span style="display:none" id="spanPalpationAbnElse99Other">
                                    <input type="text" name="TxtPalpationAbnElse99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="腹部評估 腸蠕動">
                        <th class="head" title="@title">腸蠕動</th>
                        <td>
                            <input type="text" id="TxtPeristalsis" name="TxtPeristalsis" style="width:120px;" />
                            <label>次/分</label>
                            <label><input type="checkbox" name="ChkPeristalsisNoAssess" value="無評估需求" onclick="if ($(this).prop('checked')) { $('#TxtPeristalsis').val('').prop('disabled', true); } else { $('#TxtPeristalsis').prop('disabled', false); }" />無評估需求</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="腹部評估 腸音">
                        <th class="head" title="@title">腸音</th>
                        <td>
                            <label><input type="radio" name="RbnBowelSounds" value="active" />active</label>
                            <label><input type="radio" name="RbnBowelSounds" value="poor" />poor</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="Decompression">
                        <th class="head" title="@title">Decompression<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnDecompression" value="無" onclick="CtrlActionFunc(this, '#DivDecompressionY', false);" />無</label>
                            <label><input type="radio" name="RbnDecompression" value="有" onclick="CtrlActionFunc(this, '#DivDecompressionY', true);" />有</label>
                            <div id="DivDecompressionY" style="display:none;">
                                <hr />
                                <div>
                                    <label>量：</label>
                                    <label><input type="radio" tag="RbnDecompression" name="RbnDecCount" value="多" />多</label>
                                    <label><input type="radio" tag="RbnDecompression" name="RbnDecCount" value="中" />中</label>
                                    <label><input type="radio" tag="RbnDecompression" name="RbnDecCount" value="少" />少</label>
                                </div>
                                <div>
                                    <label>顏色：</label>
                                    <label><input type="radio" tag="RbnDecCount" name="RbnDecColor" value="暗紅色" onclick="CtrlActionFunc(this, '#spanDecColor99Other', false);" />暗紅色</label>
                                    <label><input type="radio" tag="RbnDecCount"  name="RbnDecColor" value="鮮紅色" onclick="CtrlActionFunc(this, '#spanDecColor99Other', false);" />鮮紅色</label>
                                    <label><input type="radio" tag="RbnDecCount"  name="RbnDecColor" value="褐色" onclick="CtrlActionFunc(this, '#spanDecColor99Other', false);" />褐色</label>
                                    <label><input type="radio" tag="RbnDecCount"  name="RbnDecColor" value="透明" onclick="CtrlActionFunc(this, '#spanDecColor99Other', false);" />透明</label>
                                    @*<label><input type="radio" name="RbnDecColor" value="粉紅" onclick="CtrlActionFunc(this, '#spanDecColor99Other', false);" />粉紅</label>*@
                                    <label><input type="radio" tag="RbnDecCount"  name="RbnDecColor" value="其他" onclick="CtrlActionFunc(this, '#spanDecColor99Other', true);" />其他</label>
                                    <span style="display:none" id="spanDecColor99Other">
                                        <input type="text" name="TxtDecColor99Other" style="width:120px;" />
                                    </span>
                                </div>
                                <div>
                                    <label>性質：</label>
                                    <label><input type="radio" tag2="RbnDecCount"  name="RbnDecNature" value="稀" onclick="CtrlActionFunc(this, '#spanDecNature99Other', false);" />稀</label>
                                    <label><input type="radio" tag2="RbnDecCount"  name="RbnDecNature" value="泡沫" onclick="CtrlActionFunc(this, '#spanDecNature99Other', false);" />泡沫</label>
                                    <label><input type="radio" tag2="RbnDecCount"  name="RbnDecNature" value="黏稠" onclick="CtrlActionFunc(this, '#spanDecNature99Other', false);" />黏稠</label>
                                    <label><input type="radio" tag2="RbnDecCount"  name="RbnDecNature" value="其他" onclick="CtrlActionFunc(this, '#spanDecNature99Other', true);" />其他</label>
                                    <span style="display:none" id="spanDecNature99Other">
                                        <input type="text" name="TxtDecNature99Other" style="width:120px;" />
                                    </span>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="排泄 排尿" id="urinate">
                        <th class="head" rowspan="6">排泄</th>
                        <th class="head" rowspan="5" title="@title">排尿<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnUrination" value="正常" onclick="CtrlActionFunc(this, '#DivUrinationAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnUrination" value="異常" onclick="CtrlActionFunc(this, '#DivUrinationAbnormal', true);" />異常</label>
                            <label><input type="radio" name="RbnUrination" value="無尿" onclick="CtrlActionFunc(this, '#DivUrinationAbnormal', false);" />無尿</label>
                            <div id="DivUrinationAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="失禁" />失禁</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="頻尿" />頻尿</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="血尿" />血尿</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="排尿困難" />排尿困難</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="灼熱感" />灼熱感</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="排尿疼痛" />排尿疼痛</label>
                                <label><input type="checkbox" tag="RbnUrination" name="ChkUrinationAbn" value="其他" onclick="CtrlActionFunc(this, '#spanUrinationAbn99Other');" />其他</label>
                                <span style="display:none" id="spanUrinationAbn99Other">
                                    <input type="text" name="TxtUrinationAbn99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="排尿方式">
                        <th class="head">排尿方式</th>
                        @*<td>
                            <label><input type="radio" name="RbnVoidingPattern" value="自解" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />自解</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="單次導尿" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />單次導尿</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="導尿管留置" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />導尿管留置</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="膀胱造廔" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />膀胱造廔</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="尿套" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />尿套</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="尿布" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', false);" />尿布</label>
                            <label><input type="radio" name="RbnVoidingPattern" value="其他" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other', true);" />其他</label>
                            <span style="display:none" id="spanVoidingPattern99Other">
                                <input type="text" name="TxtVoidingPattern99Other" style="width:120px;" />
                            </span>     /*--- 院方說要改成checkbox複選型態//20161112 by jarvis--*/
                        </td>*@
                        <td>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="自解"  />自解</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="單次導尿"  />單次導尿</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="導尿管留置"  />導尿管留置</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="膀胱造廔"  />膀胱造廔</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="尿套"  />尿套</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="尿布"  />尿布</label>
                            <label><input type="checkbox" name="RbnVoidingPattern" value="其他" onclick="CtrlActionFunc(this, '#spanVoidingPattern99Other');" />其他</label>
                            <span style="display:none" id="spanVoidingPattern99Other">
                                <input type="text" name="TxtVoidingPattern99Other" style="width:120px;" />
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="尿液性狀 量">
                        <th class="head" rowspan="3">尿液性狀</th>
                        <td>
                            <label>量：</label>
                            <label><input type="radio" name="TxtUrineCharactersAmount" value="無" />無</label>
                            <label><input type="radio" name="TxtUrineCharactersAmount" value="多" />多</label>
                            <label><input type="radio" name="TxtUrineCharactersAmount" value="中" />中</label>
                            <label><input type="radio" name="TxtUrineCharactersAmount" value="少" />少</label>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="尿液性狀 顏色">
                        <td>
                            <label>顏色：</label>
                            @if (!string.IsNullOrWhiteSpace(ViewBag.UrineColor))
                            {
                                foreach (string item in ViewBag.UrineColor.Split('|'))
                                {
                                    if (item != "其他")
                                    {
                            <label><input type="radio" tag="TxtUrineCharactersAmount" name="RbnUrineColor" value="@item" onclick="CtrlActionFunc(this, '#UrineColor', false);" />@item</label>
                                    }
                                    else
                                    {
                            <label><input type="radio" tag="TxtUrineCharactersAmount" name="RbnUrineColor" value="@item" onclick="CtrlActionFunc(this, '#UrineColor', true);" />@item</label>
                            <span style="display:none;" id="UrineColor">
                                <input type="text" name="Txt_UrineColor_Other" style="width:120px;" />
                            </span>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr must="Y" subtitle="尿液性狀 性質">
                        <td>
                            <label>性質：</label>
                            @if (!string.IsNullOrWhiteSpace(ViewBag.UrineNature))
                            {
                                foreach (string item in ViewBag.UrineNature.Split('|'))
                                {
                                    if (item != "其他")
                                    {
                            <label><input type="radio" tag2="TxtUrineCharactersAmount" name="RbnUrineNature" value="@item" onclick="CtrlActionFunc(this, '#UrineNature', false);" />@item</label>
                                    }
                                    else
                                    {
                            <label><input type="radio" tag2="TxtUrineCharactersAmount" name="RbnUrineNature" value="@item" onclick="CtrlActionFunc(this, '#UrineNature', true);" />@item</label>
                            <span style="display:none;" id="UrineNature">
                                <input type="text" name="Txt_UrineNature_Other" style="width:120px;" />
                            </span>
                                    }
                                }
                            }
                        </td>
                    </tr>
                    <tr must="Y" subtitle="排便狀況">
                        <th class="head">排便<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <th class="head" title="@title">排便狀況</th>
                        <td>
                            <label><input type="radio" name="RbnDefecation" value="正常" onclick="CtrlActionFunc(this, '#DivDefecationAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnDefecation" value="異常" onclick="CtrlActionFunc(this, '#DivDefecationAbnormal', true);" />異常</label>
                            <div id="DivDefecationAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="便秘" onclick="CtrlActionFunc(this, '#spanDefecationAbn1');" />便秘</label>
                                <span style="display:none" id="spanDefecationAbn1">
                                    <label>：</label>
                                    <label><input type="radio" name="RbnDefecationAbn1" value="自解" />自解</label>
                                    <label><input type="radio" name="RbnDefecationAbn1" value="軟便劑" />軟便劑</label>
                                    <label>，</label>
                                </span>
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="腹瀉" />腹瀉</label>
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="結腸造廔口" />結腸造廔口</label>
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="失禁" />失禁</label>
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="血便" />血便</label>
                                <label><input type="checkbox" tag="RbnDefecation" name="ChkDefecationAbn" value="其他" onclick="CtrlActionFunc(this, '#spanDefecationAbn99Other');" />其他</label>
                                <span style="display:none" id="spanDefecationAbn99Other">
                                    <input type="text" name="TxtDefecationAbn99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="骨骼系統" id="orthopedics">
                        <th class="head">骨骼系統</th>
                        <th class="head">外觀</th>
                        <td colspan="3">
                            <label><input type="radio" id="RbnSkeletalSystem_Normal" name="RbnSkeletalSystem" value="正常" onclick="CtrlActionFunc(this, '#DivSkeletalSystemAbnormal', false);" />正常</label>
                            <label><input type="radio" id="RbnSkeletalSystem_Abnormal" name="RbnSkeletalSystem" value="異常" onclick="CtrlActionFunc(this, '#DivSkeletalSystemAbnormal', true);" />異常</label>
                            <div id="DivSkeletalSystemAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="駝背" />駝背</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="骨折" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn2Position');" />骨折</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="脫臼" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn3Position');" />脫臼</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="關節腫" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn4Position');" />關節腫</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="截肢" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn5Position');" />截肢</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="畸形" onclick="CtrlActionFunc(this, '#TrSkeletalSysAbn6Position');" />畸形</label>
                                <label><input type="checkbox" name="ChkSkeletalSystemAbn" value="其他" onclick="CtrlActionFunc(this, '#spanSkeletalSystemAbn99Other');" />其他</label>
                                <span style="display:none" id="spanSkeletalSystemAbn99Other">
                                    <input type="text" name="TxtSkeletalSystemAbn99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="TrSkeletalSysAbn2Position" style="display:none" must="Y" subtitle="骨骼系統 - 骨折部位">
                        <th class="head">骨折部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkeletonPosition.Split('|'))
                            {
                            <span>
                                @if (item == "其他")
                                {
                                    <label><input type="checkbox" name="ChkSkeletalSys2Position" value="@item" onclick="other_toggle('spanSkeletalSys2PositionOther')"/>@item</label>
                                }
                                else
                                {
                                    <label><input type="checkbox" name="ChkSkeletalSys2Position" value="@item" />@item</label>
                                }
                            </span>
                            }
                            <span style="display:none" id="spanSkeletalSys2PositionOther">
                                <input type="text" name="TxtSkeletalSys2PositionOther" value="">
                            </span>
                        </td>
                    </tr>
                    <tr id="TrSkeletalSysAbn3Position" style="display:none" must="Y" subtitle="骨骼系統 - 脫臼部位">
                        <th class="head">脫臼部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkeletonPosition.Split('|'))
                            {
                                <span>
                                    @if (item == "其他")
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys3Position" value="@item" onclick="other_toggle('spanSkeletalSys3PositionOther')" />@item</label>
                                    }
                                    else
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys3Position" value="@item" />@item</label>
                                    }
                                </span>
                            }
                            <span style="display:none" id="spanSkeletalSys3PositionOther">
                                <input type="text" name="TxtSkeletalSys3PositionOther" value="">
                            </span>
                        </td>
                    </tr>
                    <tr id="TrSkeletalSysAbn4Position" style="display:none" must="Y" subtitle="骨骼系統 - 關節腫部位">
                        <th class="head">關節腫部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkeletonPosition.Split('|'))
                            {
                                <span>
                                    @if (item == "其他")
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys4Position" value="@item" onclick="other_toggle('spanSkeletalSys4PositionOther')" />@item</label>
                                    }
                                    else
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys4Position" value="@item" />@item</label>
                                    }
                                </span>
                            }
                            <span style="display:none" id="spanSkeletalSys4PositionOther">
                                <input type="text" name="TxtSkeletalSys4PositionOther" value="">
                            </span>
                        </td>
                    </tr>
                    <tr id="TrSkeletalSysAbn5Position" style="display:none" must="Y" subtitle="骨骼系統 - 截肢部位">
                        <th class="head">截肢部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkeletonPosition.Split('|'))
                            {
                                <span>
                                    @if (item == "其他")
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys5Position" value="@item" onclick="other_toggle('spanSkeletalSys5PositionOther')" />@item</label>
                                    }
                                    else
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys5Position" value="@item" />@item</label>
                                    }
                                </span>
                            }
                            <span style="display:none" id="spanSkeletalSys5PositionOther">
                                <input type="text" name="TxtSkeletalSys5PositionOther" value="">
                            </span>
                        </td>
                    </tr>
                    <tr id="TrSkeletalSysAbn6Position" style="display:none" must="Y" subtitle="骨骼系統 - 畸形部位">
                        <th class="head">畸形部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkeletonPosition.Split('|'))
                            {
                                <span>
                                    @if (item == "其他")
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys6Position" value="@item" onclick="other_toggle('spanSkeletalSys6PositionOther')" />@item</label>
                                    }
                                    else
                                    {
                                        <label><input type="checkbox" name="ChkSkeletalSys6Position" value="@item" />@item</label>
                                    }
                                </span>
                            }
                            <span style="display:none" id="spanSkeletalSys6PositionOther">
                                <input type="text" name="TxtSkeletalSys6PositionOther" value="">
                            </span>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="骨骼系統 活動" id="orthopedics2">
                        <th class="head">骨骼系統</th>
                        <th class="head">活動</th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnBonesEvents" value="行動正常" onclick="CtrlActionFunc(this, '#DivBonesEventsAbnormal', false);" />行動正常</label>
                            <label><input type="radio" name="RbnBonesEvents" value="異常" onclick="CtrlActionFunc(this, '#DivBonesEventsAbnormal', true);" />異常</label>
                            @*<label><input type="radio" name="RbnBonesEvents" value="無法行動" onclick="CtrlActionFunc(this, '#DivBonesEventsAbnormal', false);" />無法行動</label>*@
                            <div id="DivBonesEventsAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="跛行" />跛行</label>
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="行走疼痛" />行走疼痛</label>
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="使用輔助工具" />使用輔助工具</label>
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="義肢" />義肢</label>
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="無法行動" />無法行動</label>
                                <label><input type="checkbox" name="ChkBonesEventsAbn" value="其他" onclick="CtrlActionFunc(this, '#spanBonesEventsAbn99Other');" />其他</label>
                                <span style="display:none" id="spanBonesEventsAbn99Other">
                                    <input type="text" name="TxtBonesEventsAbn99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="皮膚完整 外觀" id="dermatology">
                        <th class="head">皮膚完整</th>
                        <th class="head" title="@title">外觀<span style="color: blue;font-size:0.7em">(交)</span></th>
                        <td colspan="2">
                            <label><input type="radio" name="RbnSkinAppearance" value="正常" onclick="CtrlActionFunc(this, '#DivSkinAppearanceAbnormal', false);" />正常</label>
                            <label><input type="radio" name="RbnSkinAppearance" value="異常" onclick="CtrlActionFunc(this, '#DivSkinAppearanceAbnormal', true);" />異常</label>
                            <div id="DivSkinAppearanceAbnormal" style="display:none;">
                                <hr />
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="蒼白" />蒼白</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="黃疸" />黃疸</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="發紺" />發紺</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="潮紅" />潮紅</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="乾燥" />乾燥</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="水腫" onclick="CtrlActionFunc(this, '.TrSkinAppearanceAbn6Position');" />水腫</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="紅疹" onclick="CtrlActionFunc(this, '#TrSkinAppearanceAbn7Position');" />紅疹</label>
                                <label><input type="checkbox" tag="RbnSkinAppearance" name="ChkSkinAppearanceAbn" value="其他" onclick="CtrlActionFunc(this, '#spanSkinAppearanceAbn99Other');" />其他</label>
                                <span style="display:none" id="spanSkinAppearanceAbn99Other">
                                    <input type="text" name="TxtSkinAppearanceAbn99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr class="TrSkinAppearanceAbn6Position" style="display:none" must="Y" subtitle="皮膚完整 - 水腫部位">
                        <th class="head">水腫部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkinPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkSkinAppearance6Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkSkinAppearance6Position" value="@item" onclick="CtrlActionFunc(this, '#SkinAppearance6Position');" />@item</label></span>
                            <span style="display:none;" id="SkinAppearance6Position">
                                <input type="text" name="Txt_SkinAppearance6Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr class="TrSkinAppearanceAbn6Position" style="display:none" must="Y" subtitle="皮膚完整 嚴重度">
                        <th class="head">嚴重度</th>
                        <td colspan="3">
                            <label><input type="radio" name="RbnSkinAppearAbn6Plus" value="1+" />1+</label>
                            <label><input type="radio" name="RbnSkinAppearAbn6Plus" value="2+" />2+</label>
                            <label><input type="radio" name="RbnSkinAppearAbn6Plus" value="3+" />3+</label>
                            <label><input type="radio" name="RbnSkinAppearAbn6Plus" value="4+" />4+</label>
                        </td>
                    </tr>
                    <tr id="TrSkinAppearanceAbn7Position" style="display:none" must="Y" subtitle="皮膚完整 - 紅疹部位">
                        <th class="head">紅疹部位</th>
                        <td colspan="3" class="CLSpanFixedWidth">
                            @foreach (string item in ViewBag.SkinPosition.Split('|'))
                            {
                                if (item != "其他")
                                {
                            <span><label><input type="checkbox" name="ChkSkinAppearance7Position" value="@item" />@item</label></span>
                                }
                                else
                                {
                            <span><label><input type="checkbox" name="ChkSkinAppearance7Position" value="@item" onclick="CtrlActionFunc(this, '#SkinAppearance7Position');" />@item</label></span>
                            <span style="display:none;" id="SkinAppearance7Position">
                                <input type="text" name="Txt_SkinAppearance7Position_Other" />
                            </span>
                                }
                            }
                        </td>
                    </tr>
                    <tr must="Y" subtitle="禁治療部位" id="forbid">
                        <th class="head">禁治療部位</th>
                        <td colspan="3">
                            @* <label><input type="radio" name="RbnInhibitTreatment" value="無" onclick="CtrlActionFunc(this, '#DivInhibitTreatment', false);" />無</label>
                <label><input type="radio" name="RbnInhibitTreatment" value="有" onclick="CtrlActionFunc(this, '#DivInhibitTreatment', true);" />有</label>
                <div id="DivInhibitTreatment" style="display:none;" class="CLSpanFixedWidth">
                    <hr />
                    @foreach (string item in ViewBag.BanTreatmentPosition.Split('|'))
                    {
                    <span><label><input type="radio" name="RbnInhTreatPosition" value="@item" />@item</label></span>
                    }
                    <div>
                        <label>原因：</label>
                        <input type="text" name="TxtInhibitTreatmentReson" style="width:120px;" />
                    </div>
                </div>*@
                            <div id="tabs-9" class="tab">
                                <p must="Y">
                                    @*<span style="color: red">＊</span><label class="subtitle">禁治療部位</label>*@
                                    @VitalSign_Helper.assess_radio("param_taboo_position", "無|有", "有", "span_param_taboo_position_Desc")
                                </p>
                                <p id="taboo_position" class="span_param_taboo_position_Desc" style="display: none;" countid="0">
                                    <img id="but_taboo_position" src="~/Images/plus.png" style="cursor: pointer; width: 15px;" title="新增一筆" alt="新增一筆" onclick="clonediv('taboo_position', this.id, 'add_taboo_position');" />
                                    部位:
                                    @Html.TextBox("param_taboo_position_txt", "", new { style = "width:150px", onblur = "replaceComma(this);" })
                                    原因:
                                    @Html.TextBox("param_taboo_position_other", "", new { style = "width:150px", onblur = "replaceComma(this);" })
                                </p>
                                <div id="add_taboo_position">

                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr must="Y" subtitle="生殖系統" id="reproductive">
                        <th class="head">生殖系統</th>
                        <td>
                            <label><input type="radio" name="RbnReproductiveSysSex" value="女" data-value="Female" onclick="CtrlActionFunc(this, '.RbnReproductiveSysSex', false); CtrlActionFunc(this, '#RbnReproductiveSysSex', true);" />女</label>
                            <label><input type="radio" name="RbnReproductiveSysSex" value="男" data-value="Male" onclick="CtrlActionFunc(this, '.RbnReproductiveSysSex', false); CtrlActionFunc(this, '#RbnReproductiveSysSex', true);" />男</label>
                        </td>
                        <td colspan="2">
                            <div class="RbnReproductiveSysSex" id="RbnReproductiveSysSex" style="display:none;">
                                <label><input type="radio" name="RbnReproductiveSysStatus" value="正常" onclick="CtrlActionFunc(this, '#DivReproductiveSys' + $('input[name=RbnReproductiveSysSex]:checked').attr('data-value'), false);" />正常</label>
                                <label><input type="radio" name="RbnReproductiveSysStatus" value="異常" onclick="CtrlActionFunc(this, '#DivReproductiveSys' + $('input[name=RbnReproductiveSysSex]:checked').attr('data-value'), true);" />異常</label>
                            </div>
                            <div class="RbnReproductiveSysSex" id="DivReproductiveSysFemale" style="display:none;">
                                <hr />
                                <label><input type="checkbox" name="ChkRepSysFemale" value="乳房腫塊" />乳房腫塊</label>
                                <label><input type="checkbox" name="ChkRepSysFemale" value="乳房分泌物異常" />乳房分泌物異常</label>
                                <label><input type="checkbox" name="ChkRepSysFemale" value="月經不規則" />月經不規則</label>
                                <label><input type="checkbox" name="ChkRepSysFemale" value="陰道分泌物異常" />陰道分泌物異常</label>
                                <label><input type="checkbox" name="ChkRepSysFemale" value="其他" onclick="CtrlActionFunc(this, '#spanRepSysFemale99Other');" />其他</label>
                                <span style="display:none" id="spanRepSysFemale99Other">
                                    <input type="text" name="TxtRepSysFemale99Other" style="width:120px;" />
                                </span>
                            </div>
                            <div class="RbnReproductiveSysSex" id="DivReproductiveSysMale" style="display:none;">
                                <hr />
                                <label><input type="checkbox" name="ChkRepSysMale" value="陰莖分泌物異常" />陰莖分泌物異常</label>
                                <label><input type="checkbox" name="ChkRepSysMale" value="陰囊水腫" />陰囊水腫</label>
                                <label><input type="checkbox" name="ChkRepSysMale" value="腫塊" onclick="CtrlActionFunc(this, '#DivRepSysMale3Size');" />腫塊</label>
                                <span style="display:none" id="DivRepSysMale3Size">
                                    <label>：長 </label>
                                    <input type="text" name="TxtRepSysMale3Width" style="width:120px;" />
                                    <label>cm，寬 </label>
                                    <input type="text" name="TxtRepSysMale3Height" style="width:120px;" />
                                    <label>cm</label>
                                </span>
                                <label><input type="checkbox" id="ChkRepSysMale99" name="ChkRepSysMale" value="其他" onclick="CtrlActionFunc(this, '#spanRepSysMale99Other');" />其他</label>
                                <span style="display:none" id="spanRepSysMale99Other">
                                    <input type="text" name="TxtRepSysMale99Other" style="width:120px;" />
                                </span>
                            </div>
                        </td>
                    </tr>
                    <tr id="remark1">
                        <th class="head">備註</th>
                        <td colspan="3">
                            <textarea id="TxtElseRemark" name="TxtElseRemark" style="width:90%; height:100px;cursor: pointer;"></textarea>
                        </td>
                    </tr>
                </table>
            </div>
        </fieldset>
    </div>
</form>
</div>
<div id="cover" class="dialog"></div>
<div id="divrecord" class="dialog " style="width: 700px;height:350px;overflow-y:hidden;">
        <table  border="0" cellpadding="0" cellspacing="4" width="100%" align="center">
            <tr style="">
                <td style="text-align:center;">
                    <textarea id="text_content" style="width: 95%; height: 280px;font-size:17px; cursor: text; "></textarea>
                    <input type="button" value="存檔" tempstatus="N" onclick="doSubmit(this);" />
                    <input type="button" value="取消" onclick="$('#divrecord').hide(); $('#cover').hide();" />
                </td>
            </tr>
        </table>
</div>
<script type="text/javascript">
    //判斷是否字串為空或null
    function isNullOrEmpty(s) {
        return (s == null || s === "");
    }

    ///組字使用--過濾符號-text&textArea
    function composereplaceComma(content) {
        if (!isNullOrEmpty(content)) {
            content = content.replace(',', '，');
            content = content.replace('|', ' ');
        }
        return content
    }

    //再按下存檔時，檢查是否有勾帶記錄
    //勾：就跳帶記錄視窗
    //未勾：就直接儲存
    function showRecordDiv(obj) {
        //var check_val = $(" input[type=radio][name=RbnEatingPatterns]:checked").val();
        //var aa = $(".DivEatingItem1 input[type=radio][name=RbnEatPat2Item]:checked").prop('checked');
        //if (check_val == "NG Feeding" && aa == undefined) {
        //    alert('進食方式選擇NG Feeding 輔助物不可空值');
        //} else {
        var unfill ="" ;
        $("input:radio:checked").each(function (i) {
            if ($(this).val() == "異常" || $(this).val() == "有") {
                tag = $(this).prop('name');
                if ($("input[tag=" + tag + "]:checked").val() == undefined && $("input[tag=" + tag + "]").length != 0) {
                    var tag_name = ["RbnBreathing", "RbnIsMedicalDevices", "RbnOxygen" , "RbnBrthSndsR", "RbnBrthSndsL", "RbnSputum", "RbnSputumCount", "RbnSputumColor", "RbnPalpation", "RbnDecompression", "RbnUrination", "RbnUrineColor", "RbnUrineNature", "RbnDefecation", "RbnSkinAppearance"];
                    var tag_values = ["呼吸型態", "人工氣道", "氧氣治療" , "呼吸音右側", "呼吸音左側", "痰液量", "痰液顏色", "痰液性質", "觸診", "Decompression", "排尿", "尿液顏色", "尿液性質", "排便狀況", "皮膚完整-外觀"];
                    var tag_value;
                    for (var i = 0; i < tag_name.length; i++) {
                        if(tag == tag_name[i])
                        {
                            tag_value = tag_values[i];
                        }
                        
                    }
                    unfill += tag_value + "\n";
                }
            }
            if ($(this).val() == "多" || $(this).val() == "中" || $(this).val() == "少") {
                tag = $(this).prop('name');
                if (($("input[tag=" + tag + "]:checked").val() == undefined && $("input[tag=" + tag + "]").length != 0) || ($("input[tag2=" + tag + "]:checked").val() == undefined && $("input[tag2=" + tag + "]").length != 0)) {
                    var tag_name = ["RbnSputumCount", "RbnDecCount", "TxtUrineCharactersAmount"];
                    var tag_values = ["痰液顏色、性質", "Decompression顏色、性質", "尿液顏色、性質"];
                    var tag_value;
                    for (var i = 0; i < tag_name.length; i++) {
                        if (tag == tag_name[i]) {
                            tag_value = tag_values[i];
                        }

                    }
                    unfill += tag_value + "\n";
                }
            }


            if ($(this).val() == "侵入性呼吸器")
            {
                var tmp = "";
                var tag_name = ["TxtFaceMask5_1", "TxtFaceMask5_2", "TxtFaceMask5_3", "TxtFaceMask5_4", "TxtFaceMask5_5"];
                var tag_values = ["mode", "TV", "FiO2", "PEEP", "Rate"];
                for (var i = 0; i < tag_name.length; i++) {
                    if ($("input[name=" + tag_name[i] + "]").val() == "") {
                        tag_value = tag_values[i];
                        tmp += 1;
                        //unfill += $(this).val() + " "+ tag_value + "\n";
                      }
                }

                if (tmp > 0)
                    unfill += $(this).val() + "\n";
            }
            if ($(this).val() == "非侵入性呼吸器") {
                var tag = "RbnNotInvasion"; tag2 = "_Other";
                if ($("input[tag=" + tag + "]:checked").val() == undefined ) {
                    unfill += $(this).val() + "\n";
                }
                if ($("input[tag=" + tag + "]:checked").val() == "其他" && $("input[name=" + tag + tag2 + "]").val() == "")  //RbnNotInvasion_Other
                {
                    unfill += $(this).val() + " " + "其他" + "\n";
                }

            }

            if ($(this).val() == "Ventilator") {
                var tag = "RbnFaceMask_kind"; 
                var tag2 = "RbnFaceMask_Ventilator";
                if ($("input[name=" + tag + "]:checked").val() == undefined || $("input[tag=" + tag2 + "]:checked").val() == "") {
                    unfill += $(this).val() + "\n";
                }
            }


        });
        if (unfill != "") {
            alert(unfill + "上述明細未填寫");
            return;
        }
            if ($("input[name=ChkPlanYN]:checked").val() == "Y") {
                BindCareRecord();
                $("#divrecord").show();
                $("#cover").show();
            } else {
                //直接存檔
                doSubmit(obj);
            }
        //}
    }

    //組記錄，依按下的按鈕組字，即時組在背景後#text_content裡
    function BindCareRecord()
    {
        var Str1 = "";
        Str1 += composeComaScale();
        Str1 += composeNervousSystem();
        Str1 += composeVision();
        Str1 += composePulse();
        Str1 += composeBreathing();
        Str1 += composeAppetiteAbn();
        Str1 += composeUrinationAbn();
        Str1 += composeSkeletalSystemAbn();
        Str1 += composeSkinAppearanceAbn();
        Str1 += composetabooAbn();
        Str1 += composeReproductiveSysStatus();
        Str1 += composeElseRemark();
        $("#text_content").val(Str1);
    }

    //意識狀況-組字
    function composeComaScale()
    {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessComa_E]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnAwarenessComa_V]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnAwarenessComa_M]:checked").val())) {
            carerecordcont += "病人意識 - ";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessComa_E]:checked").val())) {
            carerecordcont += " E：" + $("input:radio[name=RbnAwarenessComa_E]:checked").val()
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessComa_V]:checked").val())) {
            carerecordcont += " V：" + $("input:radio[name=RbnAwarenessComa_V]:checked").val()
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessComa_M]:checked").val())) {
            carerecordcont += " M：" + $("input:radio[name=RbnAwarenessComa_M]:checked").val();
        }
        if (!isNullOrEmpty($("input:radio[name=RbnPupilItemRef_R]:checked").val())) {
            carerecordcont += "，Pupil size R：";
            if ($("input:radio[name=RbnPupilItemRef_R]:checked").val() != "其他") { //無法睜眼
                if ($("input:radio[name=RbnPupilItemRef_R]:checked").val() == "無法評估" || $("input:radio[name=RbnPupilItemRef_R]:checked").val() == "無法睜眼") { //無法評估/無法睜眼
                    carerecordcont += $("input:radio[name=RbnPupilItemRef_R]:checked").val();
                }
                else {//          
                    carerecordcont += $("input:radio[name=RbnPupilItemRef_R]:checked").val() + $("input:radio[name=RbnPupilItemSize_R]:checked").val();
                }
            }
            else {//其他
                carerecordcont += $("input:radio[name=RbnPupilItemRef_R]:checked").val() + ":" + composereplaceComma($("[name=Txt_RbnPupilItemRef_R_Other]").val());
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnPupilItemRef_L]:checked").val())) {
            carerecordcont += "/L：";
            if ($("input:radio[name=RbnPupilItemRef_L]:checked").val() != "其他") {
                if ($("input:radio[name=RbnPupilItemRef_L]:checked").val() == "無法評估" || $("input:radio[name=RbnPupilItemRef_L]:checked").val() == "無法睜眼") {
                    carerecordcont += $("input:radio[name=RbnPupilItemRef_L]:checked").val();
                    
                }
                else {//
                    carerecordcont += $("input:radio[name=RbnPupilItemRef_L]:checked").val() + $("input:radio[name=RbnPupilItemSize_L]:checked").val();
                }
            }
            else {//其他
                carerecordcont += $("input:radio[name=RbnPupilItemRef_L]:checked").val() + ":" + composereplaceComma($("[name=Txt_RbnPupilItemRef_L_Other]").val());
            }
            carerecordcont += "。";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessMuscleRU]:checked").val())) {
            carerecordcont += "肌肉力量  上肢Ｒ：" + $("input:radio[name=RbnAwarenessMuscleRU]:checked").val();
            carerecordcont += (!isNullOrEmpty($("input[name=Txt_AwarenessMuscleRU_Other]").val())) ? ":" + composereplaceComma($("[name=Txt_AwarenessMuscleRU_Other]").val()) : "";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessMuscleLU]:checked").val())) {
            carerecordcont += "/L：" + $("input:radio[name=RbnAwarenessMuscleLU]:checked").val();
            carerecordcont += (!isNullOrEmpty($("input[name=Txt_AwarenessMuscleLU_Other]").val())) ? ":" + composereplaceComma($("[name=Txt_AwarenessMuscleLU_Other]").val()) : "";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessMuscleRD]:checked").val())) {
            carerecordcont += "、下肢Ｒ：" + $("input:radio[name=RbnAwarenessMuscleRD]:checked").val();
            carerecordcont += (!isNullOrEmpty($("input[name=Txt_AwarenessMuscleRD_Other]").val())) ? ":" + composereplaceComma($("[name=Txt_AwarenessMuscleRD_Other]").val()) : "";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnAwarenessMuscleLD]:checked").val())) {
            carerecordcont += "/L：" + $("input:radio[name=RbnAwarenessMuscleLD]:checked").val();
            carerecordcont += (!isNullOrEmpty($("input[name=Txt_AwarenessMuscleLD_Other]").val())) ? ":" + composereplaceComma($("[name=Txt_AwarenessMuscleLD_Other]").val()) : "";
            carerecordcont += "。";
        }
        if ($("input:radio[name=RbnAwarenessRASS]:checked").val() != "不需要" && !isNullOrEmpty($("input:radio[name=RbnAwarenessRASS]:checked").val())) {
            carerecordcont += "RASS鎮靜評估 - ";
            carerecordcont += ((!isNullOrEmpty($("input:radio[name=RbnAwarenessRASSScore]:checked").val())) ? $("input:radio[name=RbnAwarenessRASSScore]:checked").val() + "。" : "\r\n");
        }
        return carerecordcont;
    }

    //神經系統-組字
    function composeNervousSystem() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnNervousSys]:checked").val())) {//神經系統
            if ($("input:radio[name=RbnNervousSys]:checked").val() == "異常") {
                carerecordcont += "\r\n神經系統：";
                if (!isNullOrEmpty($('input[name=ChkNervousAbnormal]:checked').val())) {
                    var ChkNervousAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkNervousAbnormal]").each(function (i) { ChkNervousAbnormalArr[i] = this.value; });
                    $.each(ChkNervousAbnormalArr, function (i, item) {  // foreach(string item in form["ChkNervousAbnormal"].Split(','))
                        {
                            switch (item) {
                                case "痛"://【神經系統-疼痛-部位】疼痛【神經系統-疼痛-分數】分。???分數的數值來源??
                                    if (!isNullOrEmpty($('input[name=ChkNervous3Position]:checked').val())) {
                                        var ChkNervous3PositionArr = new Array();
                                        $("input:checkbox:checked[name=ChkNervous3Position]").each(function (i) { ChkNervous3PositionArr[i] = this.value; });
                                        carerecordcont += ChkNervous3PositionArr;
                                        if (!isNullOrEmpty($("[name=Txt_Nervous3Position_Other]").val()))
                                            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Nervous3Position_Other]").val());
                                        carerecordcont += " " + item + " 問題存。";
                                    }
                                    break;
                                case "麻":
                                    if (!isNullOrEmpty($('input[name=ChkNervous4Position]:checked').val())) {
                                        var ChkNervous4PositionArr = new Array();
                                        $("input:checkbox:checked[name=ChkNervous4Position]").each(function (i) { ChkNervous4PositionArr[i] = this.value; });
                                        carerecordcont += ChkNervous4PositionArr;
                                        if (!isNullOrEmpty($("[name=Txt_Nervous4Position_Other]").val()))
                                            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Nervous4Position_Other]").val());
                                        carerecordcont += " " + item + " 問題存。";
                                    }
                                    break;
                                case "無知覺":
                                    if (!isNullOrEmpty($('input[name=ChkNervous5Position]:checked').val())) {
                                        var ChkNervous5PositionArr = new Array();
                                        $("input:checkbox:checked[name=ChkNervous5Position]").each(function (i) { ChkNervous5PositionArr[i] = this.value; });
                                        carerecordcont += ChkNervous5PositionArr;
                                        if (!isNullOrEmpty($("[name=Txt_Nervous5Position_Other]").val()))
                                            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Nervous5Position_Other]").val());
                                        carerecordcont += " " + item + " 問題存。";
                                    }
                                    break;
                                case "抽搐":
                                    if (!isNullOrEmpty($('input[name=ChkNervous6Position]:checked').val())) {
                                        var ChkNervous6PositionArr = new Array();
                                        $("input:checkbox:checked[name=ChkNervous6Position]").each(function (i) { ChkNervous6PositionArr[i] = this.value; });
                                        carerecordcont += ChkNervous6PositionArr;
                                        if (!isNullOrEmpty($("[name=Txt_Nervous6Position_Other]").val()))
                                            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_Nervous6Position_Other]").val());
                                        carerecordcont += " " + item + " 問題存。";
                                    }
                                    break;
                                case "其他":
                                    if (!isNullOrEmpty($("[name=TxtNervousAbnormal99Other]").val()))
                                        carerecordcont += composereplaceComma($("[name=TxtNervousAbnormal99Other]").val()) + " 問題存。";
                                    break;
                                default:
                                    carerecordcont += item + " 問題存。";
                                    break;
                            }
                        }
                    });
                }
            } else
            {
                carerecordcont = "\r\n神經系統：正常。";
            }
        }
        return carerecordcont;
    }

    //感官知覺-組字
    function composeVision() {
        var carerecordcont="";
        if (!isNullOrEmpty($("input:radio[name=RbnVision]:checked").val())) {//感官知覺--視力
            if ($("input:radio[name=RbnVision]:checked").val() == "異常") {
                carerecordcont += "\r\n感官知覺：";
                if (!isNullOrEmpty($('input[name=ChkVisionAbnormal]:checked').val())) {
                    var ChkVisionAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkVisionAbnormal]").each(function (i) { ChkVisionAbnormalArr[i] = this.value; });
                    $.each(ChkVisionAbnormalArr, function (i, item) {// foreach(string item in form["ChkVisionAbnormal"].Split(','))

                        switch (item) {
                            case "失明":
                                if (!isNullOrEmpty($('input[name=ChkBlindness]:checked').val())) {
                                    var ChkBlindnessArr = new Array();
                                    $("input:checkbox:checked[name=ChkBlindness]").each(function (i) { ChkBlindnessArr[i] = this.value; });
                                    carerecordcont += (ChkBlindnessArr == "右,左") ? "雙眼" + item + "。" : ChkBlindnessArr + "眼" + item + "。";
                                }
                                break;
                            case "偏盲":
                                if (!isNullOrEmpty($('input[name=ChkHemianopia]:checked').val())) {
                                    var ChkHemianopiaArr = new Array();
                                    $("input:checkbox:checked[name=ChkHemianopia]").each(function (i) { ChkHemianopiaArr[i] = this.value; });
                                    carerecordcont += (ChkHemianopiaArr == "右,左") ? "雙眼" + item + "。" : ChkHemianopiaArr + "眼" + item + "。";
                                }
                                break;
                            case "複視":
                                if (!isNullOrEmpty($('input[name=ChkDiplopia]:checked').val())) {
                                    ChkDiplopiaArr = new Array();
                                    $("input:checkbox:checked[name=ChkDiplopia]").each(function (i) { ChkDiplopiaArr[i] = this.value; });
                                    carerecordcont += (ChkDiplopiaArr == "右,左") ? "雙眼" + item + "。" : ChkDiplopiaArr + "眼" + item + "。";
                                }
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtVisionAbnormal99Other]").val()))
                                    carerecordcont += composereplaceComma($("[name=TxtVisionAbnormal99Other]").val()) + "問題存。";
                                break;
                            default:
                                carerecordcont += item + "。";
                                break;
                        }

                    });
                }
            } else if ($("input:radio[name=RbnVision]:checked").val() == "無法評估") {
                carerecordcont += "\r\n感官知覺：視力：無法評估。";
            } else
            {
                carerecordcont += "\r\n感官知覺：視力：正常。";
            }
        }
            //感官知覺 輔助物，目前沒寫

        //感官知覺 聽力
        
        if (!isNullOrEmpty($("input:radio[name=RbnHearing]:checked").val())) {//感官知覺
            if ($("input:radio[name=RbnHearing]:checked").val() == "障礙") {
                carerecordcont += "\r\n聽力 ";
                if (!isNullOrEmpty($('input[name=ChkHearingAbnormal]:checked').val())) {
                    var ChkHearingAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkHearingAbnormal]").each(function (i) { ChkHearingAbnormalArr[i] = this.value; });
                    $.each(ChkHearingAbnormalArr, function (i, item) {
                        switch (item) {
                            case "重聽":
                                if (!isNullOrEmpty($('input[name=ChkHardHearing]:checked').val())) {
                                    var ChkHardHearingArr = new Array();
                                    $("input:checkbox:checked[name=ChkHardHearing]").each(function (i) { ChkHardHearingArr[i] = this.value; });
                                    carerecordcont += (ChkHardHearingArr == "右,左") ? "雙耳" + item + "。" : ChkHardHearingArr + "耳" + item + "。";
                                }
                                break;
                            case "失聰":
                                if (!isNullOrEmpty($('input[name=ChkDeaf]:checked').val())) {
                                    var ChkDeafArr = new Array();
                                    $("input:checkbox:checked[name=ChkDeaf]").each(function (i) { ChkDeafArr[i] = this.value; });
                                    carerecordcont += (ChkDeafArr == "右,左") ? "雙耳" + item + "。" : ChkDeafArr + "耳" + item + "。";
                                }
                                break;
                            case "耳鳴":
                                if (!isNullOrEmpty($('input[name=ChkTinnitus]:checked').val())) {
                                    var ChkTinnitusArr = new Array();
                                    $("input:checkbox:checked[name=ChkTinnitus]").each(function (i) { ChkTinnitusArr[i] = this.value; });
                                    carerecordcont += (ChkTinnitusArr == "右,左") ? "雙耳" + item + "。" : ChkTinnitusArr + "耳" + item + "。";
                                }
                                break;
                        }
                    })
                }
            } else if ($("input:radio[name=RbnHearing]:checked").val() == "無法評估") {
                carerecordcont += "\r\n聽力：無法評估。";
            }
            else {
                carerecordcont += "\r\n聽力：正常。";
            }
        }
        if (!isNullOrEmpty($('input[name=ChkHearingAid]:checked').val())) {
            var ChkHearingAidArr = new Array();
            $("input:checkbox:checked[name=ChkHearingAid]").each(function (i) { ChkHearingAidArr[i] = this.value; });
            carerecordcont += (ChkHearingAidArr == "右,左") ? "雙耳助聽器使用。" : ChkHearingAidArr + "耳助聽器使用。";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnNose]:checked").val())) 
            carerecordcont += "嗅覺：" + $("input:radio[name=RbnNose]:checked").val() + "。";
        
        if (!isNullOrEmpty($("input:radio[name=RbnTaste]:checked").val())) 
            carerecordcont += "味覺：" + $("input:radio[name=RbnTaste]:checked").val() + "。";
        
            return carerecordcont;
    }

    //循環-組字
    function composePulse() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnPulse]:checked").val())) {
            carerecordcont += "\r\n循環方面：";
            carerecordcont += "脈搏 " + $("input:radio[name=RbnPulse]:checked").val() + "。";
        }

        if (!isNullOrEmpty($("input:radio[name=RbnTip]:checked").val())) {
            if ($("input:radio[name=RbnTip]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkTipAbnormal]:checked').val())) {
                    var ChkTipAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkTipAbnormal]").each(function (i) { ChkTipAbnormalArr[i] = this.value; });
                    carerecordcont += "末梢 " + ChkTipAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtTipAbnormal99Other]").val())) {
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtTipAbnormal99Other]").val());
                    }
                    carerecordcont += "，";
                }
            } else
            {
                carerecordcont = "\r\n末梢正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnDulplex]:checked").val()) && $("input:radio[name=RbnDulplex]:checked").val() == "是")
            carerecordcont += "Dulpex使用 ";

        if (!isNullOrEmpty($("input:radio[name=RbnDorsalPulseL]:checked").val())) {
            if (!isNullOrEmpty($("[name=TxtDorsalPulseLOther]").val()))
                carerecordcont += "左側足背動脈強度因" + composereplaceComma($("[name=TxtDorsalPulseLOther]").val()) + "無法評估，";
            else
                carerecordcont += "左側足背動脈強度" + $("input:radio[name=RbnDorsalPulseL]:checked").val() + "，";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnDorsalPulseR]:checked").val())) {
            if (!isNullOrEmpty($("[name=TxtDorsalPulseROther]").val()))
                carerecordcont += "右側足背動脈強度因" + composereplaceComma($("[name=TxtDorsalPulseROther]").val()) + "無法評估，";
            else
                carerecordcont += "右側足背動脈強度" + $("input:radio[name=RbnDorsalPulseR]:checked").val() + "，";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnRadialPulseL]:checked").val())) {
            if (!isNullOrEmpty($("[name=TxtRadialPulseLOther]").val()))
                carerecordcont += "左側橈動脈強度因" + composereplaceComma($("[name=TxtRadialPulseLOther]").val()) + "無法評估，";
            else
                carerecordcont += "左側橈動脈強度" + $("input:radio[name=RbnRadialPulseL]:checked").val() + "，";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnRadialPulseR]:checked").val())) {
            if (!isNullOrEmpty($("[name=TxtRadialPulseROther]").val()))
                carerecordcont += "右側橈動脈強度因" + composereplaceComma($("[name=TxtRadialPulseROther]").val()) + "無法評估，";
            else
                carerecordcont += "右側橈動脈強度" + $("input:radio[name=RbnRadialPulseR]:checked").val() + "，";
        }
        return carerecordcont;
    }


    //呼吸系統-組字
    function composeBreathing() {
        var carerecordcont = ""; var mask_tmp = "";
        if (!isNullOrEmpty($("input:radio[name=RbnBreathing]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnIsMedicalDevices]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnOxygen]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnBrthSndsR]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnBrthSndsL]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val())) {
            carerecordcont = "\r\n呼吸系統：";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnBreathing]:checked").val())) {//呼吸系統 呼吸型態
            if ($("input:radio[name=RbnBreathing]:checked").val() == "異常") {
                if (!isNullOrEmpty($('input[name=ChkBreathingAbnormal]:checked').val())) {
                    var ChkBreathingAbnormalArr = new Array();
                    $("input:checkbox:checked[name=ChkBreathingAbnormal]").each(function (i) { ChkBreathingAbnormalArr[i] = this.value; });
                    carerecordcont += "病人呼吸型態 " + ChkBreathingAbnormalArr;
                    if (!isNullOrEmpty($("[name=TxtBreathingAbnormal99Other]").val()))
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBreathingAbnormal99Other]").val());
                    carerecordcont += "，";
                }
            } else
            {
                carerecordcont += "病人呼吸型態：正常。";
            }
        }
        if (!isNullOrEmpty($("input:radio[name=RbnIsMedicalDevices]:checked").val())) {
            /*carerecordcont += "人工氣道：" + $("input:radio[name=RbnMedicalDevices]:checked").val() + "。";*/
            if (!isNullOrEmpty($("input:radio[name=RbnMedicalDevices]:checked").val())) {
                if (!isNullOrEmpty($("[name=TxtMedicalDevices1_1]").val()) || !isNullOrEmpty($("[name=TxtMedicalDevices1_2]").val()))
                    carerecordcont += composereplaceComma($("[name=TxtMedicalDevices1_1]").val()) + "fr." + $("input:radio[name=RbnMedicalDevices]:checked").val() + "fix" + composereplaceComma($("[name=TxtMedicalDevices1_2]").val()) + "cm。";
                if (!isNullOrEmpty($("[name=TxtMedicalDevices2_1]").val()))
                    carerecordcont += composereplaceComma($("[name=TxtMedicalDevices2_1]").val()) + "fr." + $("input:radio[name=RbnMedicalDevices]:checked").val() + "存。";
            }
            else
                /*carerecordcont += "未使用醫療輔助器輔助呼吸。";*/
                carerecordcont += "";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnOxygen]:checked").val()) && $("input:radio[name=RbnOxygen]:checked").val() == "有") {
            if ($("input:radio[name=RbnFaceMask]:checked").val() != "Aerosol mask" && $("input:radio[name=RbnFaceMask]:checked").val() != "Ventilator") {
                if ($("input:radio[name=RbnFaceMask]:checked").val() == "Ventri mask") {
                    carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + "。";
                } else {
                    carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + " O2 " + composereplaceComma($("[name=TxtO2Concentration]").val()) + " L/min使用。";
                }
            }
            else if ($("input:radio[name=RbnFaceMask]:checked").val() == "Aerosol mask") {
                carerecordcont += $("input:radio[name=RbnFaceMask]:checked").val() + " FiO2：" + composereplaceComma($("[name=TxtFaceMask3_1]").val()) + "%。";
            }
            else if ($("input:radio[name=RbnFaceMask]:checked").val() == "Ventilator") {
                if (!isNullOrEmpty($("input:radio[name=RbnFaceMask_kind]:checked").val()) && $("input:radio[name=RbnFaceMask_kind]:checked").val() == "非侵入性呼吸器") {

                    if (!isNullOrEmpty($("input:radio[name=RbnFaceMask_Ventilator]:checked").val()) && $("input:radio[name=RbnFaceMask_Ventilator]:checked").val() == "其他") {
                        mask_tmp = $("[name=RbnNotInvasion_Other]").val()
                    } else {
                        mask_tmp = $("input:radio[name=RbnFaceMask_Ventilator]:checked").val()
                    }
                } else {
                    mask_tmp = $("input:radio[name=RbnFaceMask]:checked").val() //侵入性呼吸器
                }
                var tmp_mode = ""; tmp_tv = ""; tmp_FIO2 = ""; tmp_peep = ""; tmp_rate = "";
                
                if (mask_tmp == "侵入性呼吸器") {
                    carerecordcont += " On " + mask_tmp + "，PS mode：" + composereplaceComma($("[name=TxtFaceMask5_1]").val()) + "，TV：" + composereplaceComma($("[name=TxtFaceMask5_2]").val())
                       + " ml，FiO2：" + composereplaceComma($("[name=TxtFaceMask5_3]").val()) + "%，PEEP：" + composereplaceComma($("[name=TxtFaceMask5_4]").val())
                        + " cmH2O，Rate：" + composereplaceComma($("[name=TxtFaceMask5_5]").val()) + " 次/分，";
                } else {
                    if ($("[name=TxtFaceMask5_1]").val() !="")
                        tmp_mode = "，" + $("[name=TxtFaceMask5_1]").val() + " mode";                    
                    if ($("[name=TxtFaceMask5_2]").val() !="")
                        tmp_tv =  "，TV：" + $("[name=TxtFaceMask5_2]").val() + " ml"
                    if ($("[name=TxtFaceMask5_3]").val() != "")
                        tmp_FIO2 = "，FiO2：" + $("[name=TxtFaceMask5_3]").val() + " %"
                    if ($("[name=TxtFaceMask5_4]").val() != "")
                        tmp_peep = "，PEEP：" + $("[name=TxtFaceMask5_4]").val() + " cmH2O"
                    if ($("[name=TxtFaceMask5_5]").val() != "")
                        tmp_rate = "，Rate：" + $("[name=TxtFaceMask5_5]").val() + " 次/分"

                    carerecordcont += " On " + mask_tmp + tmp_mode + tmp_tv + tmp_FIO2 + tmp_peep + tmp_rate + "，"
                }

            }
        } else if ($("input:radio[name=RbnOxygen]:checked").val() == "無")
        {
            carerecordcont += "未使用氧氣治療。";
        }

        if (!isNullOrEmpty($("input:radio[name=RbnBrthSndsR]:checked").val())) {//RbnBrthSndsR
            if (!isNullOrEmpty($('input[name=ChkBrthSndsRAbnor]:checked').val())) {
                var ChkBrthSndsRAbnorArr = new Array();
                $("input:checkbox:checked[name=ChkBrthSndsRAbnor]").each(function (i) { ChkBrthSndsRAbnorArr[i] = this.value; });
                carerecordcont += "右側呼吸音：" + ChkBrthSndsRAbnorArr;
                if (!isNullOrEmpty($("[name=TxtBrthSndsRAbnorOther]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBrthSndsRAbnorOther]").val());
                carerecordcont += "，";
            }
            else
                carerecordcont += "右側呼吸音正常，";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnBrthSndsL]:checked").val())) {
            if (!isNullOrEmpty($('input[name=ChkBrthSndsLAbnor]:checked').val())) {
                var ChkBrthSndsLAbnorArr = new Array();
                $("input:checkbox:checked[name=ChkBrthSndsLAbnor]").each(function (i) { ChkBrthSndsLAbnorArr[i] = this.value; });
                carerecordcont += "左側呼吸音：" + ChkBrthSndsLAbnorArr;
                if (!isNullOrEmpty($("[name=TxtBrthSndsLAbnorOther]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtBrthSndsLAbnorOther]").val());
                carerecordcont += "，";
            }
            else
                carerecordcont += "左側呼吸音正常，";
        }
       // if (!isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val())) {//RbnSputum
        if (!isNullOrEmpty($("input:radio[name=RbnSputum]:checked").val()) && $("input:radio[name=RbnSputum]:checked").val() == "有") {
            carerecordcont += "痰液 量" + $("input:radio[name=RbnSputumCount]:checked").val() + "，色" + $("input:radio[name=RbnSputumColor]:checked").val();
            if (!isNullOrEmpty($("[name=TxtSputumColor99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtSputumColor99Other]").val());
            carerecordcont += "，呈" + $("input:radio[name=RbnSputumNature]:checked").val();
            if (!isNullOrEmpty($("[name=TxtSputumNature99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtSputumNature99Other]").val());
            carerecordcont += "狀。";
        } else if ($("input:radio[name=RbnSputum]:checked").val() == "無")
        {
            carerecordcont += "無痰液。";
        }
        else
        {
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 1);
                carerecordcont += "。";
        }
        //}

        return carerecordcont;
    }

    //消化-組字
    function composeAppetiteAbn()
    {  var carerecordcont = "";
    if (!isNullOrEmpty($("input:radio[name=RbnAppetite]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnEatingPatterns]:checked").val()) || !isNullOrEmpty($("input:text[name=TxtDietType99Other]").val()) || !isNullOrEmpty($("input:radio[name=RbnPalpation]:checked").val()) || !isNullOrEmpty($("[name=TxtPeristalsis]").val()) || !isNullOrEmpty($("input:radio[name=RbnBowelSounds]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnDecompression]:checked").val())) {
        carerecordcont = "\r\n消化系統：";
    }
    if (!isNullOrEmpty($("input:radio[name=RbnAppetite]:checked").val()) && $("input:radio[name=RbnAppetite]:checked").val() == "異常") {
        if (!isNullOrEmpty($("input:radio[name=RbnAppetiteAbnItem]:checked").val()))
            carerecordcont += "食欲異常" + $("input:radio[name=RbnAppetiteAbnItem]:checked").val() + "，";
        if (!isNullOrEmpty($('input[name=ChkAppetiteAbnElse]:checked').val())) {
            var ChkAppetiteAbnElseArr = new Array();
            $("input:checkbox:checked[name=ChkAppetiteAbnElse]").each(function (i) { ChkAppetiteAbnElseArr[i] = this.value; });
            carerecordcont += "有" + ChkAppetiteAbnElseArr;
            if (!isNullOrEmpty($("[name=TxtAppetiteAbnElse99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtAppetiteAbnElse99Other]").val());
            carerecordcont += "腸胃道症狀存。";
        }
    } else if($("input:radio[name=RbnAppetite]:checked").val() == "正常")
    {
        carerecordcont += "食慾正常。";
    }
    else if ($("input:radio[name=RbnAppetite]:checked").val() == "無法評估") {
        carerecordcont += "食慾無法評估。";
    }
        if (!isNullOrEmpty($("input:radio[name=RbnEatingPatterns]:checked").val())) {
            switch ($("input:radio[name=RbnEatingPatterns]:checked").val()) {
                case "由口進食":
                    carerecordcont += "由口進食，";
                    break;
                case "NG Feeding":
                    carerecordcont += "On " + composereplaceComma($("[name=TxtEatPat2_1]").val()) + "fr. NG tube fix" + composereplaceComma($("[name=TxtEatPat2_2]").val()) + "cm，";
                    if ($("input:radio[name=RbnEatPat2Item]:checked").val() != "無") {
                        if (!!$("input:radio[name=RbnEatPat2Item]:checked").val()) {
                            carerecordcont += "使用" + $("input:radio[name=RbnEatPat2Item]:checked").val() + "輔助，";
                        }
                    }
                    carerecordcont += "消化" + composereplaceComma($("[name=TxtEatPat2_3]").val()) + "，";
                    break;
                case "OG tube":
                case "Jujunostomy":
                    carerecordcont += "On " + composereplaceComma($("[name=TxtEatPat2_1]").val()) + "fr. " + $("input:radio[name=RbnEatingPatterns]:checked").val()
                        + " fix" + composereplaceComma($("[name=TxtEatPat2_2]").val()) + "cm，" + "消化" + composereplaceComma($("[name=TxtEatPat2_3]").val()) + "，";
                    break;
                case "ND tube":
                case "PEG":
                    carerecordcont += "On " + $("input:radio[name=RbnEatingPatterns]:checked").val() + "消化" + composereplaceComma($("[name=TxtEatPat2_3]").val()) + "，";
                    break;
                case "其他":
                    if (!isNullOrEmpty($("[name=TxtEatingPatterns99Other]").val()))
                        carerecordcont += "以" + composereplaceComma($("[name=TxtEatingPatterns99Other]").val()) + "方式進食，";
                    break;
            }
        }
           
                    if (!isNullOrEmpty($("[name=TxtDietType99Other]").val()))
                        carerecordcont +=  composereplaceComma($("[name=TxtDietType99Other]").val()) + "。";
                   
            
        if (!isNullOrEmpty($("input:radio[name=RbnPalpation]:checked").val())) {
            if (!isNullOrEmpty($('input[name=ChkPalpationAbn]:checked').val())) {
                var ChkPalpationAbnArr = new Array();
                $("input:checkbox:checked[name=ChkPalpationAbn]").each(function (i) { ChkPalpationAbnArr[i] = this.value; });
                carerecordcont += "腹部觸診" + ChkPalpationAbnArr;
                if (!isNullOrEmpty($("[name=TxtPalpationAbnElse99Other]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtPalpationAbnElse99Other]").val());
                carerecordcont += "，";
            }
            else
                carerecordcont += "腹部觸診" + $("input:radio[name=RbnPalpation]:checked").val() + "，";
        }
        if (!isNullOrEmpty($("[name=TxtPeristalsis]").val()))
            carerecordcont += "腸蠕動" + composereplaceComma($("[name=TxtPeristalsis]").val()) + "次/分，";
        if (!isNullOrEmpty($("input:radio[name=RbnBowelSounds]:checked").val()))
            carerecordcont += "腸音" + $("input:radio[name=RbnBowelSounds]:checked").val() + "。";
        if (!isNullOrEmpty($("input:radio[name=RbnDecompression]:checked").val()) && $("input:radio[name=RbnDecompression]:checked").val() == "有") {
            carerecordcont += "Decompression量" + $("input:radio[name=RbnDecCount]:checked").val() + "，色" + $("input:radio[name=RbnDecColor]:checked").val();
            if (!isNullOrEmpty($("[name=TxtDecColor99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtDecColor99Other]").val());
            carerecordcont += "，呈" + $("input:radio[name=RbnDecNature]:checked").val();
            if (!isNullOrEmpty($("[name=TxtDecNature99Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtDecNature99Other]").val());
            carerecordcont += "狀。";
        }
        return carerecordcont;
    }

    //排泄系統-組字
    function composeUrinationAbn()
    {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnUrination]:checked").val()) || !isNullOrEmpty($("input:radio[name=TxtUrineCharactersAmount]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnUrineColor]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnUrineNature]:checked").val()) || !isNullOrEmpty($("input:radio[name=RbnDefecation]:checked").val()) || !isNullOrEmpty($('input[name=RbnVoidingPattern]:checked').val())) {
            carerecordcont += "\r\n排泄系統：";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnUrination]:checked").val()) && $("input:radio[name=RbnAppetite]:checked").val() == "異常") {
            if (!isNullOrEmpty($('input[name=ChkUrinationAbn]:checked').val())) {
                var ChkUrinationAbnArr = new Array();
                $("input:checkbox:checked[name=ChkUrinationAbn]").each(function (i) { ChkUrinationAbnArr[i] = this.value; });
                carerecordcont += "排尿：" + ChkUrinationAbnArr;
                if (!isNullOrEmpty($("[name=TxtUrinationAbn99Other]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtUrinationAbn99Other]").val());
                carerecordcont += "問題存，";
            }
        } else if ($("input:radio[name=RbnAppetite]:checked").val() == "正常")
        {
            carerecordcont += "排尿：正常。";
        }
        if (!isNullOrEmpty($('input[name=RbnVoidingPattern]:checked').val())) {//特殊狀況，快結案時，說要改成複選所以name規則是舊的
            var RbnVoidingPatternArr = new Array();                             //原始為單選radio，改為checkbox複選
            var TempStr1 = "";var TempStr2="";
            $("input:checkbox:checked[name=RbnVoidingPattern]").each(function (i) { RbnVoidingPatternArr[i] = this.value; });
            $.each(RbnVoidingPatternArr, function (i, item) {
                switch (item) {
                    case "自解":
                        TempStr2 = "病人尿液可自解。";
                        break;
                    case "單次導尿":
                        TempStr1 += item + ",";
                        break;
                    case "導尿管留置":
                        TempStr1 += item + ",";
                        break;
                    case "膀胱造廔":
                        TempStr1 += item + ",";
                        break;
                    case "尿套":
                        TempStr1 += item + ",";
                        break;
                    case "尿布":
                        TempStr1 += item + ",";
                        break;
                    case "其他":
                        TempStr1 += composereplaceComma($("[name=TxtVoidingPattern99Other]").val()) + ",";
                        break;
                }
            });
            TempStr1 = TempStr1.substring(0, TempStr1.length - 1);
            TempStr1 = (TempStr1 != "") ? TempStr1 + "使用。" : "";
            carerecordcont += TempStr1 + TempStr2;
        }
        //if (!isNullOrEmpty($("input:radio[name=RbnVoidingPattern]:checked").val())) {
        //    if ($("input:radio[name=RbnVoidingPattern]:checked").val() == "自解")
        //        carerecordcont += "病人尿液可自解，";
        //    else {
        //        carerecordcont += $("input:radio[name=RbnVoidingPattern]:checked").val();
        //        if (!isNullOrEmpty($("[name=TxtVoidingPattern99Other]").val()))
        //            carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtVoidingPattern99Other]").val());
        //        carerecordcont += "使用。";
        //    }
        //}
        if (!isNullOrEmpty($("input:radio[name=TxtUrineCharactersAmount]:checked").val()))
            carerecordcont += "尿液量" + composereplaceComma($("input:radio[name=TxtUrineCharactersAmount]:checked").val());//name名稱為txt,實際型態為radio
        if (!isNullOrEmpty($("input:radio[name=RbnUrineColor]:checked").val())) {
            carerecordcont += "，色" + $("input:radio[name=RbnUrineColor]:checked").val();
            if (!isNullOrEmpty($("[name=Txt_UrineColor_Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_UrineColor_Other]").val());
        }
        if (!isNullOrEmpty($("input:radio[name=RbnUrineNature]:checked").val())) {
            carerecordcont += "，呈" + $("input:radio[name=RbnUrineNature]:checked").val();
            if (!isNullOrEmpty($("[name=Txt_UrineNature_Other]").val()))
                carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_UrineNature_Other]").val());
            carerecordcont += "狀。";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnDefecation]:checked").val()) && $("input:radio[name=RbnDefecation]:checked").val() == "異常") {
            if (!isNullOrEmpty($('input[name=ChkDefecationAbn]:checked').val())) {
                var ChkDefecationAbnArr = new Array();
                $("input:checkbox:checked[name=ChkDefecationAbn]").each(function (i) { ChkDefecationAbnArr[i] = this.value; });
                carerecordcont += "排便狀況" + ChkDefecationAbnArr;
                if (!isNullOrEmpty($("[name=TxtDefecationAbn99Other]").val()))
                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtDefecationAbn99Other]").val());
                carerecordcont += "問題存。";
            }
        } else if ($("input:radio[name=RbnDefecation]:checked").val() == "正常")
        {
            carerecordcont += "排便：正常。";
        }
        return carerecordcont;
    }


    //骨骼系統-組字
    function composeSkeletalSystemAbn() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("input:radio[name=RbnSkeletalSystem]:checked").val()) && $("input:radio[name=RbnSkeletalSystem]:checked").val() == "異常") {//RbnSkeletalSystem

            if (!isNullOrEmpty($('input[name=ChkSkeletalSystemAbn]:checked').val())) {
                carerecordcont += "\r\n骨骼系統：";
                var ChkSkeletalSystemAbnArr = new Array();
                $("input:checkbox:checked[name=ChkSkeletalSystemAbn]").each(function (i) { ChkSkeletalSystemAbnArr[i] = this.value; });
                $.each(ChkSkeletalSystemAbnArr, function (i, item) { // foreach(string item in form["ChkSkeletalSystemAbn"].Split(','))
                    switch (item) {
                        case "駝背":
                            carerecordcont += item + " 問題存。";
                            break;
                        case "骨折":
                            if (!isNullOrEmpty($('input[name=ChkSkeletalSys2Position]:checked').val())) {
                                var ChkSkeletalSys2PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkeletalSys2Position]").each(function (i) {
                                    ChkSkeletalSys2PositionArr[i] = this.value;
                                    if (this.value == "其他") {
                                        var otherstring = $("input[name=TxtSkeletalSys2PositionOther]").val();
                                        ChkSkeletalSys2PositionArr[i] += ":" + otherstring;
                                    }
                                });
                                carerecordcont += ChkSkeletalSys2PositionArr + " " + item + " 問題存。";
                            }
                            break;
                        case "脫臼":
                            if (!isNullOrEmpty($('input[name=ChkSkeletalSys3Position]:checked').val())) {
                                var ChkSkeletalSys3PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkeletalSys3Position]").each(function (i) {
                                    ChkSkeletalSys3PositionArr[i] = this.value;
                                    if (this.value == "其他") {
                                        var otherstring = $("input[name=TxtSkeletalSys3PositionOther]").val();
                                        ChkSkeletalSys3PositionArr[i] += ":" + otherstring;
                                    }
                                });
                                carerecordcont += ChkSkeletalSys3PositionArr + " " + item + " 問題存。";
                            }
                            break;
                        case "關節腫":
                            if (!isNullOrEmpty($('input[name=ChkSkeletalSys4Position]:checked').val())) {
                                var ChkSkeletalSys4PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkeletalSys4Position]").each(function (i) {
                                    ChkSkeletalSys4PositionArr[i] = this.value;
                                    if (this.value == "其他") {
                                        var otherstring = $("input[name=TxtSkeletalSys4PositionOther]").val();
                                        ChkSkeletalSys4PositionArr[i] += ":" + otherstring;
                                    }
                                });
                                carerecordcont += ChkSkeletalSys4PositionArr + " " + item + " 問題存。";
                            }
                            break;
                        case "截肢":
                            if (!isNullOrEmpty($('input[name=ChkSkeletalSys5Position]:checked').val())) {
                                var ChkSkeletalSys5PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkeletalSys5Position]").each(function (i) {
                                    ChkSkeletalSys5PositionArr[i] = this.value;
                                    if (this.value == "其他") {
                                        var otherstring = $("input[name=TxtSkeletalSys5PositionOther]").val();
                                        ChkSkeletalSys5PositionArr[i] += ":" + otherstring;
                                    }
                                });
                                carerecordcont += ChkSkeletalSys5PositionArr + " " + item + " 問題存。";
                            }
                            break;
                        case "畸形":
                            if (!isNullOrEmpty($('input[name=ChkSkeletalSys6Position]:checked').val())) {
                                var ChkSkeletalSys6PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkeletalSys6Position]").each(function (i) {
                                    ChkSkeletalSys6PositionArr[i] = this.value;
                                    if (this.value == "其他") {
                                        var otherstring = $("input[name=TxtSkeletalSys6PositionOther]").val();
                                        ChkSkeletalSys6PositionArr[i] += ":" + otherstring;
                                    }
                                });
                                carerecordcont += ChkSkeletalSys6PositionArr + " " + item + " 問題存。";
                            }
                            break;
                        case "其他":
                            if (!isNullOrEmpty($("[name=TxtSkeletalSystemAbn99Other]").val()))
                                carerecordcont += composereplaceComma($("[name=TxtSkeletalSystemAbn99Other]").val()) + " 問題存。";
                            break;
                    }
                })
            }
        } else if ($("input:radio[name=RbnSkeletalSystem]:checked").val() == "正常") {
            carerecordcont += "\r\n骨骼系統：正常。";
        }
        if (!isNullOrEmpty($("input:radio[name=RbnBonesEvents]:checked").val()) && $("input:radio[name=RbnBonesEvents]:checked").val() == "異常") {
            if (!isNullOrEmpty($('input[name=ChkBonesEventsAbn]:checked').val())) {
                carerecordcont += "\r\n活動運動：";
                var TempStr1 = "", TempStr2 = "";
                var ChkBonesEventsAbnArr = new Array();
                $("input:checkbox:checked[name=ChkBonesEventsAbn]").each(function (i) { ChkBonesEventsAbnArr[i] = this.value; });
                $.each(ChkBonesEventsAbnArr, function (i, item)   //foreach(string item in form["ChkBonesEventsAbn"].Split(','))
                {
                    switch (item) {
                        case "跛行":
                            TempStr1 += item + ",";
                            break;
                        case "行走疼痛":
                            TempStr1 += item + ",";
                            break;
                        case "使用輔助工具":
                            TempStr1 += item + ",";
                            break;
                        case "義肢":
                            TempStr1 += item + ",";
                            break;
                        case "無法行動":
                            TempStr2 = "病人現臥床無法行動。";
                            break;
                        case "其他":
                            if (!isNullOrEmpty($("[name=TxtBonesEventsAbn99Other]").val()))
                                TempStr1 += composereplaceComma($("[name=TxtBonesEventsAbn99Other]").val()) + ",";
                            break;
                    }
                });
                TempStr1 = TempStr1.substring(0, TempStr1.length - 1);
                carerecordcont += TempStr1 + " 問題存。";
                if (!isNullOrEmpty(TempStr2)) {
                    carerecordcont += TempStr2;
                }
            }
        } else if ($("input:radio[name=RbnBonesEvents]:checked").val() == "行動正常")
        {
            carerecordcont += "\r\n活動運動：病人行動正常。";
        }
        return carerecordcont;
    }


    //皮膚完整-組字
    function composeSkinAppearanceAbn()
    {
        var carerecordcont = "";

        if (!isNullOrEmpty($("input:radio[name=RbnSkinAppearance]:checked").val()) && $("input:radio[name=RbnSkinAppearance]:checked").val() == "異常") {//RbnSkinAppearance
            if (!isNullOrEmpty($('input[name=ChkSkinAppearanceAbn]:checked').val())) {
                carerecordcont += "\r\n皮膚完整性：";
                var ChkSkinAppearanceAbnArr = new Array();
                $("input:checkbox:checked[name=ChkSkinAppearanceAbn]").each(function (i) { ChkSkinAppearanceAbnArr[i] = this.value; });
                $.each(ChkSkinAppearanceAbnArr, function (i, item)  //foreach(string item in form["ChkSkinAppearanceAbn"].Split(','))
                {
                    switch (item) {
                        case "水腫":
                            if (!isNullOrEmpty($('input[name=ChkSkinAppearance6Position]:checked').val())) {
                                var ChkSkinAppearance6PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkinAppearance6Position]").each(function (i) { ChkSkinAppearance6PositionArr[i] = this.value; });
                                carerecordcont += "外觀" + ChkSkinAppearance6PositionArr;
                                if (!isNullOrEmpty($("[name=Txt_SkinAppearance6Position_Other]").val()))
                                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance6Position_Other]").val());
                                carerecordcont += item + $("input:radio[name=RbnSkinAppearAbn6Plus]:checked").val() + "問題存。";
                            }
                            break;
                        case "紅疹":
                            if (!isNullOrEmpty($('input[name=ChkSkinAppearance7Position]:checked').val())) {
                                var ChkSkinAppearance7PositionArr = new Array();
                                $("input:checkbox:checked[name=ChkSkinAppearance7Position]").each(function (i) { ChkSkinAppearance7PositionArr[i] = this.value; });
                                carerecordcont += "外觀" + ChkSkinAppearance7PositionArr;
                                if (!isNullOrEmpty($("[name=Txt_SkinAppearance7Position_Other]").val()))
                                    carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=Txt_SkinAppearance7Position_Other]").val());
                                carerecordcont += item + "問題存。";
                            }
                            break;
                        case "其他":
                            if (!isNullOrEmpty($("[name=TxtSkinAppearanceAbn99Other]").val()))
                                carerecordcont += "外觀" + composereplaceComma($("[name=TxtSkinAppearanceAbn99Other]").val()) + "問題存。";
                            break;
                        default:
                            carerecordcont += "外觀" + item + "問題存。";
                            break;
                    }
                });
            }
        } else if ($("input:radio[name=RbnSkinAppearance]:checked").val() == "正常") {
            carerecordcont += "\r\n皮膚完整性：正常。";
        }
    return carerecordcont;
    }

    //禁治療部位-組字
    function composetabooAbn() {
        var carerecordcont = "\r\n";
        if (!isNullOrEmpty($("input:radio[name=param_taboo_position]:checked").val())) {
            if ($("input:radio[name=param_taboo_position]:checked").val() == "有") {
                var param_taboo_position_txtArr = "", param_taboo_position_otherArr = "";//陣列
                $('[name=param_taboo_position_txt]').map(function () {
                    param_taboo_position_txtArr += $(this).val() + ",";
                });
                $('[name=param_taboo_position_other]').map(function () {
                    param_taboo_position_otherArr += $(this).val() + ",";
                });
                //alert(param_taboo_position_txtArr+"|"+param_taboo_position_otherArr);
                var param_taboo_position = param_taboo_position_txtArr.replace(/,$/, "").split(',');//.Split(new string[] { "※＆" }, StringSplitOptions.None);
                var param_taboo_position_other = param_taboo_position_otherArr.replace(/,$/, "").split(',');//.Split(new string[] { "※＆" }, StringSplitOptions.None);
                if (param_taboo_position.length == param_taboo_position_other.length) {
                    for (var j = 0; j < param_taboo_position.length; j++) {
                        carerecordcont += param_taboo_position[j] + "因" + param_taboo_position_other[j] + "禁治療。";
                    }
                }
            } else
            {
                carerecordcont += "禁治療部位：無。";
            }
        }
        return carerecordcont;
    }

    //生殖系統-組字
    function composeReproductiveSysStatus() {
        var carerecordcont = "\r\n";
        if (!isNullOrEmpty($("input:radio[name=RbnReproductiveSysStatus]:checked").val())) {
            if ($("input:radio[name=RbnReproductiveSysStatus]:checked").val() == "異常") {
                carerecordcont += "生殖系統：";
                if (!isNullOrEmpty($('input[name=ChkRepSysFemale]:checked').val())) {
                    var ChkRepSysFemaleArr = new Array();
                    $("input:checkbox:checked[name=ChkRepSysFemale]").each(function (i) { ChkRepSysFemaleArr[i] = this.value; });
                    carerecordcont += ChkRepSysFemaleArr;
                    if (!isNullOrEmpty($("[name=TxtRepSysFemale99Other]").val()))
                        carerecordcont = carerecordcont.substring(0, carerecordcont.length - 2) + composereplaceComma($("[name=TxtRepSysFemale99Other]").val());
                    carerecordcont += "問題存。";
                }
                if (!isNullOrEmpty($('input[name=ChkRepSysMale]:checked').val())) {
                    var ChkRepSysMaleArr = new Array();
                    $("input:checkbox:checked[name=ChkRepSysMale]").each(function (i) { ChkRepSysMaleArr[i] = this.value; });
                    $.each(ChkRepSysMaleArr, function (i, item)// foreach(string item in form["ChkRepSysMale"].Split(','))
                    {
                        switch (item) {
                            case "腫塊":
                                carerecordcont += composereplaceComma($("[name=TxtRepSysMale3Height]").val()) + "*" + composereplaceComma($("[name=TxtRepSysMale3Width]").val()) + "cm 腫塊存。";
                                break;
                            case "其他":
                                if (!isNullOrEmpty($("[name=TxtRepSysMale99Other]").val()))
                                    carerecordcont += composereplaceComma($("[name=TxtRepSysMale99Other]").val()) + "問題存。";
                                break;
                            default:
                                carerecordcont += item + "問題存。";
                                break;
                        }
                    });
                }
            } else
            {
                carerecordcont += "生殖系統：正常。";
            }
        }
        return carerecordcont;
    }

    //備註-組字
    function composeElseRemark() {
        var carerecordcont = "";
        if (!isNullOrEmpty($("[name=TxtElseRemark]").val())) {//備註//其他
            carerecordcont += "\r\n備註：";
            carerecordcont += composereplaceComma($("[name=TxtElseRemark]").val()) + "。";
        }
        return carerecordcont;
    }

</script>