@{
    Layout = "~/Views/Layout/FormLayout.cshtml";
    @*<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>*@
    <script src="~/Scripts/jquery-2.1.3.min.js"></script>
    ViewBag.Title = "新生兒腳印列印單";
}

@using System.Data;
@{
    DataTable dt = ViewBag.dt; //生產史
    DataRow dtrow = null;
    string chartno = ViewBag.chartNo;
    if (dt != null && dt.Rows.Count > 0)
    {
        dtrow = dt.Rows[0];
    }

    DataTable foot_dt = ViewBag.foot_dt;
}

<style>
    * {
        font-family: TimesNewRoman, EUDC, "標楷體";
    }

    table {
        border: 0px solid #000;
        font-size: 22px;
        width: 100%;
        text-align: center;
        border-collapse: collapse;
        padding-left: 5mm;
        padding-right: 5mm;
    }

    .content td {
        border: 1px solid #000;
        padding: 3px;
        font-size: 22px;
    }
</style>

@if (dtrow == null)
{
    <div>尚未新增生產史資料!</div>
}
else
{
    <div style="width:30%;float:left;text-align:right;font-size:26px;padding-top:15px;">
        @*<img src="@Url.Action("Barcode", new { barCode = ViewBag.BarCode })" />*@
    </div>
    <div style="width:40%;vertical-align:bottom !important;text-align:center;float:left;font-size:32px;padding-top:15px;">
        新生兒腳印紀錄單
    </div>
    <div style="width:30%;float:left;font-size:18px">
        <table style="width:100%;font-size:18px;border-top:0!important;border-right:0!important;border-left:0!important;">
            <tr>
                <td style="width:15%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:right">病歷</td>
                <td style="width:20%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:left" rowspan="2">：</td>
                <td style="width:15%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:right">年</td>
                <td style="width:20%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:left" rowspan="2">：NB</td>
            </tr>
            <tr>
                <td style="width:15%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:right">號碼</td>
                <td style="width:15%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:right">齡</td>
            </tr>
            <tr>
                <td style="width:15%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:right">姓名</td>
                <td style="width:20%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:left">：</td>
                <td colspan="2" style="width:35%;border-top:0!important;border-right:0!important;border-left:0!important;text-align:center">□男□女</td>
            </tr>
            <tr>
                <td colspan="4" style="width:70%;border-top:0!important;border-right:0!important;border-left:0!important;">□門診□急診□住院  床號：</td>
            </tr>
        </table>
    </div>

    <table class="content" border="1" style="width:100%;font-size: 22px;border: 2px solid #000;border-bottom: 0 !important;">
        <tr>
            <td style="width:12%">基本資料</td>
            <td style="width:14%">姓名</td>
            <td style="width:15%">身分證號碼</td>
            <td style="width:18%">生日</td>
            <td style="width:14%">居住地</td>
            <td style="width:13%">國籍</td>
            <td style="width:14%">血型</td>
        </tr>
        <tr>
            <td>產婦</td>
            @if (dtrow == null)
            {
                <td></td>
            }
            else
            {
                <td>@dtrow["PAT_NAME"]</td>
            }
            @if (dtrow == null)
            {
                <td></td>
            }
            else
            {
                <td>@dtrow["PAT_ID"]</td>
            }
            @if (dtrow == null)
            {
                <td></td>
            }
            else
            {
                if (dtrow["PAT_BIRTH"].ToString() == "")
                {
                    <td></td>
                }
                else
                {
                    <td>@Convert.ToDateTime(dtrow["PAT_BIRTH"]).ToString("yyyy/MM/dd")</td>
                }
            }
            @if (dtrow == null)
            {
                <td></td>
            }
            else
            {
                if (dtrow["PAT_ZONEC"].ToString() != "")
                {
                    var city = dtrow["PAT_ZONEC"].ToString().Substring(0, 3);
                    var country = dtrow["PAT_ZONEC"].ToString().Substring(3);
                    <td>@city<br />@country</td>
                }
            }
            @if (dtrow == null)
            {
                <td></td>
            }
            else
            {
                <td>@dtrow["PAT_NAT"]</td>
            }
            @if (dtrow == null)
            {
                <td>&nbsp;&nbsp;&nbsp;</td>
            }
            else
            {
                <td>@dtrow["PAT_BT"]型</td>
            }
        </tr>
        <tr>
            <td>配偶</td>
            @if (dtrow == null)
            {
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>&nbsp;&nbsp;&nbsp;</td>
            }else if (dtrow["MAT_STA"].ToString() == "0")
            {
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>&nbsp;&nbsp;&nbsp;</td>
            }
            else
            {
                <td>@dtrow["MAT_NAME"]</td>
                <td>@dtrow["MAT_ID"]</td>

                if (dtrow["MAT_BIRTH"].ToString() == "")
                {
                    <td></td>
                }
                else
                {
                    <td>@Convert.ToDateTime(dtrow["MAT_BIRTH"]).ToString("yyyy/MM/dd")</td>
                }
                if (dtrow["MAT_ZONEC"].ToString() != "")
                {
                    var city = dtrow["MAT_ZONEC"].ToString().Substring(0, 3);
                    var country = dtrow["MAT_ZONEC"].ToString().Substring(3);
                    <td>@city<br />@country</td>
                }
                else
                {
                    <td></td>
                }
                <td>@dtrow["MAT_NAT"]</td>

                if (dtrow["MAT_BT_N"].ToString() == "1")
                {
                    <td>不詳</td>
                }
                else
                {
                    if (dtrow["MAT_BT"].ToString() == "")
                    {
                        <td>&nbsp;&nbsp;&nbsp;</td>
                    }
                    else
                    {
                        <td>@dtrow["MAT_BT"]型</td>
                    }
                }
            }
        </tr>
    </table>
    <table class="content" border="1" style="width:100%;font-size: 22px;border: 2px solid #000;border-top:0!important;border-bottom:0!important">
        <tr>
            <td style="width:12%;border-top:0!important">產&nbsp;&nbsp;&nbsp;&nbsp;婦<br />病歷號碼</td>
            @if (dtrow == null)
            {
                <td style="width:36%;border-top:0!important" colspan="3"></td>
            }
            else
            {
                <td style="width:36%;border-top:0!important" colspan="3">@chartno</td>
            }
            <td style="width:14.5%;border-top:0!important">嬰&nbsp;&nbsp;&nbsp;&nbsp;兒<br />領回日期</td>
            <td colspan="3" style="width:38%;text-align:left;border-top:0!important;border-right: 2px solid #000 !important">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;年&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;月&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;日
                <br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;時&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分
            </td>
        </tr>
    </table>

    <table class="content" border="1" style="width:100%;font-size: 22px;border: 2px solid #000;border-top:0!important;border-bottom:0!important">
        <tr>
            <td colspan="4" style="text-align:left;border-bottom:0px!important"><span style="font-size:29.3px">@ViewBag.BabySeq</span>出生左腳掌印</td>
            <td colspan="3" style="text-align:left;border-bottom:0px!important">出生右腳掌印</td>
            <td colspan="3" style="text-align:left;border-bottom:0px!important">出院左腳掌印</td>
            <td colspan="5" style="text-align:left;border-bottom:0px!important">出院右腳掌印</td>
        </tr>
        <tr>
            <td colspan="1" style="width:10%; vertical-align:top;text-align:left;height:400px;border-right:0px !important;border-top:0px!important"></td>
            <td colspan="3" rowspan="3" style="width:15%;vertical-align:top;text-align:left;height:400px;border-left:0px !important;border-top:0px!important"></td>
            <td colspan="3" rowspan="3" style="width:25%;vertical-align:top;text-align:left;height:400px;border-left:0px !important;border-top:0px!important"></td>
            <td colspan="3" rowspan="3" style="width:25%;vertical-align:top;text-align:left;height:400px;border-right:0px !important;border-top:0px!important"></td>
            <td colspan="3" rowspan="3" style="width:7%;vertical-align:top;text-align:left;height:400px;border-right:0px !important;border-top:0px!important"></td>
            <td colspan="1" rowspan="3" style="width:8%;vertical-align:top;text-align:left;height:400px;border-right:0px !important;border-left:0px !important;border-top:0px!important"></td>
            <td colspan="1" style="width:10%;vertical-align:top;text-align:left;height:400px;border-left:0px !important;border-top:0px!important"></td>
        </tr>
        <tr>
            <td colspan="1">母親<br/>拇指印</td>
            <td colspan="1">領回者<br />拇指印</td>
        </tr>
        <tr>
            <td colspan="1" style="height:100px"></td>
            <td colspan="1" style="height:100px;"></td>
        </tr>
    </table>
    <table class="content" border="1" style="width:100%;font-size: 22px;border: 2px solid #000;border-top:0!important">
        <tr style="height:90px">
            <td rowspan="2" style="border-top:0!important;width:8%">接生<br />醫師</td>
            <td rowspan="2" style="border-top:0!important;width:15%"></td>
            <td style="border-top:0!important;width:10%">護理師</td>
            <td style="border-top:0!important;width:15%"></td>
            <td style="border-top:0!important;width:11%">兒科<br />醫師</td>
            <td style="border-top:0!important;width:15%"></td>
            <td style="border-top:0!important;width:10%">領回者<br />簽名</td>
            <td style="border-top:0!important;width:17%"></td>
        </tr>
        <tr style="height:50px">
            <td>新生兒<br />護理師</td>
            <td></td>
            <td>新生兒<br />護理師</td>
            <td></td>
            <td>連絡<br />電話</td>
            <td></td>
        </tr>
    </table>
    <div style="font-size:22px;text-align:left;">
        本人暸解：貴院為教學醫院，為促進醫學教育，培養未來優秀之醫療人員，新生兒可能成為醫院醫學活動的對象；但本人有權利拒絕任何與診斷或治療無關之教學活動；本人的拒絕，並不會影響到貴院醫療人員對新生兒所提供之醫療服務。
        <br />
        本人□同意 □不同意 簽名_____________________ 新生兒成為醫院教學活動的可能對象。
    </div>
    <br />
    <div style="font-size:18px;text-align:left;">
        (2020_Q1)恩主公醫院BAIA080-009-02
    </div>
}