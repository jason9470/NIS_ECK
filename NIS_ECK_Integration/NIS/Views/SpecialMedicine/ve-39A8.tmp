@{
    ViewBag.Title = "護理資訊系統-特殊給藥";
    //Layout = "~/Views/Layout/Main.cshtml";
    Layout = "~/Views/Layout/FormLayout.cshtml";
}

<script type="text/javascript">

    window.onload = function () {
        $("#btn_specail_list").css("background-color", "#666666");
        $("#btn_specail_list").css("color", "#FFFFFF");
    }

    $(document).ready(function () { //div中table樣式
        $(".gridview tr:odd").addClass("odd");     //奇數行設定為 "odd" 樣式
        $(".gridview tr:even").addClass("even");   //偶數行設定為 "even" 樣式
        $(".gridview tr").mouseover(function () { $(this).addClass("over"); })     //當 mouseover 時加入 "over" 樣式
                         .mouseout(function () { $(this).removeClass("over"); })   //當 mouseout 時移除 "over" 樣式

    });
    //查詢(刪除按鈕是否打勾)
    function quiry() {
        if (document.getElementById("ck_del").checked == true) {
            //   alert("true");
            $("#ck_delck").val('true');
        } else {
            //  alert("false");
            $("#ck_delck").val('false');
        }

    }
    //彈出div
    function showPopup(id) {
        // $('#'+ id).css("display", "inline");
        var popup = document.getElementById(id);
        popup.style.display = 'block';
        // alert(id);
    }
    function changecolor(id) {
        var e = new Array(7);
        e[0] = "A"; e[1] = "B"; e[2] = "C"; e[3] = "D"; e[4] = "E"; e[5] = "F"; e[6] = "G"; e[7] = "H";
        for (i = 0; i < e.length; i = i + 1) {
            for (j = 1; j < 9; j = j + 1) {
                $("#" + e[i] + j).css("background-color", "white");
            }
        }
        $("#" + id).css("background-color", "red");
        $("#POSITION").val(id);
    }
    //新增特殊藥物注射紀錄"存檔"
    function exist(id) {

        var indate = $('#now_day').val();
        indate += " " + $('#now_time').val();

        //  $("#_FEENO").val();
        $("#_INDATE").val(indate);

        $("#_POSITIOM").val();
        $("#_REVIEW").val();
        $("#_DRUGNAME").val();
        $("#_DOSE").val();
        $("#_DOSEUNIT").val();


        $("#_REASON").val();
        $("#_REASONTYPE").val();
        $("#_INJECTION").val();
        $("#_PAGE").val();
        if (id == "") {
            $("#_STATUS").val('new');
            $("#_SDID").val();
        }
        else {
            $("#_STATUS").val('upd');
            $("#_SDID").val('');
        }
        alert('tt');
    }
    //施打備註原因視窗出現
    function rinput(type) {

        if (type == 'type_notyet') {
            $("#type_notyet").fadeIn(500);
            $("#type_early").css("display", "none");
            $("#type_delay").css("display", "none");
            $("#type_other").css("display", "inline");
        } else if (type == 'type_early') {
            $("#type_early").fadeIn(500);
            $("#type_notyet").css("display", "none");
            $("#type_delay").css("display", "none");
            $("#type_other").css("display", "inline");
        } else if (type == 'type_delay') {
            $("#type_delay").fadeIn(500);
            $("#type_notyet").css("display", "none");
            $("#type_early").css("display", "none");
            $("#type_other").css("display", "inline");
        } else {
            $("#type_notyet").css("display", "none");
            $("#type_early").css("display", "none");
            $("#type_delay").css("display", "none");
            $("#type_other").css("display", "none");
        }
    }
</script>
<style type="text/css">
    th
    {
        background: #99CCFF;
        text-align: center;
    }
    
    td
    {
        color: #333311;
    }
    tr.even
    {
        background: #F5F5F5;
    }
    
    tr.odd
    {
        background: #EEF5FC;
    }
    
    tr.over td
    {
        background: #CDE6FF;
        color: #000000;
    }
    .table-01
    {
        border-collapse: collapse;
        border: 1px solid #55A8FF;
           font-weight: bold;
    }
   .popup {
    width:auto;
    height:auto;
    position:absolute;
    background-color:#EFEFFF;
    padding: 10px 15px 10px 15px;
    border: 1px solid #999999;
    box-shadow: 5px 5px 5px #666;
    border-radius:15px 15px 15px 15px;
    top:50%;
    left:50%;
    margin:-250px 0 0 -500px; /* [-(height/2)px 0 0 -(width/2)px] */
    display:none;
    z-index:99;
  }
</style>
@using System.Data;
@{
    Random rd = new Random();
    DataTable table = ViewBag.table;
    if(ViewBag.ck != null){
    bool ck = ViewBag.ck;} 
    string udodrgcode = ViewBag.udodrgcode;

    DateTime start_day = DateTime.Now;
    DateTime end_day = DateTime.Now;
    if (ViewBag.start_day != null)
    { start_day = ViewBag.start_day; }
    if (ViewBag.end_day != null)
    { end_day = ViewBag.end_day; }
        
    }
<form method="post" action="List">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <td style="padding: 0px 0px 0px 10px; width: 80%">
            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                <tr>
                    <td style="text-align: center;">
                        @Html.Partial("CommonMedicine_Tab")
                    </td>
                </tr>
                <tr>
                    <td style="padding: 5px 0px 0px 0px;">
                  
                        @Html.TextBox("start_day", @DateTime.Now.AddDays(-7).ToString("d"), new { style = "width:80px;", @readonly = "readonly" })
                        @Html.TextBox("start_time", @DateTime.Now.ToString("HH:mm"), new { style = "width:50px;", @readonly = "readonly" })
                        <script type="text/javascript">
                            $(function () {
                                $('#start_day').datetimepicker({
                                    altField: "#start_time"
                                });
                            });
                        </script>
                        @Html.Label("lab", " ~ ")
                        @Html.TextBox("end_day", @DateTime.Now.ToString("d"), new { style = "width:80px;", @readonly = "readonly" })
                        @Html.TextBox("end_time", @DateTime.Now.ToString("HH:mm"), new { style = "width:50px;", @readonly = "readonly" })
                        <script type="text/javascript">
                            $(function () {
                                $('#end_day').datetimepicker({
                                    altField: "#end_time"
                                });
                            });
                        </script>
                       
                        <input   id ="ck_del" name="ck_del[]"  type="checkbox"/>
                        <label for="ck_del">包含已刪除紀錄</label>
                         <input id="ck_delck" type="hidden" name="ck" value="false" />
                        <input id="search" class="btn_m" type="submit" value="查詢"  onclick="quiry();"/>
                        @*<input id="btn_Insert" type="button" class="btn_m" value="新增血糖監測記錄" onclick="@Java_funcion.pup_window("BloodSugar_Insert", 450, 480, "")" />*@
                        @*<input id="btn_Insert2" type="button" class="btn_m" value="新增特殊藥物記錄"  onclick="@Java_funcion.pup_window("../SpecialMedicine/Insert", 970, 650, "0")"; />*@
                    <input id="btn_Insert2" type="button" class="btn_m" value="新增特殊藥物記錄"  onclick="showPopup('dv_new');" />
                    </td>
                </tr>
                <tr>
                    <td style="padding: 5px 0px 0px 0px;">
                         說明：<font color="#666666">@@：刪除註記</font>
                        <div class="gv_area">
                    
                        </div>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</form>
<form method="post" action="List">
<table border="0" cellpadding="0" cellspacing="0" style="width: 100%;">
    <tr>
        <td style="padding: 0px 0px 0px 10px; width: 100%">
            <table class="gridview" border="0" cellpadding="0" cellspacing="1" width="100%">
                <tr>
                    <th>
                    </th>
                    <th>
                    </th>
                    <th>
                        @Html.Label("lab", "日期")
                    </th>
                    <th>
                        @Html.Label("lab", "部位")
                    </th>
                    <th style="width: 50%;">
                        @Html.Label("lab", "藥物與劑量")
                    </th>
                    <th>
                        @Html.Label("lab", "注射者/紀錄者簽名")
                    </th>
                </tr>
                @foreach (DataRow r in table.Rows)
                {
                    <tr>
                        <td style="text-align: center">
                           @* <input id="btn_Upd" type="button" value="更新" onclick="@Java_funcion.pup_window("Insulin_Insert", 970, 650, "0");" />*@
                            <input id="btn_Upd" type="button" value="更新" onclick="@Java_funcion.pup_window("../SpecialMedicine/Insert?SDID="+@r["SDID"]+"&feeno="+@r["FEENO"], 970, 650, "0");" />
                        </td>
                        <td style="text-align: center">
                             <input id="btn_Del" type="submit" value="刪除" onclick="if(confirm('確認刪除?')){if(confirm('是否保留護理紀錄內容?'))alert('success')}" />
                            @*<input id="btn_Del" type="button" value="刪除" onclick="if(confirm('確認刪除?')){if(confirm('是否保留護理紀錄內容?'))alert('success')}" />*@
                             <input id="_SDID" type="hidden" value="@r["SDID"]" name="SDID" />
                        </td>
                        <td>
                            @r["INDATE"]
                        </td>
                        <td>
                             @if (@r["STATUS"].ToString().Trim() == "del")
                                 {   @:@@       
                                 }     
                            @r["POSITION"]
                        </td>
                        <td>
                            @r["DRUGNAME"] @r["DOSE"] @r["DOSEUNIT"]
                        </td>
                        <td>
                            @r["INJECTION"]
                        </td>
                    </tr>
                        }
            </table>
        </td>
    </tr>
</table>
</form>
<form method="post" action="List">
<div id="dv_new" class="popup"  style=" width:800; height:600; display:none;">
<span class="p_close"><img src="~/Images/Close.png" alt="關閉" onclick="$('#dv_new').fadeOut(500);"/></span>
<table border="1" style=" width:100%; height:100%">
    <tr><td align="center" style=" width:35%; height:100%; background-image: url('http://localhost:7646/Images/Character/bady.jpg'); background-repeat: no-repeat;">
    @*   <img src="~/Images/Character/bady.png" alt="" 
                            border="0" usemap="#Map" longdesc="~/Images/Character/bady.png" />*@
        <table border="0" cellpadding="0" cellspacing="0" style=" width:50px; height:100%" align="center">
            <tr><td style=" width:23%;" >
                <table border="1" width="50px"  >
                    <tr><td colspan="2" align="right">
                        @Html.Label("lab","A")
                    </td></tr>
                            
                    <tr><td>
                        <div id="A1" onclick="changecolor('A1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="A2" onclick="changecolor('A2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="A3" onclick="changecolor('A3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="A4" onclick="changecolor('A4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="A5" onclick="changecolor('A5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="A6" onclick="changecolor('A6')" >@Html.Label("lab", "6")</div>
                    </td></tr>
                    
                    <tr><td>
                        <div id="A7" onclick="changecolor('A7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="A8" onclick="changecolor('A8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td style=" width:23%;">
            </td><td style=" width:8%;">&nbsp;&nbsp;&nbsp;&nbsp;
            </td><td style=" width:23%;">
            </td><td style=" width:23%;">
                <table border="1" width="50px"  >
                    <tr><td colspan="2" align="left" style=" width:100px;">
                        @Html.Label("lab", "E")
                    </td></tr>
                            
                    <tr><td>
                        <div id="E1" onclick="changecolor('E1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="E2" onclick="changecolor('E2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="E3" onclick="changecolor('E3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="E4" onclick="changecolor('E4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="E5" onclick="changecolor('E5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="E6" onclick="changecolor('E6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="E7" onclick="changecolor('E7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="E8" onclick="changecolor('E8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td></tr>

            <tr><td>
            </td><td>
                <table border="1" width="65px">
                    <tr><td colspan="2" align="right">
                        @Html.Label("lab", "B")
                    </td></tr>
                            
                    <tr><td>
                        <div id="B1" onclick="changecolor('B1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="B2" onclick="changecolor('B2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="B3" onclick="changecolor('B3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="B4" onclick="changecolor('B4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="B5" onclick="changecolor('B5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="B6" onclick="changecolor('B6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="B7" onclick="changecolor('B7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="B8" onclick="changecolor('B8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td>
            </td><td>
                <table border="1" width="65px">
                    <tr><td colspan="2" align="left">
                        @Html.Label("lab", "F")
                    </td></tr>
                            
                    <tr><td>
                        <div id="F1" onclick="changecolor('F1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="F2" onclick="changecolor('F2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="F3" onclick="changecolor('F3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="F4" onclick="changecolor('F4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="F5" onclick="changecolor('F5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="F6" onclick="changecolor('F6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="F7" onclick="changecolor('F7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="F8" onclick="changecolor('F8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td>
                   </td></tr>

            <tr><td>
            </td><td>
                <table border="1" width="100%">
                    <tr><td colspan="2" align="right">
                        @Html.Label("lab", "C")
                    </td></tr>
                            
                    <tr><td>
                        <div id="C1" onclick="changecolor('C1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="C2" onclick="changecolor('C2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="C3" onclick="changecolor('C3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="C4" onclick="changecolor('C4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="C5" onclick="changecolor('C5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="C6" onclick="changecolor('C6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="C7" onclick="changecolor('C7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="C8" onclick="changecolor('C8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td>
            </td><td>
                <table border="1" width="100%">
                    <tr><td colspan="2" align="left">
                        @Html.Label("lab", "G")
                    </td></tr>
                            
                    <tr><td>
                        <div id="G1" onclick="changecolor('G1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="G2" onclick="changecolor('G2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="G3" onclick="changecolor('G3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="G4" onclick="changecolor('G4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="G5" onclick="changecolor('G5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="G6" onclick="changecolor('G6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="G7" onclick="changecolor('G7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="G8" onclick="changecolor('G8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td>
            </td></tr>
        </table>
    </td>
    <td align="center" style=" width:35%; height:100%; background-image: url('http://localhost:7646/Images/Character/bady2.jpg'); background-repeat: no-repeat;">
        <table border="0" cellpadding="0" cellspacing="0" 
            style=" width:95%; height:344px; margin-top: 0px;" align="center">
            <tr><td colspan="5" style=" width:100%; height:30%"></td></tr>
            <tr><td style=" width:23%;">
            </td><td align="right" style=" width:23%; height:70%">
                <table border="1">
                    <tr><td colspan="2" align="right" style=" width:24%;">
                        @Html.Label("lab", "H")
                    </td></tr>
                            
                    <tr><td>
                        <div id="H1" onclick="changecolor('H1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="H2" onclick="changecolor('H2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="H3" onclick="changecolor('H3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="H4" onclick="changecolor('H4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="H5" onclick="changecolor('H5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="H6" onclick="changecolor('H6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="H7" onclick="changecolor('H7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="H8" onclick="changecolor('H8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td style=" width:8%;">
            </td><td style=" width:23%;">
                <table border="1">
                    <tr><td colspan="2" align="left" style=" width:24%;">
                        @Html.Label("lab", "D")
                    </td></tr>
                            
                    <tr><td>
                        <div id="D1" onclick="changecolor('D1')" >@Html.Label("lab", "1")</div>
                    </td><td>
                        <div id="D2" onclick="changecolor('D2')" >@Html.Label("lab", "2")</div>
                    </td></tr>

                    <tr><td>
                        <div id="D3" onclick="changecolor('D3')" >@Html.Label("lab", "3")</div>
                    </td><td>
                        <div id="D4" onclick="changecolor('D4')" >@Html.Label("lab", "4")</div>
                    </td></tr>

                    <tr><td>
                        <div id="D5" onclick="changecolor('D5')" >@Html.Label("lab", "5")</div>
                    </td><td>
                        <div id="D6" onclick="changecolor('D6')" >@Html.Label("lab", "6")</div>
                    </td></tr>

                    <tr><td>
                        <div id="D7" onclick="changecolor('D7')" >@Html.Label("lab", "7")</div>
                    </td><td>
                        <div id="D8" onclick="changecolor('D8')" >@Html.Label("lab", "8")</div>
                    </td></tr>
                </table>
            </td><td style=" width:23%;">
            </td></tr>
        </table>
    </td>
    <td style=" width:30%; height:100%;" class ="dtl_VS">
        @Html.CheckBox("ck")
        @Html.Label("ck", "是否為當機補輸資料？")
        <div class="dtl_VS" style="width:100%; height:100%">

            <table   style="border-collapse: collapse; border-style: solid; border-width: 1px;width:100%; height:100%;" >
                <tr>
                    <td>
                          @Html.TextBox("now_day", @DateTime.Now.ToString("d"), new { style = "width:80px;", @readonly = "readonly" })
                          @Html.TextBox("now_time", @DateTime.Now.ToString("HH:mm"), new { style = "width:50px;", @readonly = "readonly" })
                           <script type="text/javascript">
                               $(function () {
                                   $('#now_day').datetimepicker({
                                       altField: "#now_time"
                                   });
                               });
                           </script> 
                    </td>
                </tr>
                <tr>
                    <td>
                        @Html.Label("lab", "給藥前覆核人員:")
                        @Html.TextBox("txt", "", new { id = "REVIEW", style = "width:80px" })
                    </td>
                </tr>
                <tr>
                    <td>
                    
                        單次給藥劑量
                        @Html.TextBox("txt", "1.5", new { style = "width:50px" })
                        unlt
                        <br />
                        <br />  
                        Sliding scale
                        <br /> 
                        @*@Html.DropDownList("List2", ViewData["List"] as SelectList, "藥名")*@
                        @Html.TextBox("txt", "30", new { style = "width:50px" })
                        unlt
                    </td>
                </tr>
                <tr>
                    <td>
                    	@Html.Label("lab", "注射部位:")  
                        @Html.TextBox("txt", "", new {id="POSITION" ,style = "width:80px" })                          
                    </td>
                </tr>
                </table>
                <table>
                <tr>
                    <td>
                        @Html.RadioButton("injection_execution", "1", false, new { id = "injection_execution1", onclick = "rinput('type_notyet')" }) 
			            @Html.Label("injection_execution1", "未執行") 
			            @Html.RadioButton("injection_execution", "2", false, new { id = "injection_execution2", onclick = "rinput('type_early')" }) 
			            @Html.Label("injection_execution2", "提早執行") 
			            @Html.RadioButton("injection_execution", "3", false, new { id = "injection_execution3", onclick = "rinput('type_delay')" }) 
			            @Html.Label("injection_execution3", "延遲執行") 
                        <br /> 
                        @Html.RadioButton("injection_execution", "4", false, new { id = "injection_execution4", onclick = "rinput('type_refuse')" }) 
			            @Html.Label("injection_execution4", "拒絕") 
			            @Html.RadioButton("injection_execution", "5", false, new { id = "injection_execution5", onclick = "rinput('type_')" })
			            @Html.Label("injection_execution5", "暫停") 
			            @Html.TextBox("injection_execution5", "", new { @class = "injection_execution5", @id = "other", @style = "display:inline;width:80px;" })
                    </td>
                </tr>
                </table>
            <div id="type_early" style="display: none;">
                <table>
                    <tr>
                        <th>
                            提早給原因
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <label id="A1s" onclick="reason('手術','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "手術")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A2s" onclick="reason('洗腎','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "洗腎")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A3s" onclick="reason('請假','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "請假")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A4s" onclick="reason('病人要求','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "病人要求")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A5s" onclick="reason('檢查','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "檢查")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A6s" onclick="reason('病情需求','A');$('#dv_type').fadeOut(500)">@Html.Label("lab", "病情需求")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A7s" onclick="reason('自行帶回');$('#dv_type').fadeOut(500)">@Html.Label("lab", "自行帶回")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="A8s" onclick="changecolor('')">@Html.Label("lab", "")</label>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="display: none;" id="type_delay">
                <table>
                    <tr>
                        <th>
                            延遲原因
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <label id="B1s" onclick="reason('手術','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "手術")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B2s" onclick="reason('洗腎','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "洗腎")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B3s" onclick="reason('病人外出','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "病人外出")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B4s" onclick="reason('檢查','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "檢查")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B5s" onclick="reason('請假','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "請假")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B6s" onclick="reason('禁食','B');$('#dv_type').fadeOut(500)">@Html.Label("lab", "禁食")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B7s" onclick="changecolor('')">@Html.Label("lab", "")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="B8s" onclick="changecolor('')">@Html.Label("lab", "")</label>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="display: none;" id="type_notyet">
                <table>
                    <tr>
                        <th>
                            未執行原因
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <label id="C1s" onclick="reason('請假未給','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "請假未給")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C2s" onclick="reason('病人拒服','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "病人拒服")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C3s" onclick="reason('禁食','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "禁食")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C4s" onclick="reason('血壓偏低','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "血壓偏低")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C5s" onclick="reason('血糖偏低','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "血糖偏低")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C6s" onclick="reason('返家服用','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "返家服用")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C7s" onclick="reason('暫停使用','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "暫停使用")</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label id="C8s" onclick="reason('近常規時間','C');$('#dv_type').fadeOut(500)">@Html.Label("lab", "近常規時間")</label>
                        </td>
                    </tr>
                </table>
            </div>
            <table style="display: none;">
                <tr>
                    <th>
                        過時給藥原因
                    </th>
                </tr>
                <tr>
                    <td>
                        <label id="D1s" onclick="changecolor('手術','D')">@Html.Label("lab", "手術")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D2s" onclick="changecolor('洗腎','D')">@Html.Label("lab", "洗腎")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D3s" onclick="changecolor('病人外出','D')">@Html.Label("lab", "病人外出")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D4s" onclick="changecolor('檢查','D')">@Html.Label("lab", "檢查")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D5s" onclick="changecolor('請假','D')">@Html.Label("lab", "請假")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D6s" onclick="changecolor('禁食','D')">@Html.Label("lab", "禁食")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D7s" onclick="changecolor('藥物未到','D')">@Html.Label("lab", "藥物未到")</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label id="D8s" onclick="changecolor('配合醫師使用','D')">@Html.Label("lab", "配合醫師使用")</label>
                    </td>
                </tr>
            </table>
            <div style="display: none;" id="type_other">
                <table>
                    <tr>
                        <td>
                            @Html.TextBox("other1", "", new { id = "other1" })
                        </td>
                    </tr>
                </table>
            </div>
                <table>
                <tr>
                    <td>
                         @foreach (DataRow r in table.Rows)
                         {
                            <input id="_FEENO" type="hidden" value="@r["FEENO"]" name="data[0].FEENO" />
                            <input id="_INDATE" type="hidden" value=" " name="data[0].INDATE" />
                            <input id="_POSITIOM" type="hidden" value=" " name="data[0].POSITION" />
                            <input id="_REVIEW" type="hidden" value=" " name="data[0].REVIEW" />
                            <input id="_DRUGNAME" type="hidden" value=" " name="data[0].DRUGNAME" />
                            <input id="_DOSE" type="hidden" value=" " name="data[0].DOSE" />
                            <input id="_DOSEUNIT" type="hidden" value=" " name="data[0].DOSEUNIT" />
                            <input id="_STATUS" type="hidden" value="new" name="data[0].STATUS" />
                           @* <input id="_SDID" type="hidden" value="@r["SDID"]" name="data[0].SDID" />*@
                            <input id="_REASON" type="hidden" value=" " name="data[0].REASON" />
                            <input id="_REASONTYPE" type="hidden" value=" " name="data[0].REASONTYPE" />
                            <input id="_INJECTION" type="hidden" value=" " name="data[0].INJECTION" />
                            <input id="_PAGE" type="hidden" value=" " name="data[0].PAGE" />             
                         }
                        <input id="add" type="submit" value="確定" onclick="exist('');$('#dv_new').fadeOut(500);submit();" />
                        <input id="back" type="button" value="放棄目前編輯資料" onclick="window.close();" /><br /> 
                    </td>
                </tr>
                <tr>
                    <td  align="center">
                        @Html.Label("lab", "已注射部位", new { style = "background-color: #6699FF" })<br /> 
                        @Html.Label("lab", "最後一次注射部位", new { style = "background-color: yellow" })<br /> 
                        @Html.Label("lab", "禁忌與據打部位", new { style = "background-color: silver" })<br /> 
                        <input id="clear" type="button" value="清除顏色" onclick="changecolor();" />
                    </td>
                </tr>
                <tr>
                    <td>
         
                    </td>
                </tr>
            </table>
         
        </div>
    </td>
    </tr>
    
</table>
</div>
</form>