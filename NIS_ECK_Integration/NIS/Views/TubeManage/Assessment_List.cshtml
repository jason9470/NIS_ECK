@using System.Data;
@{    
        Layout = "~/Views/Layout/FormLayout.cshtml";
        //日期選擇器，鎖定時間
        NIS.Data.PatientInfo pf = (NIS.Data.PatientInfo)Session["PatInfo"];
        NIS.Data.Complement_List complement_List = (NIS.Data.Complement_List)Session["Complement_List"];
        DataTable dt_Artery = ViewBag.dt_Artery;
        DataTable dt_Tracheostomy = ViewBag.dt_Tracheostomy;
        DataTable dt_Other = ViewBag.dt_Other;
        string strat = ViewBag.start;
        string end = ViewBag.end;
        string del_func = "";
        var type = ViewBag.type;

    }
<script type="text/javascript">
    var type = '@type';

    $(document).ready(function () {
        //20231016 ken 新增類別預帶
        switch (type) {
            case 'A':
                $("#Artery").click();
                break;
            case 'T':
                $("#Tracheostomy").click();
                break;
            case 'O':
                $("#Other").click();
                break;
        }
    });
    $(function () {
        close_pup_window();
        $("#btn_tube_ass_list").css("background-color", "#666666");
        $("#btn_tube_ass_list").css("color", "#FFFFFF");

        $(window).resize(function () {
            var height = $(this).outerHeight();
            if (height <= 300)
                height = 450;
            $(".dataArea").outerHeight(height - 140);
        }).trigger("resize");

        setGridColor();

        //LU 20230118 增加TOOLTIP 20230927 依需求修正內容
        var $bc_table = $('.bc_table');
        $bc_table.each(function () {
            var bundle_care_type = this.getAttribute("bundle-care-type");
            var recordtime = this.getAttribute("record-time");
            var newversion = new Date('2023-11-21 12:00:00');
            var recorddate = new Date(recordtime);
            var needBundle = false;
            if(newversion < recorddate)
            {
                needBundle = true;
            }
            if ((bundle_care_type == "1" || bundle_care_type == "2" || bundle_care_type == "3" ) && needBundle == true) {
                get_bundle(this.id);
            } else {
                //20231016 ken 移除無Bundle Care 照護紀錄評估需求
                //this.title ="無Bundle Care 照護紀錄評估需求";
                //$(this).append('<img src="/NIS/Images/med_dictionary.png" class="medbook" border="0">');
            }
        });

        //LU 20230130 修改arterybundle 資料加載 尚未使用
        var $bc_table1 = $('.11bc_table');
        $bc_table1.each(function () {
            var title = this.title
            if (title) {
                this.innerText = 'detail';
            };
        });
    });

    function setGridColor() {
        //格行換色
        $('.dataArea tr:odd').css('background', '#ABC8E2');
        $('.dataArea tr:even').css('background', '#E1E6FA');
        $('.dataArea th').css('background', '#85A5CC');
    }

    function check_sputum_Info() {
        //檢查 痰液
        var s1 = $("#color_drainage :selected").text();
        alert("sputun2 = " + s1);
        if (s1 != "" && s1 != "無") {
            var s2 = $("#taste_drainage :selected").text();
            var s3 = $("#nature_drainage :selected").text();
            if (s2 == "") {
                alert('請選擇 痰液 氣味!');
                success = false;
                return false;
            }
            if (s3 == "") {
                alert('請選擇 痰液 性質!');
                success = false;
                return false;
            }
        }
    }

    //LU 20230118 資料接收    修改版
    function get_bundle(assid) {

        var $obj = $('#' + assid);
        var url = "../TubeManage/SELECT_BundleCare?ass_id=" + assid;
        //var url = "@Url.Action("SELECT_BundleCare", "TubeManage")?ass_id=" + assid;
        $.ajax({
            url: url,
            method: 'POST',
            success: function (r) {
                var R = JSON.parse(r);
                var text = R.message;
                if (text) {
                    $obj.attr('title', text);
                    $obj.html('<img src="../Images/med_dictionary.png" class="medbook" border="0">');
                } else {
                    $obj.attr('title', "未進行 Bundle Care 照護紀錄評估");
                    $obj.html('<img src="../Images/med_dictionary.png" class="medbook" border="0">');
                }
            },
            error: function () {
                alert("無法送出");
            }
        });
    }

    //LU 20230116 資料接收   目前未使用
    function get_bundle1(assid) {
        var $obj = $('#' + assid);
        //var url = "/TubeManage/SELECT_BundleCare1?ass_id=" + assid;
        var url = "@Url.Action("SELECT_BundleCare1", "TubeManage")?ass_id=" + assid;
        $.ajax({
            url: url,
            method: 'POST',
            success: function (r) {
                var R = JSON.parse(r);
                if (R.message) {
                    var type = R.message;
                    var result = R.attachment;
                    var text = to_bundle_line(type, result);
                    if (text) {
                        $obj.attr('title', text);
                        $obj.html('<img src="/Images/med_dictionary.png" class="medbook" border="0">');
                    }
                }
            },
            error: function () {
                alert("無法送出");
            }
        });
    }

    //LU 20230117 調整顯示資料  目前未使用
    function to_bundle_line(type, result) {
        if ("UTI" == type) {
            var obj = {
                導管需要留存原因: [],
                手部衛生: [],
                "密閉、無菌且通暢的引流系統，避免管路扭曲或壓折": [],
                集尿袋不可超過8分滿: [],
                尿道口清潔無分泌物及異味: [],
                尿道口清潔方式: []
            };
            for (var idx in result) {
                if ("bundle_uti_reason" == result[idx].NAME) {
                    obj.導管需要留存原因.push(result[idx].VALUE);
                } if ("bundle_uti_hand" == result[idx].NAME) {
                    obj.手部衛生.push(result[idx].VALUE);
                } else if ("bundle_uti_tube" == result[idx].NAME) {
                    obj["密閉、無菌且通暢的引流系統，避免管路扭曲或壓折"].push(result[idx].VALUE);
                } else if ("bundle_uti_bag" == result[idx].NAME) {
                    obj.集尿袋不可超過8分滿.push(result[idx].VALUE);
                } else if ("bundle_uti_clean_condition" == result[idx].NAME) {
                    obj.尿道口清潔無分泌物及異味.push(result[idx].VALUE);
                } else if ("bundle_uti_clean_method" == result[idx].NAME) {
                    obj.尿道口清潔方式.push(result[idx].VALUE);
                }
            }
        } else if ("VAP" == type) {
            var obj = {
                使用呼吸器適應症: [],
                中止鎮靜劑: [],
                口腔照護: [],
                床頭抬高: [],
                排空積水: []
            };
            for (var idx in result) {
                if ("bundle_vap_reason" == result[idx].NAME) {
                    obj.使用呼吸器適應症.push(result[idx].VALUE);
                } if ("bundle_vap_sedation" == result[idx].NAME) {
                    obj.中止鎮靜劑.push(result[idx].VALUE);
                } else if ("bundle_vap_mouth" == result[idx].NAME) {
                    obj.口腔照護.push(result[idx].VALUE);
                } else if ("bundle_vap_bed_height" == result[idx].NAME) {
                    obj.床頭抬高.push(result[idx].VALUE);
                } else if ("bundle_vap_effusion" == result[idx].NAME) {
                    obj.排空積水.push(result[idx].VALUE);
                }
            }
        } else if ("BSI" == type) {
            var obj = {
                導管是否需要留存: [],
                手部衛生: [],
                敷料有效起始日: [],
                敷料有效截止日: [],
                "置放部位有無紅、腫、熱、痛等情形": [],
                合併症: [],
                是否感染: [],
                消毒皮膚方式: [],
                管路照護消毒: []
            };
            for (var idx in result) {
                if ("bundle_bsi_retention" == result[idx].NAME) {
                    obj.導管是否需要留存.push(result[idx].VALUE);
                } if ("bundle_bsi_hand" == result[idx].NAME) {
                    obj.手部衛生.push(result[idx].VALUE);
                } else if ("bundle_bsi_date_start_date" == result[idx].NAME) {
                    obj.敷料有效起始日.push(result[idx].VALUE);
                } else if ("bundle_bsi_date_end_date" == result[idx].NAME) {
                    obj.敷料有效截止日.push(result[idx].VALUE);
                } else if ("bundle_bsi_position" == result[idx].NAME) {
                    obj["置放部位有無紅、腫、熱、痛等情形"].push(result[idx].VALUE);
                } else if ("bundle_bsi_complication" == result[idx].NAME) {
                    obj.合併症.push(result[idx].VALUE);
                } else if ("bundle_bsi_complication_infection" == result[idx].NAME) {
                    obj.是否感染.push(result[idx].VALUE);
                } else if ("bundle_bsi_skin_disinfect" == result[idx].NAME) {
                    obj.消毒皮膚方式.push(result[idx].VALUE);
                } else if ("bundle_bsi_tube_disinfect" == result[idx].NAME) {
                    obj.管路照護消毒.push(result[idx].VALUE);
                }
            }
        }
        obj = JSON.stringify(obj);
        obj = obj.substring(1, obj.length - 1);

        var texts = obj.split('],');
        $.each(texts, function (k) {
            texts[k] = '\n' + texts[k];
            texts[k] = texts[k].replace('[', '');
            texts[k] = texts[k].replace('\"', '');
            texts[k] = texts[k].replace('\"', '');
            texts[k] = texts[k].replace(']', '');
        });
        return texts;
    }

</script>
<div class="funcArea">
    <table border="0" cellpadding="0" cellspacing="0" style="width:100%;">
        <tr>
            <td style="padding-bottom:5px;text-align:center;">
                <input id="btn_tube_index" type="button" value="管路管理" onclick="window.location.href = 'Index';" />
                <input id="btn_tube_ass_list" type="button" value="管路評估" onclick="window.location.href = 'Assessment_List';" />
            </td>
        </tr>
        <tr>
            <td style="padding:5px 0 5px 0;">
                @Html.TextBox("start_date", Convert.ToDateTime(strat).ToString("yyyy/MM/dd"), new { style = "width:80px" })
                @Html.TextBox("start_time", Convert.ToDateTime(strat).ToString("HH:mm"), new { style = "width:50px" })
                @Html.Label("lab", " ~ ")
                @Html.TextBox("end_date", Convert.ToDateTime(end).ToString("yyyy/MM/dd"), new { style = "width:80px" })
                @Html.TextBox("end_time", Convert.ToDateTime(end).ToString("HH:mm"), new { style = "width:50px" })
                @*@WebTool.setDateTime("start_date", "start_time")
                    @WebTool.setDateTime("end_date", "end_time")*@
                @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "start_date", "start_time", false)
                @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "end_date", "end_time", false)
                <input type="button" value="查詢" onclick="window.location.href='Assessment_List?starttime=' + $('#start_date').val() + ' ' + $('#start_time').val() + '&endtime=' + $('#end_date').val() + ' ' + $('#end_time').val()" />
                <input type="button" value="新增評估" onclick="@Java_funcion.pup_window("Assess", 900, 500, "0")" />
                <label><input type="radio" id="Artery" name="ass_type" checked="checked" onclick=" $('.2').fadeOut(0); $('.0').fadeOut(0); $('.1').fadeIn(0);" />動靜脈類管路</label>
                <label><input type="radio" id="Tracheostomy" name="ass_type" onclick=" $('.1').fadeOut(0); $('.0').fadeOut(0); $('.2').fadeIn(0);" />非縫線類管路</label>
                <label><input type="radio" id="Other" name="ass_type" onclick=" $('.2').fadeOut(0); $('.1').fadeOut(0); $('.0').fadeIn(0);" />有縫線類管路</label>
            </td>
        </tr>
        <tr class="1">
            <td style="padding:5px 0 5px 0;">
                <div class="dataHeader">
                    <table border="0" cellpadding="4" cellspacing="1" style="width:100%;font-size:14px;">
                        <tr>
                            <td style="width:8%;">評估管路</td>
                            <td style="width:13%;">日期時間</td>
                            <td style="width:5%;">固定位置</td>
                            <td style="width:5%;">固定妥當</td>
                            <td>針眼及注射部位周圍皮膚狀況</td>
                            <td style="width:5%;">管路暢通</td>
                            <td style="width:5%;">Bundle<br />Care</td>
                            <td style="width:6%;">評估者</td>
                            <td style="width:11%;"></td>
                        </tr>
                    </table>
                </div>
                <div class="dataArea" style="height:400px;">
                    @if (dt_Artery != null && dt_Artery.Rows.Count > 0)
                    {
                        <table border="0" cellpadding="4" cellspacing="1" width="100%" style="width:100%;padding-bottom:10px;font-size:14px;">
                            @foreach (DataRow r in dt_Artery.Rows)
                            {
                                <tr>
                                    <td style="width:8%;">@r["TYPE_NAME"]</td>
                                    <td style="width:13%;">@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")</td>
                                    <td style="width:5%;">@r["TUBE_POSITION"]</td>
                                    <td style="width:5%;">@r["FIX"]</td>
                                    @{
                                        int status_count = 0;
                                        string[] status_list = r["SKIN_STATUS"].ToString().Split(',');
                                        string[] range_list = r["RANGE"].ToString().Split(',');
                                        string[] exudate_amount_list = r["EXUDATE_AMOUNT"].ToString().Split('|');
                                        string[] exudate_type_list = r["EXUDATE_TYPE"].ToString().Split('|');
                                        string content = "";
                                        for (int i = 0; i < range_list.Length; i++)
                                        {
                                            if (range_list[i] != "")
                                            {
                                                content += status_list[status_count] + range_list[i] + " cm、";
                                                status_count++;
                                            }
                                        }

                                        for (int i = 0; i < exudate_amount_list.Length; i++)
                                        {
                                            if (exudate_amount_list[i] != "")
                                            {
                                                content += status_list[status_count] + ":滲出液" + exudate_amount_list[i];
                                                if (exudate_type_list[i] != "")
                                                {
                                                    content += "呈";
                                                    if (exudate_type_list[i].Split(',').GetValue(exudate_type_list[i].Split(',').Length - 1).ToString() != "")
                                                    {
                                                        content += exudate_type_list[i] + "、";
                                                    }
                                                    else
                                                    {
                                                        content += exudate_type_list[i].Substring(0, exudate_type_list[i].Length - 1) + "、";
                                                    }
                                                }
                                                else
                                                {
                                                    content += "、";
                                                }
                                                status_count++;
                                            }
                                        }
                                        if (status_count == 0)
                                        {
                                            content += status_list[status_count];
                                        }
                                        else
                                        {
                                            content = content.Substring(0, content.Length - 1);
                                        }
                                    }
                                    <td>@content</td>
                                    <td style="width:5%;">@r["UNIMPEDED"]</td>
                                    <td id="@r["ASSESS_ID"]" bundle-care-type="@r["BUNDLE_CARE"]" class="bc_table" style="width:5%;text-align:center;" title="" data-html="true" record-time="@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")"></td>
                                    @*<td id="@r["ASSESS_ID"]" class="11bc_table" style="width:5%;" title="@r["BUNDLE_TEXT"]" data-html="true"></td>*@
                                    <td style="width:6%;">@r["CREATNAME"]</td>
                                    <td style="width:11%;">
                                        @if (r["CREATNO"].ToString() == ViewBag.userno)
                                        {
                                            del_func = "if(confirm('確認刪除?')) { window.location.href = 'Del_Assess?tablename=NIS_TUBE_ASSESS_ARTERY_DATA&id=" + r["ASSESS_ID"] + "'; }";
                                            <input type="button" value="更新" onclick="@Java_funcion.pup_window("Assess?id=" + r["ASSESS_ID"] + "&row=" + r["TUBEROW"] + "&type=1", 900, 500, "0");" />
                                            <input type="button" value="刪除" onclick="@del_func" />
                                        }
                                    </td>
                                </tr>
                            }
                        </table>
                    }
                </div>
            </td>
        </tr>
        <tr class="2" style="display:none;">
            <td style="padding:5px 0 5px 0;">
                <div class="dataHeader">
                    <table border="0" cellpadding="4" cellspacing="1" style="width:100%;font-size:14px;">
                        <tr>
                            <td style="width:8%;">評估管路</td>
                            <td style="width:13%;">日期時間</td>
                            <td style="width:5%;">固定位置</td>
                            <td style="width:5%;">固定妥當</td>
                            <td>固定方式</td>
                            <td style="width:13%;">固定cuff</td>
                            <td style="width:5%;">Bundle<br />Care</td>
                            <td style="width:8%;">評估者</td>
                            <td style="width:11%;"></td>
                        </tr>
                    </table>
                </div>
                <div class="dataArea" style="height:400px;">
                    @if (dt_Tracheostomy != null && dt_Tracheostomy.Rows.Count > 0)
                    {
                        <table border="0" cellpadding="4" cellspacing="1" width="100%" style="width:100%;padding-bottom:10px;font-size:14px;">
                            @foreach (DataRow r in dt_Tracheostomy.Rows)
                            {
                                <tr>
                                    <td style="width:8%;">@r["TYPE_NAME"]</td>
                                    <td style="width:13%;">@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")</td>
                                    <td style="width:5%;">@r["TUBE_POSITION"]</td>
                                    <td style="width:5%;">@r["FIX"]</td>
                                    <td>
                                        @{
                                            if (r["FIXATION"].ToString() != "")
                                            {
                                                string[] d_fixation = r["FIXATION"].ToString().Split(',');
                                                string fixation = "";
                                                if (d_fixation[d_fixation.Length - 1] == "")
                                                { fixation = r["FIXATION"].ToString().Substring(0, r["FIXATION"].ToString().Length - 1); }
                                                else
                                                { fixation = r["FIXATION"].ToString().Replace("其他,", "其他："); }
                                                @fixation

                                            }

                                        }
                                    </td>
                                    <td style="width:13%;">
                                        @if (r["FIX_CUFF_1"].ToString() != "")
                                        {
                                            @:@Convert.ToDouble(r["FIX_CUFF_1"]) mmHg<br />
                                        }
                                        @if (r["FIX_CUFF_2"].ToString() != "")
                                        {
                                            @:@Convert.ToDouble(r["FIX_CUFF_2"]) mL
                                        }
                                        @if (r["FIX_CUFF_3"].ToString() != "")
                                        {
                                            @:@Convert.ToDouble(r["FIX_CUFF_3"]) cmH₂O
                                        }


                                    </td>
                                    <td id="@r["ASSESS_ID"]" bundle-care-type="@r["BUNDLE_CARE"]" class="bc_table" style="width: 5%; text-align: center;" title="" data-html="true" record-time="@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")"></td>
                                    <td style="width:8%;">@r["CREATNAME"]</td>
                                    <td style="width:11%;">
                                        @if (r["CREATNO"].ToString() == ViewBag.userno)
                                        {
                                            del_func = "if(confirm('確認刪除?')) { window.location.href = 'Del_Assess?tablename=NIS_TUBE_ASSESS_TRACH_DATA&id=" + r["ASSESS_ID"] + "'; }";
                                            <input type="button" value="更新" onclick="@Java_funcion.pup_window("Assess?id=" + r["ASSESS_ID"] + "&row=" + r["TUBEROW"] + "&type=2", 900, 500, "0")    ;" />
                                            <input type="button" value="刪除" onclick="@del_func" />
                                        }
                                    </td>
                                </tr>
                            }
                        </table>
                    }
                </div>
            </td>
        </tr>
        <tr class="0" style="display:none;">
            <td style="padding:5px 0 5px 0;">
                <div class="dataHeader">
                    <table border="0" cellpadding="4" cellspacing="1" style="width:100%;font-size:14px;">
                        <tr>
                            <td rowspan="2" style="width:8%;">評估管路</td>
                            <td rowspan="2" style="width:13%;">日期時間</td>
                            <td rowspan="2" style="width:5%;">固定<br />位置</td>
                            <td rowspan="2" style="width:5%;">固定<br />妥當</td>
                            <td rowspan="2">管路周圍<br />皮膚狀況</td>
                            <td rowspan="2" style="width:10%;">引流功能</td>
                            <td colspan="3" style="height:20px;width:18%">引流液性狀</td>
                            <td rowspan="2" style="width:5%;">Bundle<br />Care</td>
                            <td rowspan="2" style="width:6%;">評估者</td>
                            <td rowspan="2" style="width:11%;"></td>
                        </tr>
                        <tr>
                            <td>顏色</td>
                            <td>氣味</td>
                            <td>性質</td>
                        </tr>
                    </table>
                </div>
                <div class="dataArea" style="height:400px;">
                    @if (dt_Other != null && dt_Other.Rows.Count > 0)
                    {
                        <table border="0" cellpadding="4" cellspacing="1" width="100%" style="width:100%;padding-bottom:10px;font-size:14px;">
                            @foreach (DataRow r in dt_Other.Rows)
                            {
                                <tr>
                                    <td style="width:8%;">@r["TYPE_NAME"]</td>
                                    <td style="width:13%;">@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")</td>
                                    <td style="width:5%;">@r["TUBE_POSITION"]</td>
                                    <td style="width:5%;">@r["FIX"]</td>
                                    @{
                                        int status_count = 0;
                                        string[] status_list = r["SKIN_STATUS"].ToString().Split(',');
                                        string[] range_list = r["RANGE"].ToString().Split(',');
                                        string[] exudate_amount_list = r["EXUDATE_AMOUNT"].ToString().Split('|');
                                        string[] exudate_type_list = r["EXUDATE_TYPE"].ToString().Split('|');
                                        string content = "";
                                        for (int i = 0; i < range_list.Length; i++)
                                        {
                                            if (range_list[i] != "")
                                            {
                                                content += status_list[status_count] + range_list[i] + " cm、";
                                                status_count++;
                                            }
                                        }

                                        for (int i = 0; i < exudate_amount_list.Length; i++)
                                        {
                                            if (exudate_amount_list[i] != "")
                                            {
                                                content += status_list[status_count] + ":滲出液" + exudate_amount_list[i];
                                                if (exudate_type_list[i] != "")
                                                {
                                                    content += "呈";
                                                    if (exudate_type_list[i].Split(',').GetValue(exudate_type_list[i].Split(',').Length - 1).ToString() != "")
                                                    {
                                                        content += exudate_type_list[i] + "、";
                                                    }
                                                    else
                                                    {
                                                        content += exudate_type_list[i].Substring(0, exudate_type_list[i].Length - 1) + "、";
                                                    }
                                                }
                                                else
                                                {
                                                    content += "、";
                                                }
                                                status_count++;
                                            }
                                        }
                                        if (status_count == 0)
                                        {
                                            content += status_list[status_count];
                                        }
                                        else
                                        {
                                            content = content.Substring(0, content.Length - 1);
                                        }
                                    }
                                    <td>@content</td>
                                    <td style="width:10%;">@r["DRAINAGE"]</td>
                                    <td style="width:6%;">
                                        @if (r["COLORID"].ToString() != "-1")
                                        {@r["COLORNAME"]@r["COLOROTHER"]}
                                    </td>
                                    <td style="width:6%;">
                                        @if (r["TASTEID"].ToString() != "-1")
                                        {@r["TASTENAME"]@r["TASTEOTHER"]}
                                    </td>
                                    <td style="width:6%;">
                                        @if (r["NATUREID"].ToString() != "-1")
                                        {@r["NATURENAME"]@r["NATUREOTHER"]}
                                    </td>
                                    <td id="@r["ASSESS_ID"]" bundle-care-type="@r["BUNDLE_CARE"]" class="bc_table" style="width: 5%; text-align: center;" title="" data-html="true" record-time="@Convert.ToDateTime(r["RECORDTIME"]).ToString("yyyy/MM/dd HH:mm")" ></td>
                                    <td style="width:6%;">@r["CREATNAME"]</td>
                                    <td style="width:11%;">
                                        @if (r["CREATNO"].ToString() == ViewBag.userno)
                                        {
                                            del_func = "if(confirm('確認刪除?')) { window.location.href = 'Del_Assess?tablename=NIS_TUBE_ASSESS_OTHER_DATA&id=" + r["ASSESS_ID"] + "'; }";
                                            <input type="button" value="更新" onclick="@Java_funcion.pup_window("Assess?id=" + r["ASSESS_ID"] + "&row=" + r["TUBEROW"] + "&type=0", 900, 500, "0")    ;" />
                                            <input type="button" value="刪除" onclick="@del_func" />
                                        }
                                    </td>
                                </tr>
                            }
                        </table>
                    }
                </div>
            </td>
        </tr>
    </table>
</div>