@{
    Layout = "~/Views/Layout/FormLayout.cshtml";
    string title = "抽痰紀錄單";
    string StartDate = ViewBag.StartDate;
    string EndDate = ViewBag.EndDate;
    string feeno = ViewBag.FeeNo;
    string RootDocument = ViewBag.RootDocument;
    //日期選擇器，鎖定時間
    NIS.Data.PatientInfo pf = (NIS.Data.PatientInfo)Session["PatInfo"];
    NIS.Data.Complement_List complement_List = (NIS.Data.Complement_List)Session["Complement_List"];
}
<style type="text/css">
    #module_define {
        padding: 5px 0px 3px 0px;
        text-align: left;
        background-color: #d5d5f7 !important;
        width: 100%;
        border-radius: 10px !important;
        font-size: 28px;
        font-weight: 800;
        border: 0 !important;
        border-right: 0 !important;
        border-bottom: 0 !important;
        font-family: Arial, EUDC !important;
    }
    .funcArea {
        margin: 0.5rem !important;
        font-size: 18px !important;
    }
    .fun_btn {
        font-size: 17px !important;
        box-shadow: none !important;
        border-radius: 10px !important;
        border: 0 !important;
        color: white !important;
        padding: 4px 4px 3px 3px !important;
    }
    .dataHeader td {
        font-weight: bold;
        margin: 1px 1px 1px 1px;
        background-color: #cfe1eb;
        text-align: center;
        vertical-align: middle;
        height: 26px;
    }
    .dataHeader {
        border-radius: 10px !important;
        margin-right: 15px !important;
    }
    .funcArea table {
        font-family: Arial, EUDC;
    }
    .dataArea {
        border: 0 !important;
    }
        .dataArea td {
            border-bottom: 0 !important;
        }
</style>

<script type="text/javascript">
    $(document).ready(function () {
        DataQuery();
    });

    function setGridColor() {
        //格行換色
        $('.dataArea tr:odd').css('background', 'rgb(211 237 249)');
        $('.dataArea tr:even').css('background', 'rgb(231, 238, 245)');
    }
    //撈資料
    function DataQuery() {
        loop_windows("open_cover");

        $.ajax({
            type: "POST",
            url: '@Url.Content("~/MucusSuction/ListData")',
            dataType: 'html',
            data: { Pstart: $('#StartDate').val(), Pend: $('#EndDate').val() },
            cache: false,
            success: function (response) {
                $('.dataAreaX').html(response);
            }, complete: function () {
                loop_windows("close_cover");
            }
        });
    }
    //刪除
    function DelData(serial) {
        loop_windows("open_cover");
        $.ajax({
            type: "POST",
            url: '@Url.Content("~/MucusSuction/Delete")',
            dataType: 'Json',
            data: { id: serial },
            cache: false,
            success: function (response) {
                if (response > 0) {
                    //alert("刪除成功");
                    DataQuery();
                } else {
                    alert("刪除失敗");
                }
            }, complete: function () {
                loop_windows("close_cover");
            }
        });
    }

    function PrintPDF() {

        window.open("@(RootDocument)/Print/GetPDF?url=@(RootDocument)/Delirium/PrintList?feeno=@(feeno)&StartDate=" + $("#StartDate").val() + "&EndDate=" + $("#EndDate").val() + "&filename=譫妄評估總表");
    }
</script>
<div class="funcArea">
    <table border="0" cellpadding="0" cellspacing="0" style="width:100%">
        <tr>
            <td>
                <div id="module_define"> <label>@title</label></div>
            </td>
        </tr>
        <tr>
            <td style="width:100%;text-align:center;padding:0 0 5px 0;">
                <div class="funcArea">
                    日期：
                    @Html.TextBox("StartDate", pf.InDate.ToString("yyyy/MM/dd"), new { @OnBlur = "", @class = "form-control input-sm", style = "width:60px;display:inline;" })
                    @Html.Label("lab", " ~ ")
                    @Html.TextBox("EndDate", DateTime.Now.ToUniversalTime().AddHours(8).ToString("yyyy/MM/dd"), new { @OnBlur = "", @class = "form-control input-sm", style = "width:60px;display:inline;" })
                    @*@WebTool.setDateTime("StartDate","","","","", "")
                        @WebTool.setDateTime("EndDate","","","","","")*@
                    @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "StartDate", "", false)
                    @WebTool.complementList_Status(complement_List.Status, pf.InDate.ToString("MM/dd/yyyy HH:mm"), @DateTime.Now.ToString("yyyy/MM/dd"), "EndDate", "", false)
                    <input type="button" class="fun_btn" style="width: 80px; margin-left: 1rem; background-color: #3c7ec3; " value="查詢" onclick="DataQuery();" />
                    <input type="button" class="fun_btn" style="width: 90px; background-color: #42b55b;" value="新增評估" onclick="window.location.href = '../MucusSuction/Insert'" />
                    @*<input type="button" style="width:80px;" value="列印" onclick="PrintPDF();" />*@
                </div>
            </td>
        </tr>
        <tr>
            <td style="padding:5px 0 5px 0;">
                <div class="dataHeader">
                    <table border="0" cellpadding="4" cellspacing="1" style="width:100%;font-size:18px;">
                        <tr>
                            <td rowspan="2" style="width: 16%;">編輯</td>
                            <td rowspan="2" style="width: 14%; ">紀錄時間</td>
                            <td rowspan="2" style="width: 20%; ">抽痰起~迄時間</td>
                            <td rowspan="2" style="width: 9%; ">次數</td>
                            <td colspan="2" style="width: 9%;">痰液量</td>
                            <td rowspan="2" style="width: 9%;">顏色</td>
                            <td rowspan="2" style="width: 9%;">性質</td>
                            <td rowspan="2" style="width: 14%;">紀錄者</td>
                        </tr>                   
                    </table>
                </div>
                <div class="dataAreaX" style="margin-top: 0.1rem; font-size: 16px;">
                </div>
            </td>
        </tr>
    </table>
</div>